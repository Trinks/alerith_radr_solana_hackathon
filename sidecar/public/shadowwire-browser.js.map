{
  "version": 3,
  "sources": ["../node_modules/@radr/shadowwire/src/constants.ts", "../node_modules/@radr/shadowwire/src/tokens.ts", "../node_modules/base64-js/index.js", "../node_modules/ieee754/index.js", "../node_modules/buffer/index.js", "../node_modules/@noble/hashes/src/crypto.ts", "../node_modules/@noble/hashes/src/utils.ts", "../node_modules/@noble/hashes/src/_md.ts", "../node_modules/@noble/hashes/src/_u64.ts", "../node_modules/@noble/hashes/src/sha2.ts", "../node_modules/@noble/curves/src/utils.ts", "../node_modules/@noble/curves/src/abstract/modular.ts", "../node_modules/@noble/curves/src/abstract/curve.ts", "../node_modules/@noble/curves/src/abstract/edwards.ts", "../node_modules/@noble/curves/src/abstract/hash-to-curve.ts", "../node_modules/@noble/curves/src/abstract/montgomery.ts", "../node_modules/@noble/curves/src/ed25519.ts", "../node_modules/bn.js/lib/bn.js", "../node_modules/safe-buffer/index.js", "../node_modules/base-x/src/index.js", "../node_modules/@solana/web3.js/node_modules/bs58/index.js", "../node_modules/@noble/hashes/src/sha256.ts", "../node_modules/borsh/node_modules/bs58/index.js", "../node_modules/text-encoding-utf-8/lib/encoding.lib.js", "../node_modules/borsh/lib/index.js", "../node_modules/@solana/buffer-layout/src/Layout.ts", "../node_modules/@solana/errors/src/codes.ts", "../node_modules/@solana/errors/src/context.ts", "../node_modules/@solana/errors/src/messages.ts", "../node_modules/@solana/errors/src/message-formatter.ts", "../node_modules/@solana/errors/src/error.ts", "../node_modules/@solana/errors/src/stack-trace.ts", "../node_modules/@solana/errors/src/rpc-enum-errors.ts", "../node_modules/@solana/errors/src/instruction-error.ts", "../node_modules/@solana/errors/src/transaction-error.ts", "../node_modules/@solana/errors/src/json-rpc-error.ts", "../node_modules/@solana/codecs-core/src/bytes.ts", "../node_modules/@solana/codecs-core/src/codec.ts", "../node_modules/@solana/codecs-core/src/combine-codec.ts", "../node_modules/@solana/codecs-core/src/add-codec-sentinel.ts", "../node_modules/@solana/codecs-core/src/assertions.ts", "../node_modules/@solana/codecs-core/src/add-codec-size-prefix.ts", "../node_modules/@solana/codecs-core/src/fix-codec-size.ts", "../node_modules/@solana/codecs-core/src/offset-codec.ts", "../node_modules/@solana/codecs-core/src/resize-codec.ts", "../node_modules/@solana/codecs-core/src/pad-codec.ts", "../node_modules/@solana/codecs-core/src/reverse-codec.ts", "../node_modules/@solana/codecs-core/src/transform-codec.ts", "../node_modules/@solana/codecs-numbers/src/assertions.ts", "../node_modules/@solana/codecs-numbers/src/common.ts", "../node_modules/@solana/codecs-numbers/src/utils.ts", "../node_modules/@solana/codecs-numbers/src/f32.ts", "../node_modules/@solana/codecs-numbers/src/f64.ts", "../node_modules/@solana/codecs-numbers/src/i128.ts", "../node_modules/@solana/codecs-numbers/src/i16.ts", "../node_modules/@solana/codecs-numbers/src/i32.ts", "../node_modules/@solana/codecs-numbers/src/i64.ts", "../node_modules/@solana/codecs-numbers/src/i8.ts", "../node_modules/@solana/codecs-numbers/src/short-u16.ts", "../node_modules/@solana/codecs-numbers/src/u128.ts", "../node_modules/@solana/codecs-numbers/src/u16.ts", "../node_modules/@solana/codecs-numbers/src/u32.ts", "../node_modules/@solana/codecs-numbers/src/u64.ts", "../node_modules/@solana/codecs-numbers/src/u8.ts", "../node_modules/superstruct/src/error.ts", "../node_modules/superstruct/src/utils.ts", "../node_modules/superstruct/src/struct.ts", "../node_modules/superstruct/src/structs/utilities.ts", "../node_modules/superstruct/src/structs/types.ts", "../node_modules/superstruct/src/structs/coercions.ts", "../node_modules/superstruct/src/structs/refinements.ts", "../node_modules/uuid/dist/esm-browser/rng.js", "../node_modules/uuid/dist/esm-browser/regex.js", "../node_modules/uuid/dist/esm-browser/validate.js", "../node_modules/uuid/dist/esm-browser/stringify.js", "../node_modules/uuid/dist/esm-browser/v1.js", "../node_modules/uuid/dist/esm-browser/parse.js", "../node_modules/uuid/dist/esm-browser/v35.js", "../node_modules/uuid/dist/esm-browser/md5.js", "../node_modules/uuid/dist/esm-browser/v3.js", "../node_modules/uuid/dist/esm-browser/v4.js", "../node_modules/uuid/dist/esm-browser/sha1.js", "../node_modules/uuid/dist/esm-browser/v5.js", "../node_modules/uuid/dist/esm-browser/nil.js", "../node_modules/uuid/dist/esm-browser/version.js", "../node_modules/uuid/dist/esm-browser/index.js", "../node_modules/jayson/lib/generateRequest.js", "../node_modules/jayson/lib/client/browser/index.js", "../node_modules/eventemitter3/index.js", "../node_modules/rpc-websockets/src/lib/client/websocket.browser.ts", "../node_modules/rpc-websockets/src/lib/utils.ts", "../node_modules/rpc-websockets/src/lib/client.ts", "../node_modules/rpc-websockets/src/index.browser.ts", "../node_modules/@noble/hashes/src/sha3.ts", "../node_modules/@noble/hashes/src/hmac.ts", "../node_modules/@noble/curves/src/abstract/weierstrass.ts", "../node_modules/@noble/curves/src/_shortw_utils.ts", "../node_modules/@noble/curves/src/secp256k1.ts", "../node_modules/@solana/web3.js/src/utils/ed25519.ts", "../node_modules/@solana/web3.js/src/utils/to-buffer.ts", "../node_modules/@solana/web3.js/src/utils/borsh-schema.ts", "../node_modules/@solana/web3.js/src/publickey.ts", "../node_modules/@solana/web3.js/src/account.ts", "../node_modules/@solana/web3.js/src/bpf-loader-deprecated.ts", "../node_modules/@solana/web3.js/src/transaction/constants.ts", "../node_modules/@solana/web3.js/src/transaction/expiry-custom-errors.ts", "../node_modules/@solana/web3.js/src/message/account-keys.ts", "../node_modules/@solana/web3.js/src/layout.ts", "../node_modules/@solana/web3.js/src/utils/shortvec-encoding.ts", "../node_modules/@solana/web3.js/src/utils/assert.ts", "../node_modules/@solana/web3.js/src/message/compiled-keys.ts", "../node_modules/@solana/web3.js/src/utils/guarded-array-utils.ts", "../node_modules/@solana/web3.js/src/message/legacy.ts", "../node_modules/@solana/web3.js/src/message/v0.ts", "../node_modules/@solana/web3.js/src/message/versioned.ts", "../node_modules/@solana/web3.js/src/transaction/legacy.ts", "../node_modules/@solana/web3.js/src/transaction/message.ts", "../node_modules/@solana/web3.js/src/transaction/versioned.ts", "../node_modules/@solana/web3.js/src/timing.ts", "../node_modules/@solana/web3.js/src/sysvar.ts", "../node_modules/@solana/web3.js/src/errors.ts", "../node_modules/@solana/web3.js/src/utils/send-and-confirm-transaction.ts", "../node_modules/@solana/web3.js/src/utils/sleep.ts", "../node_modules/@solana/web3.js/src/instruction.ts", "../node_modules/@solana/web3.js/src/fee-calculator.ts", "../node_modules/@solana/web3.js/src/nonce-account.ts", "../node_modules/@solana/web3.js/src/utils/bigint.ts", "../node_modules/@solana/web3.js/src/programs/system.ts", "../node_modules/@solana/web3.js/src/loader.ts", "../node_modules/@solana/web3.js/src/bpf-loader.ts", "../node_modules/@solana/web3.js/node_modules/.pnpm/fast-stable-stringify@1.0.0/node_modules/fast-stable-stringify/index.js", "../node_modules/@solana/web3.js/src/epoch-schedule.ts", "../node_modules/@solana/web3.js/src/__forks__/browser/fetch-impl.ts", "../node_modules/@solana/web3.js/src/rpc-websocket.ts", "../node_modules/@solana/web3.js/src/account-data.ts", "../node_modules/@solana/web3.js/src/programs/address-lookup-table/state.ts", "../node_modules/@solana/web3.js/src/utils/makeWebsocketUrl.ts", "../node_modules/@solana/web3.js/src/connection.ts", "../node_modules/@solana/web3.js/src/keypair.ts", "../node_modules/@solana/web3.js/src/programs/address-lookup-table/index.ts", "../node_modules/@solana/web3.js/src/programs/compute-budget.ts", "../node_modules/@solana/web3.js/src/programs/ed25519.ts", "../node_modules/@solana/web3.js/src/utils/secp256k1.ts", "../node_modules/@solana/web3.js/src/programs/secp256k1.ts", "../node_modules/@solana/web3.js/src/programs/stake.ts", "../node_modules/@solana/web3.js/src/programs/vote.ts", "../node_modules/@solana/web3.js/src/validator-info.ts", "../node_modules/@solana/web3.js/src/vote-account.ts", "../node_modules/@solana/web3.js/src/utils/cluster.ts", "../node_modules/@solana/web3.js/src/utils/send-and-confirm-raw-transaction.ts", "../node_modules/@solana/web3.js/src/index.ts", "../node_modules/@radr/shadowwire/src/errors.ts", "../node_modules/@radr/shadowwire/src/utils.ts", "../node_modules/@radr/shadowwire/wasm/settler_wasm.js", "../node_modules/@radr/shadowwire/src/zkProofs.ts", "../node_modules/bs58/node_modules/base-x/src/index.js", "../node_modules/bs58/index.js", "../node_modules/@radr/shadowwire/src/auth.ts", "../node_modules/@radr/shadowwire/src/client.ts", "../node_modules/@radr/shadowwire/src/types.ts", "../node_modules/@radr/shadowwire/src/index.ts", "../scripts/browser-sdk-entry.js"],
  "sourcesContent": [null, null, "'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n", "/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n", "/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n", "/**\n * Internal webcrypto alias.\n * We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n * See utils.ts for details.\n * @module\n */\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto: any =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n", "/**\n * Utilities for hex, bytes, CSPRNG.\n * @module\n */\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n/** Checks if something is Uint8Array. Be careful: nodejs Buffer will return true. */\nexport function isBytes(a: unknown): a is Uint8Array {\n  return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n\n/** Asserts something is positive integer. */\nexport function anumber(n: number): void {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error('positive integer expected, got ' + n);\n}\n\n/** Asserts something is Uint8Array. */\nexport function abytes(b: Uint8Array | undefined, ...lengths: number[]): void {\n  if (!isBytes(b)) throw new Error('Uint8Array expected');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);\n}\n\n/** Asserts something is hash */\nexport function ahash(h: IHash): void {\n  if (typeof h !== 'function' || typeof h.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.createHasher');\n  anumber(h.outputLen);\n  anumber(h.blockLen);\n}\n\n/** Asserts a hash instance has not been destroyed / finished */\nexport function aexists(instance: any, checkFinished = true): void {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\n\n/** Asserts output is properly-sized byte array */\nexport function aoutput(out: any, instance: any): void {\n  abytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error('digestInto() expects output buffer of length at least ' + min);\n  }\n}\n\n/** Generic type encompassing 8/16/32-byte arrays - but not 64-byte. */\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\n/** Cast u8 / u16 / u32 to u8. */\nexport function u8(arr: TypedArray): Uint8Array {\n  return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n\n/** Cast u8 / u16 / u32 to u32. */\nexport function u32(arr: TypedArray): Uint32Array {\n  return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n}\n\n/** Zeroize a byte array. Warning: JS provides no guarantees. */\nexport function clean(...arrays: TypedArray[]): void {\n  for (let i = 0; i < arrays.length; i++) {\n    arrays[i].fill(0);\n  }\n}\n\n/** Create DataView of an array for easy byte-level manipulation. */\nexport function createView(arr: TypedArray): DataView {\n  return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n\n/** The rotate right (circular right shift) operation for uint32 */\nexport function rotr(word: number, shift: number): number {\n  return (word << (32 - shift)) | (word >>> shift);\n}\n\n/** The rotate left (circular left shift) operation for uint32 */\nexport function rotl(word: number, shift: number): number {\n  return (word << shift) | ((word >>> (32 - shift)) >>> 0);\n}\n\n/** Is current platform little-endian? Most are. Big-Endian platform: IBM */\nexport const isLE: boolean = /* @__PURE__ */ (() =>\n  new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();\n\n/** The byte swap operation for uint32 */\nexport function byteSwap(word: number): number {\n  return (\n    ((word << 24) & 0xff000000) |\n    ((word << 8) & 0xff0000) |\n    ((word >>> 8) & 0xff00) |\n    ((word >>> 24) & 0xff)\n  );\n}\n/** Conditionally byte swap if on a big-endian platform */\nexport const swap8IfBE: (n: number) => number = isLE\n  ? (n: number) => n\n  : (n: number) => byteSwap(n);\n\n/** @deprecated */\nexport const byteSwapIfBE: typeof swap8IfBE = swap8IfBE;\n/** In place byte swap for Uint32Array */\nexport function byteSwap32(arr: Uint32Array): Uint32Array {\n  for (let i = 0; i < arr.length; i++) {\n    arr[i] = byteSwap(arr[i]);\n  }\n  return arr;\n}\n\nexport const swap32IfBE: (u: Uint32Array) => Uint32Array = isLE\n  ? (u: Uint32Array) => u\n  : byteSwap32;\n\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin: boolean = /* @__PURE__ */ (() =>\n  // @ts-ignore\n  typeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function')();\n\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  abytes(bytes);\n  // @ts-ignore\n  if (hasHexBuiltin) return bytes.toHex();\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 } as const;\nfunction asciiToBase16(ch: number): number | undefined {\n  if (ch >= asciis._0 && ch <= asciis._9) return ch - asciis._0; // '2' => 50-48\n  if (ch >= asciis.A && ch <= asciis.F) return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n  if (ch >= asciis.a && ch <= asciis.f) return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n  return;\n}\n\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // @ts-ignore\n  if (hasHexBuiltin) return Uint8Array.fromHex(hex);\n  const hl = hex.length;\n  const al = hl / 2;\n  if (hl % 2) throw new Error('hex string expected, got unpadded hex of length ' + hl);\n  const array = new Uint8Array(al);\n  for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n    const n1 = asciiToBase16(hex.charCodeAt(hi));\n    const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n    if (n1 === undefined || n2 === undefined) {\n      const char = hex[hi] + hex[hi + 1];\n      throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n    }\n    array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n  }\n  return array;\n}\n\n/**\n * There is no setImmediate in browser and setTimeout is slow.\n * Call of async fn will return Promise, which will be fullfiled only on\n * next scheduler queue processing step and this is exactly what we need.\n */\nexport const nextTick = async (): Promise<void> => {};\n\n/** Returns control to thread each 'tick' ms to avoid blocking. */\nexport async function asyncLoop(\n  iters: number,\n  tick: number,\n  cb: (i: number) => void\n): Promise<void> {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols, but ts doesn't see them: https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\ndeclare const TextDecoder: any;\n\n/**\n * Converts string to bytes using UTF8 encoding.\n * @example utf8ToBytes('abc') // Uint8Array.from([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error('string expected');\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\nexport function bytesToUtf8(bytes: Uint8Array): string {\n  return new TextDecoder().decode(bytes);\n}\n\n/** Accepted input of hash functions. Strings are converted to byte arrays. */\nexport type Input = string | Uint8Array;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  abytes(data);\n  return data;\n}\n\n/** KDFs can accept string or Uint8Array for user convenience. */\nexport type KDFInput = string | Uint8Array;\n/**\n * Helper for KDFs: consumes uint8array or string.\n * When string is passed, does utf8 decoding, using TextDecoder.\n */\nexport function kdfInputToBytes(data: KDFInput): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  abytes(data);\n  return data;\n}\n\n/** Copies several Uint8Arrays into one. */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  let sum = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    abytes(a);\n    sum += a.length;\n  }\n  const res = new Uint8Array(sum);\n  for (let i = 0, pad = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    res.set(a, pad);\n    pad += a.length;\n  }\n  return res;\n}\n\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && {}.toString.call(opts) !== '[object Object]')\n    throw new Error('options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\n/** Hash interface. */\nexport type IHash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\n\n/** For runtime check if class implements interface */\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  abstract clone(): T;\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\n/** Hash function */\nexport type CHash = ReturnType<typeof createHasher>;\n/** Hash function with output */\nexport type CHashO = ReturnType<typeof createOptHasher>;\n/** XOF with output */\nexport type CHashXO = ReturnType<typeof createXOFer>;\n\n/** Wraps hash function, creating an interface on top of it */\nexport function createHasher<T extends Hash<T>>(\n  hashCons: () => Hash<T>\n): {\n  (msg: Input): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(): Hash<T>;\n} {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function createOptHasher<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n): {\n  (msg: Input, opts?: T): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(opts?: T): Hash<H>;\n} {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts?: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function createXOFer<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n): {\n  (msg: Input, opts?: T): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(opts?: T): HashXOF<H>;\n} {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts?: T) => hashCons(opts);\n  return hashC;\n}\nexport const wrapConstructor: typeof createHasher = createHasher;\nexport const wrapConstructorWithOpts: typeof createOptHasher = createOptHasher;\nexport const wrapXOFConstructorWithOpts: typeof createXOFer = createXOFer;\n\n/** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  // Legacy Node.js compatibility\n  if (crypto && typeof crypto.randomBytes === 'function') {\n    return Uint8Array.from(crypto.randomBytes(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n", "/**\n * Internal Merkle-Damgard hash utils.\n * @module\n */\nimport { type Input, Hash, abytes, aexists, aoutput, clean, createView, toBytes } from './utils.ts';\n\n/** Polyfill for Safari 14. https://caniuse.com/mdn-javascript_builtins_dataview_setbiguint64 */\nexport function setBigUint64(\n  view: DataView,\n  byteOffset: number,\n  value: bigint,\n  isLE: boolean\n): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n/** Choice: a ? b : c */\nexport function Chi(a: number, b: number, c: number): number {\n  return (a & b) ^ (~a & c);\n}\n\n/** Majority function, true if any two inputs is true. */\nexport function Maj(a: number, b: number, c: number): number {\n  return (a & b) ^ (a & c) ^ (b & c);\n}\n\n/**\n * Merkle-Damgard hash construction base class.\n * Could be used to create MD5, RIPEMD, SHA1, SHA2.\n */\nexport abstract class HashMD<T extends HashMD<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n\n  readonly blockLen: number;\n  readonly outputLen: number;\n  readonly padOffset: number;\n  readonly isLE: boolean;\n\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(blockLen: number, outputLen: number, padOffset: number, isLE: boolean) {\n    super();\n    this.blockLen = blockLen;\n    this.outputLen = outputLen;\n    this.padOffset = padOffset;\n    this.isLE = isLE;\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    aexists(this);\n    data = toBytes(data);\n    abytes(data);\n    const { view, buffer, blockLen } = this;\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array): void {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    clean(this.buffer.subarray(pos));\n    // we have less than padOffset left in buffer, so we cannot put length in\n    // current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest(): Uint8Array {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.destroyed = destroyed;\n    to.finished = finished;\n    to.length = length;\n    to.pos = pos;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * Initial SHA-2 state: fractional parts of square roots of first 16 primes 2..53.\n * Check out `test/misc/sha2-gen-iv.js` for recomputation guide.\n */\n\n/** Initial SHA256 state. Bits 0..32 of frac part of sqrt of primes 2..19 */\nexport const SHA256_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19,\n]);\n\n/** Initial SHA224 state. Bits 32..64 of frac part of sqrt of primes 23..53 */\nexport const SHA224_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939, 0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4,\n]);\n\n/** Initial SHA384 state. Bits 0..64 of frac part of sqrt of primes 23..53 */\nexport const SHA384_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0xcbbb9d5d, 0xc1059ed8, 0x629a292a, 0x367cd507, 0x9159015a, 0x3070dd17, 0x152fecd8, 0xf70e5939,\n  0x67332667, 0xffc00b31, 0x8eb44a87, 0x68581511, 0xdb0c2e0d, 0x64f98fa7, 0x47b5481d, 0xbefa4fa4,\n]);\n\n/** Initial SHA512 state. Bits 0..64 of frac part of sqrt of primes 2..19 */\nexport const SHA512_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0x6a09e667, 0xf3bcc908, 0xbb67ae85, 0x84caa73b, 0x3c6ef372, 0xfe94f82b, 0xa54ff53a, 0x5f1d36f1,\n  0x510e527f, 0xade682d1, 0x9b05688c, 0x2b3e6c1f, 0x1f83d9ab, 0xfb41bd6b, 0x5be0cd19, 0x137e2179,\n]);\n", "/**\n * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.\n * @todo re-check https://issues.chromium.org/issues/42212588\n * @module\n */\nconst U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n\nfunction fromBig(\n  n: bigint,\n  le = false\n): {\n  h: number;\n  l: number;\n} {\n  if (le) return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n  return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\n\nfunction split(lst: bigint[], le = false): Uint32Array[] {\n  const len = lst.length;\n  let Ah = new Uint32Array(len);\n  let Al = new Uint32Array(len);\n  for (let i = 0; i < len; i++) {\n    const { h, l } = fromBig(lst[i], le);\n    [Ah[i], Al[i]] = [h, l];\n  }\n  return [Ah, Al];\n}\n\nconst toBig = (h: number, l: number): bigint => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h: number, _l: number, s: number): number => h >>> s;\nconst shrSL = (h: number, l: number, s: number): number => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h: number, l: number, s: number): number => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h: number, l: number, s: number): number => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h: number, l: number, s: number): number => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h: number, l: number, s: number): number => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h: number, l: number): number => l;\nconst rotr32L = (h: number, _l: number): number => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h: number, l: number, s: number): number => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h: number, l: number, s: number): number => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h: number, l: number, s: number): number => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h: number, l: number, s: number): number => (h << (s - 32)) | (l >>> (64 - s));\n\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(\n  Ah: number,\n  Al: number,\n  Bh: number,\n  Bl: number\n): {\n  h: number;\n  l: number;\n} {\n  const l = (Al >>> 0) + (Bl >>> 0);\n  return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al: number, Bl: number, Cl: number): number => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low: number, Ah: number, Bh: number, Ch: number): number =>\n  (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al: number, Bl: number, Cl: number, Dl: number): number =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number): number =>\n  (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al: number, Bl: number, Cl: number, Dl: number, El: number): number =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number, Eh: number): number =>\n  (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n\n// prettier-ignore\nexport {\n  add, add3H, add3L, add4H, add4L, add5H, add5L, fromBig, rotlBH, rotlBL, rotlSH, rotlSL, rotr32H, rotr32L, rotrBH, rotrBL, rotrSH, rotrSL, shrSH, shrSL, split, toBig\n};\n// prettier-ignore\nconst u64: { fromBig: typeof fromBig; split: typeof split; toBig: (h: number, l: number) => bigint; shrSH: (h: number, _l: number, s: number) => number; shrSL: (h: number, l: number, s: number) => number; rotrSH: (h: number, l: number, s: number) => number; rotrSL: (h: number, l: number, s: number) => number; rotrBH: (h: number, l: number, s: number) => number; rotrBL: (h: number, l: number, s: number) => number; rotr32H: (_h: number, l: number) => number; rotr32L: (h: number, _l: number) => number; rotlSH: (h: number, l: number, s: number) => number; rotlSL: (h: number, l: number, s: number) => number; rotlBH: (h: number, l: number, s: number) => number; rotlBL: (h: number, l: number, s: number) => number; add: typeof add; add3L: (Al: number, Bl: number, Cl: number) => number; add3H: (low: number, Ah: number, Bh: number, Ch: number) => number; add4L: (Al: number, Bl: number, Cl: number, Dl: number) => number; add4H: (low: number, Ah: number, Bh: number, Ch: number, Dh: number) => number; add5H: (low: number, Ah: number, Bh: number, Ch: number, Dh: number, Eh: number) => number; add5L: (Al: number, Bl: number, Cl: number, Dl: number, El: number) => number; } = {\n  fromBig, split, toBig,\n  shrSH, shrSL,\n  rotrSH, rotrSL, rotrBH, rotrBL,\n  rotr32H, rotr32L,\n  rotlSH, rotlSL, rotlBH, rotlBL,\n  add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n", "/**\n * SHA2 hash function. A.k.a. sha256, sha384, sha512, sha512_224, sha512_256.\n * SHA256 is the fastest hash implementable in JS, even faster than Blake3.\n * Check out [RFC 4634](https://datatracker.ietf.org/doc/html/rfc4634) and\n * [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n */\nimport { Chi, HashMD, Maj, SHA224_IV, SHA256_IV, SHA384_IV, SHA512_IV } from './_md.ts';\nimport * as u64 from './_u64.ts';\nimport { type CHash, clean, createHasher, rotr } from './utils.ts';\n\n/**\n * Round constants:\n * First 32 bits of fractional parts of the cube roots of the first 64 primes 2..311)\n */\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ Uint32Array.from([\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n\n/** Reusable temporary buffer. \"W\" comes straight from spec. */\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nexport class SHA256 extends HashMD<SHA256> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  protected A: number = SHA256_IV[0] | 0;\n  protected B: number = SHA256_IV[1] | 0;\n  protected C: number = SHA256_IV[2] | 0;\n  protected D: number = SHA256_IV[3] | 0;\n  protected E: number = SHA256_IV[4] | 0;\n  protected F: number = SHA256_IV[5] | 0;\n  protected G: number = SHA256_IV[6] | 0;\n  protected H: number = SHA256_IV[7] | 0;\n\n  constructor(outputLen: number = 32) {\n    super(64, outputLen, 8, false);\n  }\n  protected get(): [number, number, number, number, number, number, number, number] {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  protected set(\n    A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number\n  ): void {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n      SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n    }\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = (sigma0 + Maj(A, B, C)) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = (D + T1) | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = (T1 + T2) | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    F = (F + this.F) | 0;\n    G = (G + this.G) | 0;\n    H = (H + this.H) | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  protected roundClean(): void {\n    clean(SHA256_W);\n  }\n  destroy(): void {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    clean(this.buffer);\n  }\n}\n\nexport class SHA224 extends SHA256 {\n  protected A: number = SHA224_IV[0] | 0;\n  protected B: number = SHA224_IV[1] | 0;\n  protected C: number = SHA224_IV[2] | 0;\n  protected D: number = SHA224_IV[3] | 0;\n  protected E: number = SHA224_IV[4] | 0;\n  protected F: number = SHA224_IV[5] | 0;\n  protected G: number = SHA224_IV[6] | 0;\n  protected H: number = SHA224_IV[7] | 0;\n  constructor() {\n    super(28);\n  }\n}\n\n// SHA2-512 is slower than sha256 in js because u64 operations are slow.\n\n// Round contants\n// First 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409\n// prettier-ignore\nconst K512 = /* @__PURE__ */ (() => u64.split([\n  '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n  '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n  '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n  '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n  '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n  '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n  '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n  '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n  '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n  '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n  '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n  '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n  '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n  '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n  '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n  '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n  '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n  '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n  '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n  '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\nconst SHA512_Kh = /* @__PURE__ */ (() => K512[0])();\nconst SHA512_Kl = /* @__PURE__ */ (() => K512[1])();\n\n// Reusable temporary buffers\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\n\nexport class SHA512 extends HashMD<SHA512> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  // h -- high 32 bits, l -- low 32 bits\n  protected Ah: number = SHA512_IV[0] | 0;\n  protected Al: number = SHA512_IV[1] | 0;\n  protected Bh: number = SHA512_IV[2] | 0;\n  protected Bl: number = SHA512_IV[3] | 0;\n  protected Ch: number = SHA512_IV[4] | 0;\n  protected Cl: number = SHA512_IV[5] | 0;\n  protected Dh: number = SHA512_IV[6] | 0;\n  protected Dl: number = SHA512_IV[7] | 0;\n  protected Eh: number = SHA512_IV[8] | 0;\n  protected El: number = SHA512_IV[9] | 0;\n  protected Fh: number = SHA512_IV[10] | 0;\n  protected Fl: number = SHA512_IV[11] | 0;\n  protected Gh: number = SHA512_IV[12] | 0;\n  protected Gl: number = SHA512_IV[13] | 0;\n  protected Hh: number = SHA512_IV[14] | 0;\n  protected Hl: number = SHA512_IV[15] | 0;\n\n  constructor(outputLen: number = 64) {\n    super(128, outputLen, 16, false);\n  }\n  // prettier-ignore\n  protected get(): [\n    number, number, number, number, number, number, number, number,\n    number, number, number, number, number, number, number, number\n  ] {\n    const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n    return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n  }\n  // prettier-ignore\n  protected set(\n    Ah: number, Al: number, Bh: number, Bl: number, Ch: number, Cl: number, Dh: number, Dl: number,\n    Eh: number, El: number, Fh: number, Fl: number, Gh: number, Gl: number, Hh: number, Hl: number\n  ): void {\n    this.Ah = Ah | 0;\n    this.Al = Al | 0;\n    this.Bh = Bh | 0;\n    this.Bl = Bl | 0;\n    this.Ch = Ch | 0;\n    this.Cl = Cl | 0;\n    this.Dh = Dh | 0;\n    this.Dl = Dl | 0;\n    this.Eh = Eh | 0;\n    this.El = El | 0;\n    this.Fh = Fh | 0;\n    this.Fl = Fl | 0;\n    this.Gh = Gh | 0;\n    this.Gl = Gl | 0;\n    this.Hh = Hh | 0;\n    this.Hl = Hl | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) {\n      SHA512_W_H[i] = view.getUint32(offset);\n      SHA512_W_L[i] = view.getUint32((offset += 4));\n    }\n    for (let i = 16; i < 80; i++) {\n      // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n      const W15h = SHA512_W_H[i - 15] | 0;\n      const W15l = SHA512_W_L[i - 15] | 0;\n      const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n      const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n      // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n      const W2h = SHA512_W_H[i - 2] | 0;\n      const W2l = SHA512_W_L[i - 2] | 0;\n      const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n      const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n      // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n      const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n      const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n      SHA512_W_H[i] = SUMh | 0;\n      SHA512_W_L[i] = SUMl | 0;\n    }\n    let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n    // Compression function main loop, 80 rounds\n    for (let i = 0; i < 80; i++) {\n      // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n      const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n      const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n      //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n      const CHIl = (El & Fl) ^ (~El & Gl);\n      // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n      // prettier-ignore\n      const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n      const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n      const T1l = T1ll | 0;\n      // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n      const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n      const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n      const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n      const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n      Hh = Gh | 0;\n      Hl = Gl | 0;\n      Gh = Fh | 0;\n      Gl = Fl | 0;\n      Fh = Eh | 0;\n      Fl = El | 0;\n      ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n      Dh = Ch | 0;\n      Dl = Cl | 0;\n      Ch = Bh | 0;\n      Cl = Bl | 0;\n      Bh = Ah | 0;\n      Bl = Al | 0;\n      const All = u64.add3L(T1l, sigma0l, MAJl);\n      Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n      Al = All | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n    ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n    ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n    ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n    ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n    ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n    ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n    ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n    this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n  }\n  protected roundClean(): void {\n    clean(SHA512_W_H, SHA512_W_L);\n  }\n  destroy(): void {\n    clean(this.buffer);\n    this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n  }\n}\n\nexport class SHA384 extends SHA512 {\n  protected Ah: number = SHA384_IV[0] | 0;\n  protected Al: number = SHA384_IV[1] | 0;\n  protected Bh: number = SHA384_IV[2] | 0;\n  protected Bl: number = SHA384_IV[3] | 0;\n  protected Ch: number = SHA384_IV[4] | 0;\n  protected Cl: number = SHA384_IV[5] | 0;\n  protected Dh: number = SHA384_IV[6] | 0;\n  protected Dl: number = SHA384_IV[7] | 0;\n  protected Eh: number = SHA384_IV[8] | 0;\n  protected El: number = SHA384_IV[9] | 0;\n  protected Fh: number = SHA384_IV[10] | 0;\n  protected Fl: number = SHA384_IV[11] | 0;\n  protected Gh: number = SHA384_IV[12] | 0;\n  protected Gl: number = SHA384_IV[13] | 0;\n  protected Hh: number = SHA384_IV[14] | 0;\n  protected Hl: number = SHA384_IV[15] | 0;\n\n  constructor() {\n    super(48);\n  }\n}\n\n/**\n * Truncated SHA512/256 and SHA512/224.\n * SHA512_IV is XORed with 0xa5a5a5a5a5a5a5a5, then used as \"intermediary\" IV of SHA512/t.\n * Then t hashes string to produce result IV.\n * See `test/misc/sha2-gen-iv.js`.\n */\n\n/** SHA512/224 IV */\nconst T224_IV = /* @__PURE__ */ Uint32Array.from([\n  0x8c3d37c8, 0x19544da2, 0x73e19966, 0x89dcd4d6, 0x1dfab7ae, 0x32ff9c82, 0x679dd514, 0x582f9fcf,\n  0x0f6d2b69, 0x7bd44da8, 0x77e36f73, 0x04c48942, 0x3f9d85a8, 0x6a1d36c8, 0x1112e6ad, 0x91d692a1,\n]);\n\n/** SHA512/256 IV */\nconst T256_IV = /* @__PURE__ */ Uint32Array.from([\n  0x22312194, 0xfc2bf72c, 0x9f555fa3, 0xc84c64c2, 0x2393b86b, 0x6f53b151, 0x96387719, 0x5940eabd,\n  0x96283ee2, 0xa88effe3, 0xbe5e1e25, 0x53863992, 0x2b0199fc, 0x2c85b8aa, 0x0eb72ddc, 0x81c52ca2,\n]);\n\nexport class SHA512_224 extends SHA512 {\n  protected Ah: number = T224_IV[0] | 0;\n  protected Al: number = T224_IV[1] | 0;\n  protected Bh: number = T224_IV[2] | 0;\n  protected Bl: number = T224_IV[3] | 0;\n  protected Ch: number = T224_IV[4] | 0;\n  protected Cl: number = T224_IV[5] | 0;\n  protected Dh: number = T224_IV[6] | 0;\n  protected Dl: number = T224_IV[7] | 0;\n  protected Eh: number = T224_IV[8] | 0;\n  protected El: number = T224_IV[9] | 0;\n  protected Fh: number = T224_IV[10] | 0;\n  protected Fl: number = T224_IV[11] | 0;\n  protected Gh: number = T224_IV[12] | 0;\n  protected Gl: number = T224_IV[13] | 0;\n  protected Hh: number = T224_IV[14] | 0;\n  protected Hl: number = T224_IV[15] | 0;\n\n  constructor() {\n    super(28);\n  }\n}\n\nexport class SHA512_256 extends SHA512 {\n  protected Ah: number = T256_IV[0] | 0;\n  protected Al: number = T256_IV[1] | 0;\n  protected Bh: number = T256_IV[2] | 0;\n  protected Bl: number = T256_IV[3] | 0;\n  protected Ch: number = T256_IV[4] | 0;\n  protected Cl: number = T256_IV[5] | 0;\n  protected Dh: number = T256_IV[6] | 0;\n  protected Dl: number = T256_IV[7] | 0;\n  protected Eh: number = T256_IV[8] | 0;\n  protected El: number = T256_IV[9] | 0;\n  protected Fh: number = T256_IV[10] | 0;\n  protected Fl: number = T256_IV[11] | 0;\n  protected Gh: number = T256_IV[12] | 0;\n  protected Gl: number = T256_IV[13] | 0;\n  protected Hh: number = T256_IV[14] | 0;\n  protected Hl: number = T256_IV[15] | 0;\n\n  constructor() {\n    super(32);\n  }\n}\n\n/**\n * SHA2-256 hash function from RFC 4634.\n *\n * It is the fastest JS hash, even faster than Blake3.\n * To break sha256 using birthday attack, attackers need to try 2^128 hashes.\n * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n */\nexport const sha256: CHash = /* @__PURE__ */ createHasher(() => new SHA256());\n/** SHA2-224 hash function from RFC 4634 */\nexport const sha224: CHash = /* @__PURE__ */ createHasher(() => new SHA224());\n\n/** SHA2-512 hash function from RFC 4634. */\nexport const sha512: CHash = /* @__PURE__ */ createHasher(() => new SHA512());\n/** SHA2-384 hash function from RFC 4634. */\nexport const sha384: CHash = /* @__PURE__ */ createHasher(() => new SHA384());\n\n/**\n * SHA2-512/256 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_256: CHash = /* @__PURE__ */ createHasher(() => new SHA512_256());\n/**\n * SHA2-512/224 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_224: CHash = /* @__PURE__ */ createHasher(() => new SHA512_224());\n", "/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport {\n  abytes as abytes_,\n  bytesToHex as bytesToHex_,\n  concatBytes as concatBytes_,\n  hexToBytes as hexToBytes_,\n  isBytes as isBytes_,\n} from '@noble/hashes/utils.js';\nexport {\n  abytes,\n  anumber,\n  bytesToHex,\n  bytesToUtf8,\n  concatBytes,\n  hexToBytes,\n  isBytes,\n  randomBytes,\n  utf8ToBytes,\n} from '@noble/hashes/utils.js';\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nexport type Hex = Uint8Array | string; // hex strings are accepted for simplicity\nexport type PrivKey = Hex | bigint; // bigints are accepted to ease learning curve\nexport type CHash = {\n  (message: Uint8Array | string): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create(opts?: { dkLen?: number }): any; // For shake\n};\nexport type FHash = (message: Uint8Array | string) => Uint8Array;\n\nexport function abool(title: string, value: boolean): void {\n  if (typeof value !== 'boolean') throw new Error(title + ' boolean expected, got ' + value);\n}\n\n// tmp name until v2\nexport function _abool2(value: boolean, title: string = ''): boolean {\n  if (typeof value !== 'boolean') {\n    const prefix = title && `\"${title}\"`;\n    throw new Error(prefix + 'expected boolean, got type=' + typeof value);\n  }\n  return value;\n}\n\n// tmp name until v2\n/** Asserts something is Uint8Array. */\nexport function _abytes2(value: Uint8Array, length?: number, title: string = ''): Uint8Array {\n  const bytes = isBytes_(value);\n  const len = value?.length;\n  const needsLen = length !== undefined;\n  if (!bytes || (needsLen && len !== length)) {\n    const prefix = title && `\"${title}\" `;\n    const ofLen = needsLen ? ` of length ${length}` : '';\n    const got = bytes ? `length=${len}` : `type=${typeof value}`;\n    throw new Error(prefix + 'expected Uint8Array' + ofLen + ', got ' + got);\n  }\n  return value;\n}\n\n// Used in weierstrass, der\nexport function numberToHexUnpadded(num: number | bigint): string {\n  const hex = num.toString(16);\n  return hex.length & 1 ? '0' + hex : hex;\n}\n\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex_(bytes));\n}\nexport function bytesToNumberLE(bytes: Uint8Array): bigint {\n  abytes_(bytes);\n  return hexToNumber(bytesToHex_(Uint8Array.from(bytes).reverse()));\n}\n\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes_(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n: number | bigint, len: number): Uint8Array {\n  return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n: number | bigint): Uint8Array {\n  return hexToBytes_(numberToHexUnpadded(n));\n}\n\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'secret key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title: string, hex: Hex, expectedLength?: number): Uint8Array {\n  let res: Uint8Array;\n  if (typeof hex === 'string') {\n    try {\n      res = hexToBytes_(hex);\n    } catch (e) {\n      throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n    }\n  } else if (isBytes_(hex)) {\n    // Uint8Array.from() instead of hash.slice() because node.js Buffer\n    // is instance of Uint8Array, and its slice() creates **mutable** copy\n    res = Uint8Array.from(hex);\n  } else {\n    throw new Error(title + ' must be hex string or Uint8Array');\n  }\n  const len = res.length;\n  if (typeof expectedLength === 'number' && len !== expectedLength)\n    throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n  return res;\n}\n\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a: Uint8Array, b: Uint8Array): boolean {\n  if (a.length !== b.length) return false;\n  let diff = 0;\n  for (let i = 0; i < a.length; i++) diff |= a[i] ^ b[i];\n  return diff === 0;\n}\n/**\n * Copies Uint8Array. We can't use u8a.slice(), because u8a can be Buffer,\n * and Buffer#slice creates mutable copy. Never use Buffers!\n */\nexport function copyBytes(bytes: Uint8Array): Uint8Array {\n  return Uint8Array.from(bytes);\n}\n\n/**\n * Decodes 7-bit ASCII string to Uint8Array, throws on non-ascii symbols\n * Should be safe to use for things expected to be ASCII.\n * Returns exact same result as utf8ToBytes for ASCII or throws.\n */\nexport function asciiToBytes(ascii: string): Uint8Array {\n  return Uint8Array.from(ascii, (c, i) => {\n    const charCode = c.charCodeAt(0);\n    if (c.length !== 1 || charCode > 127) {\n      throw new Error(\n        `string contains non-ASCII character \"${ascii[i]}\" with code ${charCode} at position ${i}`\n      );\n    }\n    return charCode;\n  });\n}\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\n// export const utf8ToBytes: typeof utf8ToBytes_ = utf8ToBytes_;\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\n// export const bytesToUtf8: typeof bytesToUtf8_ = bytesToUtf8_;\n\n// Is positive bigint\nconst isPosBig = (n: bigint) => typeof n === 'bigint' && _0n <= n;\n\nexport function inRange(n: bigint, min: bigint, max: bigint): boolean {\n  return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nexport function aInRange(title: string, n: bigint, min: bigint, max: bigint): void {\n  // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n  // consider P=256n, min=0n, max=P\n  // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n  // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n  // - our way is the cleanest:               `inRange('x', x, 0n, P)\n  if (!inRange(n, min, max))\n    throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n\n// Bit operations\n\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n * TODO: merge with nLength in modular\n */\nexport function bitLen(n: bigint): number {\n  let len;\n  for (len = 0; n > _0n; n >>= _1n, len += 1);\n  return len;\n}\n\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n: bigint, pos: number): bigint {\n  return (n >> BigInt(pos)) & _1n;\n}\n\n/**\n * Sets single bit at position.\n */\nexport function bitSet(n: bigint, pos: number, value: boolean): bigint {\n  return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n: number): bigint => (_1n << BigInt(n)) - _1n;\n\n// DRBG\n\ntype Pred<T> = (v: Uint8Array) => T | undefined;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg<T>(\n  hashLen: number,\n  qByteLen: number,\n  hmacFn: (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array\n): (seed: Uint8Array, predicate: Pred<T>) => T {\n  if (typeof hashLen !== 'number' || hashLen < 2) throw new Error('hashLen must be a number');\n  if (typeof qByteLen !== 'number' || qByteLen < 2) throw new Error('qByteLen must be a number');\n  if (typeof hmacFn !== 'function') throw new Error('hmacFn must be a function');\n  // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n  const u8n = (len: number) => new Uint8Array(len); // creates Uint8Array\n  const u8of = (byte: number) => Uint8Array.of(byte); // another shortcut\n  let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n  let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n  let i = 0; // Iterations counter, will throw when over 1000\n  const reset = () => {\n    v.fill(1);\n    k.fill(0);\n    i = 0;\n  };\n  const h = (...b: Uint8Array[]) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n  const reseed = (seed = u8n(0)) => {\n    // HMAC-DRBG reseed() function. Steps D-G\n    k = h(u8of(0x00), seed); // k = hmac(k || v || 0x00 || seed)\n    v = h(); // v = hmac(k || v)\n    if (seed.length === 0) return;\n    k = h(u8of(0x01), seed); // k = hmac(k || v || 0x01 || seed)\n    v = h(); // v = hmac(k || v)\n  };\n  const gen = () => {\n    // HMAC-DRBG generate() function\n    if (i++ >= 1000) throw new Error('drbg: tried 1000 values');\n    let len = 0;\n    const out: Uint8Array[] = [];\n    while (len < qByteLen) {\n      v = h();\n      const sl = v.slice();\n      out.push(sl);\n      len += v.length;\n    }\n    return concatBytes_(...out);\n  };\n  const genUntil = (seed: Uint8Array, pred: Pred<T>): T => {\n    reset();\n    reseed(seed); // Steps D-G\n    let res: T | undefined = undefined; // Step H: grind until k is in [1..n-1]\n    while (!(res = pred(gen()))) reseed();\n    reset();\n    return res;\n  };\n  return genUntil;\n}\n\n// Validating curves and fields\n\nconst validatorFns = {\n  bigint: (val: any): boolean => typeof val === 'bigint',\n  function: (val: any): boolean => typeof val === 'function',\n  boolean: (val: any): boolean => typeof val === 'boolean',\n  string: (val: any): boolean => typeof val === 'string',\n  stringOrUint8Array: (val: any): boolean => typeof val === 'string' || isBytes_(val),\n  isSafeInteger: (val: any): boolean => Number.isSafeInteger(val),\n  array: (val: any): boolean => Array.isArray(val),\n  field: (val: any, object: any): any => (object as any).Fp.isValid(val),\n  hash: (val: any): boolean => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n} as const;\ntype Validator = keyof typeof validatorFns;\ntype ValMap<T extends Record<string, any>> = { [K in keyof T]?: Validator };\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\n\nexport function validateObject<T extends Record<string, any>>(\n  object: T,\n  validators: ValMap<T>,\n  optValidators: ValMap<T> = {}\n): T {\n  const checkField = (fieldName: keyof T, type: Validator, isOptional: boolean) => {\n    const checkVal = validatorFns[type];\n    if (typeof checkVal !== 'function') throw new Error('invalid validator function');\n\n    const val = object[fieldName as keyof typeof object];\n    if (isOptional && val === undefined) return;\n    if (!checkVal(val, object)) {\n      throw new Error(\n        'param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val\n      );\n    }\n  };\n  for (const [fieldName, type] of Object.entries(validators)) checkField(fieldName, type!, false);\n  for (const [fieldName, type] of Object.entries(optValidators)) checkField(fieldName, type!, true);\n  return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n\nexport function isHash(val: CHash): boolean {\n  return typeof val === 'function' && Number.isSafeInteger(val.outputLen);\n}\nexport function _validateObject(\n  object: Record<string, any>,\n  fields: Record<string, string>,\n  optFields: Record<string, string> = {}\n): void {\n  if (!object || typeof object !== 'object') throw new Error('expected valid options object');\n  type Item = keyof typeof object;\n  function checkField(fieldName: Item, expectedType: string, isOpt: boolean) {\n    const val = object[fieldName];\n    if (isOpt && val === undefined) return;\n    const current = typeof val;\n    if (current !== expectedType || val === null)\n      throw new Error(`param \"${fieldName}\" is invalid: expected ${expectedType}, got ${current}`);\n  }\n  Object.entries(fields).forEach(([k, v]) => checkField(k, v, false));\n  Object.entries(optFields).forEach(([k, v]) => checkField(k, v, true));\n}\n\n/**\n * throws not implemented error\n */\nexport const notImplemented = (): never => {\n  throw new Error('not implemented');\n};\n\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nexport function memoized<T extends object, R, O extends any[]>(\n  fn: (arg: T, ...args: O) => R\n): (arg: T, ...args: O) => R {\n  const map = new WeakMap<T, R>();\n  return (arg: T, ...args: O): R => {\n    const val = map.get(arg);\n    if (val !== undefined) return val;\n    const computed = fn(arg, ...args);\n    map.set(arg, computed);\n    return computed;\n  };\n}\n", "/**\n * Utils for modular division and fields.\n * Field over 11 is a finite (Galois) field is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport {\n  _validateObject,\n  anumber,\n  bitMask,\n  bytesToNumberBE,\n  bytesToNumberLE,\n  ensureBytes,\n  numberToBytesBE,\n  numberToBytesLE,\n} from '../utils.ts';\n\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5), _7n = /* @__PURE__ */ BigInt(7);\n// prettier-ignore\nconst _8n = /* @__PURE__ */ BigInt(8), _9n = /* @__PURE__ */ BigInt(9), _16n = /* @__PURE__ */ BigInt(16);\n\n// Calculates a modulo b\nexport function mod(a: bigint, b: bigint): bigint {\n  const result = a % b;\n  return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nexport function pow(num: bigint, power: bigint, modulo: bigint): bigint {\n  return FpPow(Field(modulo), num, power);\n}\n\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nexport function pow2(x: bigint, power: bigint, modulo: bigint): bigint {\n  let res = x;\n  while (power-- > _0n) {\n    res *= res;\n    res %= modulo;\n  }\n  return res;\n}\n\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nexport function invert(number: bigint, modulo: bigint): bigint {\n  if (number === _0n) throw new Error('invert: expected non-zero number');\n  if (modulo <= _0n) throw new Error('invert: expected positive modulus, got ' + modulo);\n  // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n  let a = mod(number, modulo);\n  let b = modulo;\n  // prettier-ignore\n  let x = _0n, y = _1n, u = _1n, v = _0n;\n  while (a !== _0n) {\n    // JIT applies optimization if those two lines follow each other\n    const q = b / a;\n    const r = b % a;\n    const m = x - u * q;\n    const n = y - v * q;\n    // prettier-ignore\n    b = a, a = r, x = u, y = v, u = m, v = n;\n  }\n  const gcd = b;\n  if (gcd !== _1n) throw new Error('invert: does not exist');\n  return mod(x, modulo);\n}\n\nfunction assertIsSquare<T>(Fp: IField<T>, root: T, n: T): void {\n  if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n}\n\n// Not all roots are possible! Example which will throw:\n// const NUM =\n// n = 72057594037927816n;\n// Fp = Field(BigInt('0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab'));\nfunction sqrt3mod4<T>(Fp: IField<T>, n: T) {\n  const p1div4 = (Fp.ORDER + _1n) / _4n;\n  const root = Fp.pow(n, p1div4);\n  assertIsSquare(Fp, root, n);\n  return root;\n}\n\nfunction sqrt5mod8<T>(Fp: IField<T>, n: T) {\n  const p5div8 = (Fp.ORDER - _5n) / _8n;\n  const n2 = Fp.mul(n, _2n);\n  const v = Fp.pow(n2, p5div8);\n  const nv = Fp.mul(n, v);\n  const i = Fp.mul(Fp.mul(nv, _2n), v);\n  const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n  assertIsSquare(Fp, root, n);\n  return root;\n}\n\n// Based on RFC9380, Kong algorithm\n// prettier-ignore\nfunction sqrt9mod16(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  const Fp_ = Field(P);\n  const tn = tonelliShanks(P);\n  const c1 = tn(Fp_, Fp_.neg(Fp_.ONE));//  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n  const c2 = tn(Fp_, c1);              //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n  const c3 = tn(Fp_, Fp_.neg(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n  const c4 = (P + _7n) / _16n;         //  4. c4 = (q + 7) / 16        # Integer arithmetic\n  return <T>(Fp: IField<T>, n: T) => {\n    let tv1 = Fp.pow(n, c4);           //  1. tv1 = x^c4\n    let tv2 = Fp.mul(tv1, c1);         //  2. tv2 = c1 * tv1\n    const tv3 = Fp.mul(tv1, c2);       //  3. tv3 = c2 * tv1\n    const tv4 = Fp.mul(tv1, c3);       //  4. tv4 = c3 * tv1\n    const e1 = Fp.eql(Fp.sqr(tv2), n); //  5.  e1 = (tv2^2) == x\n    const e2 = Fp.eql(Fp.sqr(tv3), n); //  6.  e2 = (tv3^2) == x\n    tv1 = Fp.cmov(tv1, tv2, e1);       //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n    tv2 = Fp.cmov(tv4, tv3, e2);       //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n    const e3 = Fp.eql(Fp.sqr(tv2), n); //  9.  e3 = (tv2^2) == x\n    const root = Fp.cmov(tv1, tv2, e3);// 10.  z = CMOV(tv1, tv2, e3)   # Select sqrt from tv1 & tv2\n    assertIsSquare(Fp, root, n);\n    return root;\n  };\n}\n\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  // Initialization (precomputation).\n  // Caching initialization could boost perf by 7%.\n  if (P < _3n) throw new Error('sqrt is not defined for small field');\n  // Factor P - 1 = Q * 2^S, where Q is odd\n  let Q = P - _1n;\n  let S = 0;\n  while (Q % _2n === _0n) {\n    Q /= _2n;\n    S++;\n  }\n\n  // Find the first quadratic non-residue Z >= 2\n  let Z = _2n;\n  const _Fp = Field(P);\n  while (FpLegendre(_Fp, Z) === 1) {\n    // Basic primality test for P. After x iterations, chance of\n    // not finding quadratic non-residue is 2^x, so 2^1000.\n    if (Z++ > 1000) throw new Error('Cannot find square root: probably non-prime P');\n  }\n  // Fast-path; usually done before Z, but we do \"primality test\".\n  if (S === 1) return sqrt3mod4;\n\n  // Slow-path\n  // TODO: test on Fp2 and others\n  let cc = _Fp.pow(Z, Q); // c = z^Q\n  const Q1div2 = (Q + _1n) / _2n;\n  return function tonelliSlow<T>(Fp: IField<T>, n: T): T {\n    if (Fp.is0(n)) return n;\n    // Check if n is a quadratic residue using Legendre symbol\n    if (FpLegendre(Fp, n) !== 1) throw new Error('Cannot find square root');\n\n    // Initialize variables for the main loop\n    let M = S;\n    let c = Fp.mul(Fp.ONE, cc); // c = z^Q, move cc from field _Fp into field Fp\n    let t = Fp.pow(n, Q); // t = n^Q, first guess at the fudge factor\n    let R = Fp.pow(n, Q1div2); // R = n^((Q+1)/2), first guess at the square root\n\n    // Main loop\n    // while t != 1\n    while (!Fp.eql(t, Fp.ONE)) {\n      if (Fp.is0(t)) return Fp.ZERO; // if t=0 return R=0\n      let i = 1;\n\n      // Find the smallest i >= 1 such that t^(2^i) \u2261 1 (mod P)\n      let t_tmp = Fp.sqr(t); // t^(2^1)\n      while (!Fp.eql(t_tmp, Fp.ONE)) {\n        i++;\n        t_tmp = Fp.sqr(t_tmp); // t^(2^2)...\n        if (i === M) throw new Error('Cannot find square root');\n      }\n\n      // Calculate the exponent for b: 2^(M - i - 1)\n      const exponent = _1n << BigInt(M - i - 1); // bigint is important\n      const b = Fp.pow(c, exponent); // b = 2^(M - i - 1)\n\n      // Update variables\n      M = i;\n      c = Fp.sqr(b); // c = b^2\n      t = Fp.mul(t, c); // t = (t * b^2)\n      R = Fp.mul(R, b); // R = R*b\n    }\n    return R;\n  };\n}\n\n/**\n * Square root for a finite field. Will try optimized versions first:\n *\n * 1. P \u2261 3 (mod 4)\n * 2. P \u2261 5 (mod 8)\n * 3. P \u2261 9 (mod 16)\n * 4. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nexport function FpSqrt(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  // P \u2261 3 (mod 4) => \u221An = n^((P+1)/4)\n  if (P % _4n === _3n) return sqrt3mod4;\n  // P \u2261 5 (mod 8) => Atkin algorithm, page 10 of https://eprint.iacr.org/2012/685.pdf\n  if (P % _8n === _5n) return sqrt5mod8;\n  // P \u2261 9 (mod 16) => Kong algorithm, page 11 of https://eprint.iacr.org/2012/685.pdf (algorithm 4)\n  if (P % _16n === _9n) return sqrt9mod16(P);\n  // Tonelli-Shanks algorithm\n  return tonelliShanks(P);\n}\n\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num: bigint, modulo: bigint): boolean =>\n  (mod(num, modulo) & _1n) === _1n;\n\n/** Field is not always over prime: for example, Fp2 has ORDER(q)=p^m. */\nexport interface IField<T> {\n  ORDER: bigint;\n  isLE: boolean;\n  BYTES: number;\n  BITS: number;\n  MASK: bigint;\n  ZERO: T;\n  ONE: T;\n  // 1-arg\n  create: (num: T) => T;\n  isValid: (num: T) => boolean;\n  is0: (num: T) => boolean;\n  isValidNot0: (num: T) => boolean;\n  neg(num: T): T;\n  inv(num: T): T;\n  sqrt(num: T): T;\n  sqr(num: T): T;\n  // 2-args\n  eql(lhs: T, rhs: T): boolean;\n  add(lhs: T, rhs: T): T;\n  sub(lhs: T, rhs: T): T;\n  mul(lhs: T, rhs: T | bigint): T;\n  pow(lhs: T, power: bigint): T;\n  div(lhs: T, rhs: T | bigint): T;\n  // N for NonNormalized (for now)\n  addN(lhs: T, rhs: T): T;\n  subN(lhs: T, rhs: T): T;\n  mulN(lhs: T, rhs: T | bigint): T;\n  sqrN(num: T): T;\n\n  // Optional\n  // Should be same as sgn0 function in\n  // [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#section-4.1).\n  // NOTE: sgn0 is 'negative in LE', which is same as odd. And negative in LE is kinda strange definition anyway.\n  isOdd?(num: T): boolean; // Odd instead of even since we have it for Fp2\n  allowedLengths?: number[];\n  // legendre?(num: T): T;\n  invertBatch: (lst: T[]) => T[];\n  toBytes(num: T): Uint8Array;\n  fromBytes(bytes: Uint8Array, skipValidation?: boolean): T;\n  // If c is False, CMOV returns a, otherwise it returns b.\n  cmov(a: T, b: T, c: boolean): T;\n}\n// prettier-ignore\nconst FIELD_FIELDS = [\n  'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n  'eql', 'add', 'sub', 'mul', 'pow', 'div',\n  'addN', 'subN', 'mulN', 'sqrN'\n] as const;\nexport function validateField<T>(field: IField<T>): IField<T> {\n  const initial = {\n    ORDER: 'bigint',\n    MASK: 'bigint',\n    BYTES: 'number',\n    BITS: 'number',\n  } as Record<string, string>;\n  const opts = FIELD_FIELDS.reduce((map, val: string) => {\n    map[val] = 'function';\n    return map;\n  }, initial);\n  _validateObject(field, opts);\n  // const max = 16384;\n  // if (field.BYTES < 1 || field.BYTES > max) throw new Error('invalid field');\n  // if (field.BITS < 1 || field.BITS > 8 * max) throw new Error('invalid field');\n  return field;\n}\n\n// Generic field functions\n\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow<T>(Fp: IField<T>, num: T, power: bigint): T {\n  if (power < _0n) throw new Error('invalid exponent, negatives unsupported');\n  if (power === _0n) return Fp.ONE;\n  if (power === _1n) return num;\n  let p = Fp.ONE;\n  let d = num;\n  while (power > _0n) {\n    if (power & _1n) p = Fp.mul(p, d);\n    d = Fp.sqr(d);\n    power >>= _1n;\n  }\n  return p;\n}\n\n/**\n * Efficiently invert an array of Field elements.\n * Exception-free. Will return `undefined` for 0 elements.\n * @param passZero map 0 to 0 (instead of undefined)\n */\nexport function FpInvertBatch<T>(Fp: IField<T>, nums: T[], passZero = false): T[] {\n  const inverted = new Array(nums.length).fill(passZero ? Fp.ZERO : undefined);\n  // Walk from first to last, multiply them by each other MOD p\n  const multipliedAcc = nums.reduce((acc, num, i) => {\n    if (Fp.is0(num)) return acc;\n    inverted[i] = acc;\n    return Fp.mul(acc, num);\n  }, Fp.ONE);\n  // Invert last element\n  const invertedAcc = Fp.inv(multipliedAcc);\n  // Walk from last to first, multiply them by inverted each other MOD p\n  nums.reduceRight((acc, num, i) => {\n    if (Fp.is0(num)) return acc;\n    inverted[i] = Fp.mul(acc, inverted[i]);\n    return Fp.mul(acc, num);\n  }, invertedAcc);\n  return inverted;\n}\n\n// TODO: remove\nexport function FpDiv<T>(Fp: IField<T>, lhs: T, rhs: T | bigint): T {\n  return Fp.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, Fp.ORDER) : Fp.inv(rhs));\n}\n\n/**\n * Legendre symbol.\n * Legendre constant is used to calculate Legendre symbol (a | p)\n * which denotes the value of a^((p-1)/2) (mod p).\n *\n * * (a | p) \u2261 1    if a is a square (mod p), quadratic residue\n * * (a | p) \u2261 -1   if a is not a square (mod p), quadratic non residue\n * * (a | p) \u2261 0    if a \u2261 0 (mod p)\n */\nexport function FpLegendre<T>(Fp: IField<T>, n: T): -1 | 0 | 1 {\n  // We can use 3rd argument as optional cache of this value\n  // but seems unneeded for now. The operation is very fast.\n  const p1mod2 = (Fp.ORDER - _1n) / _2n;\n  const powered = Fp.pow(n, p1mod2);\n  const yes = Fp.eql(powered, Fp.ONE);\n  const zero = Fp.eql(powered, Fp.ZERO);\n  const no = Fp.eql(powered, Fp.neg(Fp.ONE));\n  if (!yes && !zero && !no) throw new Error('invalid Legendre symbol result');\n  return yes ? 1 : zero ? 0 : -1;\n}\n\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare<T>(Fp: IField<T>, n: T): boolean {\n  const l = FpLegendre(Fp, n);\n  return l === 1;\n}\n\nexport type NLength = { nByteLength: number; nBitLength: number };\n// CURVE.n lengths\nexport function nLength(n: bigint, nBitLength?: number): NLength {\n  // Bit size, byte size of CURVE.n\n  if (nBitLength !== undefined) anumber(nBitLength);\n  const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n  const nByteLength = Math.ceil(_nBitLength / 8);\n  return { nBitLength: _nBitLength, nByteLength };\n}\n\ntype FpField = IField<bigint> & Required<Pick<IField<bigint>, 'isOdd'>>;\ntype SqrtFn = (n: bigint) => bigint;\ntype FieldOpts = Partial<{\n  sqrt: SqrtFn;\n  isLE: boolean;\n  BITS: number;\n  modFromBytes: boolean; // bls12-381 requires mod(n) instead of rejecting keys >= n\n  allowedLengths?: readonly number[]; // for P521 (adds padding for smaller sizes)\n}>;\n/**\n * Creates a finite field. Major performance optimizations:\n * * 1. Denormalized operations like mulN instead of mul.\n * * 2. Identical object shape: never add or remove keys.\n * * 3. `Object.freeze`.\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n *\n * Note about field properties:\n * * CHARACTERISTIC p = prime number, number of elements in main subgroup.\n * * ORDER q = similar to cofactor in curves, may be composite `q = p^m`.\n *\n * @param ORDER field order, probably prime, or could be composite\n * @param bitLen how many bits the field consumes\n * @param isLE (default: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(\n  ORDER: bigint,\n  bitLenOrOpts?: number | FieldOpts, // TODO: use opts only in v2?\n  isLE = false,\n  opts: { sqrt?: SqrtFn } = {}\n): Readonly<FpField> {\n  if (ORDER <= _0n) throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n  let _nbitLength: number | undefined = undefined;\n  let _sqrt: SqrtFn | undefined = undefined;\n  let modFromBytes: boolean = false;\n  let allowedLengths: undefined | readonly number[] = undefined;\n  if (typeof bitLenOrOpts === 'object' && bitLenOrOpts != null) {\n    if (opts.sqrt || isLE) throw new Error('cannot specify opts in two arguments');\n    const _opts = bitLenOrOpts;\n    if (_opts.BITS) _nbitLength = _opts.BITS;\n    if (_opts.sqrt) _sqrt = _opts.sqrt;\n    if (typeof _opts.isLE === 'boolean') isLE = _opts.isLE;\n    if (typeof _opts.modFromBytes === 'boolean') modFromBytes = _opts.modFromBytes;\n    allowedLengths = _opts.allowedLengths;\n  } else {\n    if (typeof bitLenOrOpts === 'number') _nbitLength = bitLenOrOpts;\n    if (opts.sqrt) _sqrt = opts.sqrt;\n  }\n  const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, _nbitLength);\n  if (BYTES > 2048) throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n  let sqrtP: ReturnType<typeof FpSqrt>; // cached sqrtP\n  const f: Readonly<FpField> = Object.freeze({\n    ORDER,\n    isLE,\n    BITS,\n    BYTES,\n    MASK: bitMask(BITS),\n    ZERO: _0n,\n    ONE: _1n,\n    allowedLengths: allowedLengths,\n    create: (num) => mod(num, ORDER),\n    isValid: (num) => {\n      if (typeof num !== 'bigint')\n        throw new Error('invalid field element: expected bigint, got ' + typeof num);\n      return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n    },\n    is0: (num) => num === _0n,\n    // is valid and invertible\n    isValidNot0: (num: bigint) => !f.is0(num) && f.isValid(num),\n    isOdd: (num) => (num & _1n) === _1n,\n    neg: (num) => mod(-num, ORDER),\n    eql: (lhs, rhs) => lhs === rhs,\n\n    sqr: (num) => mod(num * num, ORDER),\n    add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n    sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n    mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n    pow: (num, power) => FpPow(f, num, power),\n    div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n\n    // Same as above, but doesn't normalize\n    sqrN: (num) => num * num,\n    addN: (lhs, rhs) => lhs + rhs,\n    subN: (lhs, rhs) => lhs - rhs,\n    mulN: (lhs, rhs) => lhs * rhs,\n\n    inv: (num) => invert(num, ORDER),\n    sqrt:\n      _sqrt ||\n      ((n) => {\n        if (!sqrtP) sqrtP = FpSqrt(ORDER);\n        return sqrtP(f, n);\n      }),\n    toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n    fromBytes: (bytes, skipValidation = true) => {\n      if (allowedLengths) {\n        if (!allowedLengths.includes(bytes.length) || bytes.length > BYTES) {\n          throw new Error(\n            'Field.fromBytes: expected ' + allowedLengths + ' bytes, got ' + bytes.length\n          );\n        }\n        const padded = new Uint8Array(BYTES);\n        // isLE add 0 to right, !isLE to the left.\n        padded.set(bytes, isLE ? 0 : padded.length - bytes.length);\n        bytes = padded;\n      }\n      if (bytes.length !== BYTES)\n        throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n      let scalar = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n      if (modFromBytes) scalar = mod(scalar, ORDER);\n      if (!skipValidation)\n        if (!f.isValid(scalar)) throw new Error('invalid field element: outside of range 0..ORDER');\n      // NOTE: we don't validate scalar here, please use isValid. This done such way because some\n      // protocol may allow non-reduced scalar that reduced later or changed some other way.\n      return scalar;\n    },\n    // TODO: we don't need it here, move out to separate fn\n    invertBatch: (lst) => FpInvertBatch(f, lst),\n    // We can't move this out because Fp6, Fp12 implement it\n    // and it's unclear what to return in there.\n    cmov: (a, b, c) => (c ? b : a),\n  } as FpField);\n  return Object.freeze(f);\n}\n\n// Generic random scalar, we can do same for other fields if via Fp2.mul(Fp2.ONE, Fp2.random)?\n// This allows unsafe methods like ignore bias or zero. These unsafe, but often used in different protocols (if deterministic RNG).\n// which mean we cannot force this via opts.\n// Not sure what to do with randomBytes, we can accept it inside opts if wanted.\n// Probably need to export getMinHashLength somewhere?\n// random(bytes?: Uint8Array, unsafeAllowZero = false, unsafeAllowBias = false) {\n//   const LEN = !unsafeAllowBias ? getMinHashLength(ORDER) : BYTES;\n//   if (bytes === undefined) bytes = randomBytes(LEN); // _opts.randomBytes?\n//   const num = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n//   // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n//   const reduced = unsafeAllowZero ? mod(num, ORDER) : mod(num, ORDER - _1n) + _1n;\n//   return reduced;\n// },\n\nexport function FpSqrtOdd<T>(Fp: IField<T>, elm: T): T {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? root : Fp.neg(root);\n}\n\nexport function FpSqrtEven<T>(Fp: IField<T>, elm: T): T {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nexport function hashToPrivateScalar(\n  hash: string | Uint8Array,\n  groupOrder: bigint,\n  isLE = false\n): bigint {\n  hash = ensureBytes('privateHash', hash);\n  const hashLen = hash.length;\n  const minLen = nLength(groupOrder).nByteLength + 8;\n  if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n    throw new Error(\n      'hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen\n    );\n  const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n  return mod(num, groupOrder - _1n) + _1n;\n}\n\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder: bigint): number {\n  if (typeof fieldOrder !== 'bigint') throw new Error('field order must be bigint');\n  const bitLength = fieldOrder.toString(2).length;\n  return Math.ceil(bitLength / 8);\n}\n\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder: bigint): number {\n  const length = getFieldBytesLength(fieldOrder);\n  return length + Math.ceil(length / 2);\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key: Uint8Array, fieldOrder: bigint, isLE = false): Uint8Array {\n  const len = key.length;\n  const fieldLen = getFieldBytesLength(fieldOrder);\n  const minLen = getMinHashLength(fieldOrder);\n  // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n  if (len < 16 || len < minLen || len > 1024)\n    throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n  const num = isLE ? bytesToNumberLE(key) : bytesToNumberBE(key);\n  // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n  const reduced = mod(num, fieldOrder - _1n) + _1n;\n  return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n", "/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { bitLen, bitMask, validateObject } from '../utils.ts';\nimport { Field, FpInvertBatch, nLength, validateField, type IField } from './modular.ts';\n\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\n\nexport type AffinePoint<T> = {\n  x: T;\n  y: T;\n} & { Z?: never };\n\n// This was initialy do this way to re-use montgomery ladder in field (add->mul,double->sqr), but\n// that didn't happen and there is probably not much reason to have separate Group like this?\nexport interface Group<T extends Group<T>> {\n  double(): T;\n  negate(): T;\n  add(other: T): T;\n  subtract(other: T): T;\n  equals(other: T): boolean;\n  multiply(scalar: bigint): T;\n  toAffine?(invertedZ?: any): AffinePoint<any>;\n}\n\n// We can't \"abstract out\" coordinates (X, Y, Z; and T in Edwards): argument names of constructor\n// are not accessible. See Typescript gh-56093, gh-41594.\n//\n// We have to use recursive types, so it will return actual point, not constained `CurvePoint`.\n// If, at any point, P is `any`, it will erase all types and replace it\n// with `any`, because of recursion, `any implements CurvePoint`,\n// but we lose all constrains on methods.\n\n/** Base interface for all elliptic curve Points. */\nexport interface CurvePoint<F, P extends CurvePoint<F, P>> extends Group<P> {\n  /** Affine x coordinate. Different from projective / extended X coordinate. */\n  x: F;\n  /** Affine y coordinate. Different from projective / extended Y coordinate. */\n  y: F;\n  Z?: F;\n  double(): P;\n  negate(): P;\n  add(other: P): P;\n  subtract(other: P): P;\n  equals(other: P): boolean;\n  multiply(scalar: bigint): P;\n  assertValidity(): void;\n  clearCofactor(): P;\n  is0(): boolean;\n  isTorsionFree(): boolean;\n  isSmallOrder(): boolean;\n  multiplyUnsafe(scalar: bigint): P;\n  /**\n   * Massively speeds up `p.multiply(n)` by using precompute tables (caching). See {@link wNAF}.\n   * @param isLazy calculate cache now. Default (true) ensures it's deferred to first `multiply()`\n   */\n  precompute(windowSize?: number, isLazy?: boolean): P;\n  /** Converts point to 2D xy affine coordinates */\n  toAffine(invertedZ?: F): AffinePoint<F>;\n  toBytes(): Uint8Array;\n  toHex(): string;\n}\n\n/** Base interface for all elliptic curve Point constructors. */\nexport interface CurvePointCons<P extends CurvePoint<any, P>> {\n  [Symbol.hasInstance]: (item: unknown) => boolean;\n  BASE: P;\n  ZERO: P;\n  /** Field for basic curve math */\n  Fp: IField<P_F<P>>;\n  /** Scalar field, for scalars in multiply and others */\n  Fn: IField<bigint>;\n  /** Creates point from x, y. Does NOT validate if the point is valid. Use `.assertValidity()`. */\n  fromAffine(p: AffinePoint<P_F<P>>): P;\n  fromBytes(bytes: Uint8Array): P;\n  fromHex(hex: Uint8Array | string): P;\n}\n\n// Type inference helpers: PC - PointConstructor, P - Point, Fp - Field element\n// Short names, because we use them a lot in result types:\n// * we can't do 'P = GetCurvePoint<PC>': this is default value and doesn't constrain anything\n// * we can't do 'type X = GetCurvePoint<PC>': it won't be accesible for arguments/return types\n// * `CurvePointCons<P extends CurvePoint<any, P>>` constraints from interface definition\n//   won't propagate, if `PC extends CurvePointCons<any>`: the P would be 'any', which is incorrect\n// * PC could be super specific with super specific P, which implements CurvePoint<any, P>.\n//   this means we need to do stuff like\n//   `function test<P extends CurvePoint<any, P>, PC extends CurvePointCons<P>>(`\n//   if we want type safety around P, otherwise PC_P<PC> will be any\n\n/** Returns Fp type from Point (P_F<P> == P.F) */\nexport type P_F<P extends CurvePoint<any, P>> = P extends CurvePoint<infer F, P> ? F : never;\n/** Returns Fp type from PointCons (PC_F<PC> == PC.P.F) */\nexport type PC_F<PC extends CurvePointCons<CurvePoint<any, any>>> = PC['Fp']['ZERO'];\n/** Returns Point type from PointCons (PC_P<PC> == PC.P) */\nexport type PC_P<PC extends CurvePointCons<CurvePoint<any, any>>> = PC['ZERO'];\n\n// Ugly hack to get proper type inference, because in typescript fails to infer resursively.\n// The hack allows to do up to 10 chained operations without applying type erasure.\n//\n// Types which won't work:\n// * `CurvePointCons<CurvePoint<any, any>>`, will return `any` after 1 operation\n// * `CurvePointCons<any>: WeierstrassPointCons<bigint> extends CurvePointCons<any> = false`\n// * `P extends CurvePoint, PC extends CurvePointCons<P>`\n//     * It can't infer P from PC alone\n//     * Too many relations between F, P & PC\n//     * It will infer P/F if `arg: CurvePointCons<F, P>`, but will fail if PC is generic\n//     * It will work correctly if there is an additional argument of type P\n//     * But generally, we don't want to parametrize `CurvePointCons` over `F`: it will complicate\n//       types, making them un-inferable\n// prettier-ignore\nexport type PC_ANY = CurvePointCons<\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any, any>\n  >>>>>>>>>\n>;\n\nexport interface CurveLengths {\n  secretKey?: number;\n  publicKey?: number;\n  publicKeyUncompressed?: number;\n  publicKeyHasPrefix?: boolean;\n  signature?: number;\n  seed?: number;\n}\nexport type GroupConstructor<T> = {\n  BASE: T;\n  ZERO: T;\n};\n/** @deprecated */\nexport type ExtendedGroupConstructor<T> = GroupConstructor<T> & {\n  Fp: IField<any>;\n  Fn: IField<bigint>;\n  fromAffine(ap: AffinePoint<any>): T;\n};\nexport type Mapper<T> = (i: T[]) => T[];\n\nexport function negateCt<T extends { negate: () => T }>(condition: boolean, item: T): T {\n  const neg = item.negate();\n  return condition ? neg : item;\n}\n\n/**\n * Takes a bunch of Projective Points but executes only one\n * inversion on all of them. Inversion is very slow operation,\n * so this improves performance massively.\n * Optimization: converts a list of projective points to a list of identical points with Z=1.\n */\nexport function normalizeZ<P extends CurvePoint<any, P>, PC extends CurvePointCons<P>>(\n  c: PC,\n  points: P[]\n): P[] {\n  const invertedZs = FpInvertBatch(\n    c.Fp,\n    points.map((p) => p.Z!)\n  );\n  return points.map((p, i) => c.fromAffine(p.toAffine(invertedZs[i])));\n}\n\nfunction validateW(W: number, bits: number) {\n  if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n    throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\n\n/** Internal wNAF opts for specific W and scalarBits */\nexport type WOpts = {\n  windows: number;\n  windowSize: number;\n  mask: bigint;\n  maxNumber: number;\n  shiftBy: bigint;\n};\n\nfunction calcWOpts(W: number, scalarBits: number): WOpts {\n  validateW(W, scalarBits);\n  const windows = Math.ceil(scalarBits / W) + 1; // W=8 33. Not 32, because we skip zero\n  const windowSize = 2 ** (W - 1); // W=8 128. Not 256, because we skip zero\n  const maxNumber = 2 ** W; // W=8 256\n  const mask = bitMask(W); // W=8 255 == mask 0b11111111\n  const shiftBy = BigInt(W); // W=8 8\n  return { windows, windowSize, mask, maxNumber, shiftBy };\n}\n\nfunction calcOffsets(n: bigint, window: number, wOpts: WOpts) {\n  const { windowSize, mask, maxNumber, shiftBy } = wOpts;\n  let wbits = Number(n & mask); // extract W bits.\n  let nextN = n >> shiftBy; // shift number by W bits.\n\n  // What actually happens here:\n  // const highestBit = Number(mask ^ (mask >> 1n));\n  // let wbits2 = wbits - 1; // skip zero\n  // if (wbits2 & highestBit) { wbits2 ^= Number(mask); // (~);\n\n  // split if bits > max: +224 => 256-32\n  if (wbits > windowSize) {\n    // we skip zero, which means instead of `>= size-1`, we do `> size`\n    wbits -= maxNumber; // -32, can be maxNumber - wbits, but then we need to set isNeg here.\n    nextN += _1n; // +256 (carry)\n  }\n  const offsetStart = window * windowSize;\n  const offset = offsetStart + Math.abs(wbits) - 1; // -1 because we skip zero\n  const isZero = wbits === 0; // is current window slice a 0?\n  const isNeg = wbits < 0; // is current window slice negative?\n  const isNegF = window % 2 !== 0; // fake random statement for noise\n  const offsetF = offsetStart; // fake offset for noise\n  return { nextN, offset, isZero, isNeg, isNegF, offsetF };\n}\n\nfunction validateMSMPoints(points: any[], c: any) {\n  if (!Array.isArray(points)) throw new Error('array expected');\n  points.forEach((p, i) => {\n    if (!(p instanceof c)) throw new Error('invalid point at index ' + i);\n  });\n}\nfunction validateMSMScalars(scalars: any[], field: any) {\n  if (!Array.isArray(scalars)) throw new Error('array of scalars expected');\n  scalars.forEach((s, i) => {\n    if (!field.isValid(s)) throw new Error('invalid scalar at index ' + i);\n  });\n}\n\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes.\n// Allows to make points frozen / immutable.\nconst pointPrecomputes = new WeakMap<any, any[]>();\nconst pointWindowSizes = new WeakMap<any, number>();\n\nfunction getW(P: any): number {\n  // To disable precomputes:\n  // return 1;\n  return pointWindowSizes.get(P) || 1;\n}\n\nfunction assert0(n: bigint): void {\n  if (n !== _0n) throw new Error('invalid wNAF');\n}\n\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Table generation takes **30MB of ram and 10ms on high-end CPU**,\n * but may take much longer on slow devices. Actual generation will happen on\n * first call of `multiply()`. By default, `BASE` point is precomputed.\n *\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / \uD835\uDC4A) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nexport class wNAF<PC extends PC_ANY> {\n  private readonly BASE: PC_P<PC>;\n  private readonly ZERO: PC_P<PC>;\n  private readonly Fn: PC['Fn'];\n  readonly bits: number;\n\n  // Parametrized with a given Point class (not individual point)\n  constructor(Point: PC, bits: number) {\n    this.BASE = Point.BASE;\n    this.ZERO = Point.ZERO;\n    this.Fn = Point.Fn;\n    this.bits = bits;\n  }\n\n  // non-const time multiplication ladder\n  _unsafeLadder(elm: PC_P<PC>, n: bigint, p: PC_P<PC> = this.ZERO): PC_P<PC> {\n    let d: PC_P<PC> = elm;\n    while (n > _0n) {\n      if (n & _1n) p = p.add(d);\n      d = d.double();\n      n >>= _1n;\n    }\n    return p;\n  }\n\n  /**\n   * Creates a wNAF precomputation window. Used for caching.\n   * Default window size is set by `utils.precompute()` and is equal to 8.\n   * Number of precomputed points depends on the curve size:\n   * 2^(\uD835\uDC4A\u22121) * (Math.ceil(\uD835\uDC5B / \uD835\uDC4A) + 1), where:\n   * - \uD835\uDC4A is the window size\n   * - \uD835\uDC5B is the bitlength of the curve order.\n   * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n   * @param point Point instance\n   * @param W window size\n   * @returns precomputed point tables flattened to a single array\n   */\n  private precomputeWindow(point: PC_P<PC>, W: number): PC_P<PC>[] {\n    const { windows, windowSize } = calcWOpts(W, this.bits);\n    const points: PC_P<PC>[] = [];\n    let p: PC_P<PC> = point;\n    let base = p;\n    for (let window = 0; window < windows; window++) {\n      base = p;\n      points.push(base);\n      // i=1, bc we skip 0\n      for (let i = 1; i < windowSize; i++) {\n        base = base.add(p);\n        points.push(base);\n      }\n      p = base.double();\n    }\n    return points;\n  }\n\n  /**\n   * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n   * More compact implementation:\n   * https://github.com/paulmillr/noble-secp256k1/blob/47cb1669b6e506ad66b35fe7d76132ae97465da2/index.ts#L502-L541\n   * @returns real and fake (for const-time) points\n   */\n  private wNAF(W: number, precomputes: PC_P<PC>[], n: bigint): { p: PC_P<PC>; f: PC_P<PC> } {\n    // Scalar should be smaller than field order\n    if (!this.Fn.isValid(n)) throw new Error('invalid scalar');\n    // Accumulators\n    let p = this.ZERO;\n    let f = this.BASE;\n    // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n    // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n    // there is negate now: it is possible that negated element from low value\n    // would be the same as high element, which will create carry into next window.\n    // It's not obvious how this can fail, but still worth investigating later.\n    const wo = calcWOpts(W, this.bits);\n    for (let window = 0; window < wo.windows; window++) {\n      // (n === _0n) is handled and not early-exited. isEven and offsetF are used for noise\n      const { nextN, offset, isZero, isNeg, isNegF, offsetF } = calcOffsets(n, window, wo);\n      n = nextN;\n      if (isZero) {\n        // bits are 0: add garbage to fake point\n        // Important part for const-time getPublicKey: add random \"noise\" point to f.\n        f = f.add(negateCt(isNegF, precomputes[offsetF]));\n      } else {\n        // bits are 1: add to result point\n        p = p.add(negateCt(isNeg, precomputes[offset]));\n      }\n    }\n    assert0(n);\n    // Return both real and fake points: JIT won't eliminate f.\n    // At this point there is a way to F be infinity-point even if p is not,\n    // which makes it less const-time: around 1 bigint multiply.\n    return { p, f };\n  }\n\n  /**\n   * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n   * @param acc accumulator point to add result of multiplication\n   * @returns point\n   */\n  private wNAFUnsafe(\n    W: number,\n    precomputes: PC_P<PC>[],\n    n: bigint,\n    acc: PC_P<PC> = this.ZERO\n  ): PC_P<PC> {\n    const wo = calcWOpts(W, this.bits);\n    for (let window = 0; window < wo.windows; window++) {\n      if (n === _0n) break; // Early-exit, skip 0 value\n      const { nextN, offset, isZero, isNeg } = calcOffsets(n, window, wo);\n      n = nextN;\n      if (isZero) {\n        // Window bits are 0: skip processing.\n        // Move to next window.\n        continue;\n      } else {\n        const item = precomputes[offset];\n        acc = acc.add(isNeg ? item.negate() : item); // Re-using acc allows to save adds in MSM\n      }\n    }\n    assert0(n);\n    return acc;\n  }\n\n  private getPrecomputes(W: number, point: PC_P<PC>, transform?: Mapper<PC_P<PC>>): PC_P<PC>[] {\n    // Calculate precomputes on a first run, reuse them after\n    let comp = pointPrecomputes.get(point);\n    if (!comp) {\n      comp = this.precomputeWindow(point, W) as PC_P<PC>[];\n      if (W !== 1) {\n        // Doing transform outside of if brings 15% perf hit\n        if (typeof transform === 'function') comp = transform(comp);\n        pointPrecomputes.set(point, comp);\n      }\n    }\n    return comp;\n  }\n\n  cached(\n    point: PC_P<PC>,\n    scalar: bigint,\n    transform?: Mapper<PC_P<PC>>\n  ): { p: PC_P<PC>; f: PC_P<PC> } {\n    const W = getW(point);\n    return this.wNAF(W, this.getPrecomputes(W, point, transform), scalar);\n  }\n\n  unsafe(point: PC_P<PC>, scalar: bigint, transform?: Mapper<PC_P<PC>>, prev?: PC_P<PC>): PC_P<PC> {\n    const W = getW(point);\n    if (W === 1) return this._unsafeLadder(point, scalar, prev); // For W=1 ladder is ~x2 faster\n    return this.wNAFUnsafe(W, this.getPrecomputes(W, point, transform), scalar, prev);\n  }\n\n  // We calculate precomputes for elliptic curve point multiplication\n  // using windowed method. This specifies window size and\n  // stores precomputed values. Usually only base point would be precomputed.\n  createCache(P: PC_P<PC>, W: number): void {\n    validateW(W, this.bits);\n    pointWindowSizes.set(P, W);\n    pointPrecomputes.delete(P);\n  }\n\n  hasCache(elm: PC_P<PC>): boolean {\n    return getW(elm) !== 1;\n  }\n}\n\n/**\n * Endomorphism-specific multiplication for Koblitz curves.\n * Cost: 128 dbl, 0-256 adds.\n */\nexport function mulEndoUnsafe<P extends CurvePoint<any, P>, PC extends CurvePointCons<P>>(\n  Point: PC,\n  point: P,\n  k1: bigint,\n  k2: bigint\n): { p1: P; p2: P } {\n  let acc = point;\n  let p1 = Point.ZERO;\n  let p2 = Point.ZERO;\n  while (k1 > _0n || k2 > _0n) {\n    if (k1 & _1n) p1 = p1.add(acc);\n    if (k2 & _1n) p2 = p2.add(acc);\n    acc = acc.double();\n    k1 >>= _1n;\n    k2 >>= _1n;\n  }\n  return { p1, p2 };\n}\n\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster than precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka secret keys / bigints)\n */\nexport function pippenger<P extends CurvePoint<any, P>, PC extends CurvePointCons<P>>(\n  c: PC,\n  fieldN: IField<bigint>,\n  points: P[],\n  scalars: bigint[]\n): P {\n  // If we split scalars by some window (let's say 8 bits), every chunk will only\n  // take 256 buckets even if there are 4096 scalars, also re-uses double.\n  // TODO:\n  // - https://eprint.iacr.org/2024/750.pdf\n  // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n  // 0 is accepted in scalars\n  validateMSMPoints(points, c);\n  validateMSMScalars(scalars, fieldN);\n  const plength = points.length;\n  const slength = scalars.length;\n  if (plength !== slength) throw new Error('arrays of points and scalars must have equal length');\n  // if (plength === 0) throw new Error('array must be of length >= 2');\n  const zero = c.ZERO;\n  const wbits = bitLen(BigInt(plength));\n  let windowSize = 1; // bits\n  if (wbits > 12) windowSize = wbits - 3;\n  else if (wbits > 4) windowSize = wbits - 2;\n  else if (wbits > 0) windowSize = 2;\n  const MASK = bitMask(windowSize);\n  const buckets = new Array(Number(MASK) + 1).fill(zero); // +1 for zero array\n  const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n  let sum = zero;\n  for (let i = lastBits; i >= 0; i -= windowSize) {\n    buckets.fill(zero);\n    for (let j = 0; j < slength; j++) {\n      const scalar = scalars[j];\n      const wbits = Number((scalar >> BigInt(i)) & MASK);\n      buckets[wbits] = buckets[wbits].add(points[j]);\n    }\n    let resI = zero; // not using this will do small speed-up, but will lose ct\n    // Skip first bucket, because it is zero\n    for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n      sumI = sumI.add(buckets[j]);\n      resI = resI.add(sumI);\n    }\n    sum = sum.add(resI);\n    if (i !== 0) for (let j = 0; j < windowSize; j++) sum = sum.double();\n  }\n  return sum as P;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nexport function precomputeMSMUnsafe<P extends CurvePoint<any, P>, PC extends CurvePointCons<P>>(\n  c: PC,\n  fieldN: IField<bigint>,\n  points: P[],\n  windowSize: number\n): (scalars: bigint[]) => P {\n  /**\n   * Performance Analysis of Window-based Precomputation\n   *\n   * Base Case (256-bit scalar, 8-bit window):\n   * - Standard precomputation requires:\n   *   - 31 additions per scalar \u00D7 256 scalars = 7,936 ops\n   *   - Plus 255 summary additions = 8,191 total ops\n   *   Note: Summary additions can be optimized via accumulator\n   *\n   * Chunked Precomputation Analysis:\n   * - Using 32 chunks requires:\n   *   - 255 additions per chunk\n   *   - 256 doublings\n   *   - Total: (255 \u00D7 32) + 256 = 8,416 ops\n   *\n   * Memory Usage Comparison:\n   * Window Size | Standard Points | Chunked Points\n   * ------------|-----------------|---------------\n   *     4-bit   |     520         |      15\n   *     8-bit   |    4,224        |     255\n   *    10-bit   |   13,824        |   1,023\n   *    16-bit   |  557,056        |  65,535\n   *\n   * Key Advantages:\n   * 1. Enables larger window sizes due to reduced memory overhead\n   * 2. More efficient for smaller scalar counts:\n   *    - 16 chunks: (16 \u00D7 255) + 256 = 4,336 ops\n   *    - ~2x faster than standard 8,191 ops\n   *\n   * Limitations:\n   * - Not suitable for plain precomputes (requires 256 constant doublings)\n   * - Performance degrades with larger scalar counts:\n   *   - Optimal for ~256 scalars\n   *   - Less efficient for 4096+ scalars (Pippenger preferred)\n   */\n  validateW(windowSize, fieldN.BITS);\n  validateMSMPoints(points, c);\n  const zero = c.ZERO;\n  const tableSize = 2 ** windowSize - 1; // table size (without zero)\n  const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n  const MASK = bitMask(windowSize);\n  const tables = points.map((p: P) => {\n    const res = [];\n    for (let i = 0, acc = p; i < tableSize; i++) {\n      res.push(acc);\n      acc = acc.add(p);\n    }\n    return res;\n  });\n  return (scalars: bigint[]): P => {\n    validateMSMScalars(scalars, fieldN);\n    if (scalars.length > points.length)\n      throw new Error('array of scalars must be smaller than array of points');\n    let res = zero;\n    for (let i = 0; i < chunks; i++) {\n      // No need to double if accumulator is still zero.\n      if (res !== zero) for (let j = 0; j < windowSize; j++) res = res.double();\n      const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n      for (let j = 0; j < scalars.length; j++) {\n        const n = scalars[j];\n        const curr = Number((n >> shiftBy) & MASK);\n        if (!curr) continue; // skip zero scalars chunks\n        res = res.add(tables[j][curr - 1]);\n      }\n    }\n    return res;\n  };\n}\n\n// TODO: remove\n/**\n * Generic BasicCurve interface: works even for polynomial fields (BLS): P, n, h would be ok.\n * Though generator can be different (Fp2 / Fp6 for BLS).\n */\nexport type BasicCurve<T> = {\n  Fp: IField<T>; // Field over which we'll do calculations (Fp)\n  n: bigint; // Curve order, total count of valid points in the field\n  nBitLength?: number; // bit length of curve order\n  nByteLength?: number; // byte length of curve order\n  h: bigint; // cofactor. we can assign default=1, but users will just ignore it w/o validation\n  hEff?: bigint; // Number to multiply to clear cofactor\n  Gx: T; // base point X coordinate\n  Gy: T; // base point Y coordinate\n  allowInfinityPoint?: boolean; // bls12-381 requires it. ZERO point is valid, but invalid pubkey\n};\n\n// TODO: remove\n/** @deprecated */\nexport function validateBasic<FP, T>(\n  curve: BasicCurve<FP> & T\n): Readonly<\n  {\n    readonly nBitLength: number;\n    readonly nByteLength: number;\n  } & BasicCurve<FP> &\n    T & {\n      p: bigint;\n    }\n> {\n  validateField(curve.Fp);\n  validateObject(\n    curve,\n    {\n      n: 'bigint',\n      h: 'bigint',\n      Gx: 'field',\n      Gy: 'field',\n    },\n    {\n      nBitLength: 'isSafeInteger',\n      nByteLength: 'isSafeInteger',\n    }\n  );\n  // Set defaults\n  return Object.freeze({\n    ...nLength(curve.n, curve.nBitLength),\n    ...curve,\n    ...{ p: curve.Fp.ORDER },\n  } as const);\n}\n\nexport type ValidCurveParams<T> = {\n  p: bigint;\n  n: bigint;\n  h: bigint;\n  a: T;\n  b?: T;\n  d?: T;\n  Gx: T;\n  Gy: T;\n};\n\nfunction createField<T>(order: bigint, field?: IField<T>, isLE?: boolean): IField<T> {\n  if (field) {\n    if (field.ORDER !== order) throw new Error('Field.ORDER must match order: Fp == p, Fn == n');\n    validateField(field);\n    return field;\n  } else {\n    return Field(order, { isLE }) as unknown as IField<T>;\n  }\n}\nexport type FpFn<T> = { Fp: IField<T>; Fn: IField<bigint> };\n\n/** Validates CURVE opts and creates fields */\nexport function _createCurveFields<T>(\n  type: 'weierstrass' | 'edwards',\n  CURVE: ValidCurveParams<T>,\n  curveOpts: Partial<FpFn<T>> = {},\n  FpFnLE?: boolean\n): FpFn<T> & { CURVE: ValidCurveParams<T> } {\n  if (FpFnLE === undefined) FpFnLE = type === 'edwards';\n  if (!CURVE || typeof CURVE !== 'object') throw new Error(`expected valid ${type} CURVE object`);\n  for (const p of ['p', 'n', 'h'] as const) {\n    const val = CURVE[p];\n    if (!(typeof val === 'bigint' && val > _0n))\n      throw new Error(`CURVE.${p} must be positive bigint`);\n  }\n  const Fp = createField(CURVE.p, curveOpts.Fp, FpFnLE);\n  const Fn = createField(CURVE.n, curveOpts.Fn, FpFnLE);\n  const _b: 'b' | 'd' = type === 'weierstrass' ? 'b' : 'd';\n  const params = ['Gx', 'Gy', 'a', _b] as const;\n  for (const p of params) {\n    // @ts-ignore\n    if (!Fp.isValid(CURVE[p]))\n      throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);\n  }\n  CURVE = Object.freeze(Object.assign({}, CURVE));\n  return { CURVE, Fp, Fn };\n}\n", "/**\n * Twisted Edwards curve. The formula is: ax\u00B2 + y\u00B2 = 1 + dx\u00B2y\u00B2.\n * For design rationale of types / exports, see weierstrass module documentation.\n * Untwisted Edwards curves exist, but they aren't used in real-world protocols.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport {\n  _validateObject,\n  _abool2 as abool,\n  _abytes2 as abytes,\n  aInRange,\n  bytesToHex,\n  bytesToNumberLE,\n  concatBytes,\n  copyBytes,\n  ensureBytes,\n  isBytes,\n  memoized,\n  notImplemented,\n  randomBytes as randomBytesWeb,\n  type FHash,\n  type Hex,\n} from '../utils.ts';\nimport {\n  _createCurveFields,\n  normalizeZ,\n  pippenger,\n  wNAF,\n  type AffinePoint,\n  type BasicCurve,\n  type CurveLengths,\n  type CurvePoint,\n  type CurvePointCons,\n} from './curve.ts';\nimport { Field, type IField, type NLength } from './modular.ts';\n\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _8n = BigInt(8);\n\nexport type UVRatio = (u: bigint, v: bigint) => { isValid: boolean; value: bigint };\n\n/** Instance of Extended Point with coordinates in X, Y, Z, T. */\nexport interface EdwardsPoint extends CurvePoint<bigint, EdwardsPoint> {\n  /** extended X coordinate. Different from affine x. */\n  readonly X: bigint;\n  /** extended Y coordinate. Different from affine y. */\n  readonly Y: bigint;\n  /** extended Z coordinate */\n  readonly Z: bigint;\n  /** extended T coordinate */\n  readonly T: bigint;\n\n  /** @deprecated use `toBytes` */\n  toRawBytes(): Uint8Array;\n  /** @deprecated use `p.precompute(windowSize)` */\n  _setWindowSize(windowSize: number): void;\n  /** @deprecated use .X */\n  readonly ex: bigint;\n  /** @deprecated use .Y */\n  readonly ey: bigint;\n  /** @deprecated use .Z */\n  readonly ez: bigint;\n  /** @deprecated use .T */\n  readonly et: bigint;\n}\n/** Static methods of Extended Point with coordinates in X, Y, Z, T. */\nexport interface EdwardsPointCons extends CurvePointCons<EdwardsPoint> {\n  new (X: bigint, Y: bigint, Z: bigint, T: bigint): EdwardsPoint;\n  CURVE(): EdwardsOpts;\n  fromBytes(bytes: Uint8Array, zip215?: boolean): EdwardsPoint;\n  fromHex(hex: Hex, zip215?: boolean): EdwardsPoint;\n  /** @deprecated use `import { pippenger } from '@noble/curves/abstract/curve.js';` */\n  msm(points: EdwardsPoint[], scalars: bigint[]): EdwardsPoint;\n}\n/** @deprecated use EdwardsPoint */\nexport type ExtPointType = EdwardsPoint;\n/** @deprecated use EdwardsPointCons */\nexport type ExtPointConstructor = EdwardsPointCons;\n\n/**\n * Twisted Edwards curve options.\n *\n * * a: formula param\n * * d: formula param\n * * p: prime characteristic (order) of finite field, in which arithmetics is done\n * * n: order of prime subgroup a.k.a total amount of valid curve points\n * * h: cofactor. h*n is group order; n is subgroup order\n * * Gx: x coordinate of generator point a.k.a. base point\n * * Gy: y coordinate of generator point\n */\nexport type EdwardsOpts = Readonly<{\n  p: bigint;\n  n: bigint;\n  h: bigint;\n  a: bigint;\n  d: bigint;\n  Gx: bigint;\n  Gy: bigint;\n}>;\n\n/**\n * Extra curve options for Twisted Edwards.\n *\n * * Fp: redefined Field over curve.p\n * * Fn: redefined Field over curve.n\n * * uvRatio: helper function for decompression, calculating \u221A(u/v)\n */\nexport type EdwardsExtraOpts = Partial<{\n  Fp: IField<bigint>;\n  Fn: IField<bigint>;\n  FpFnLE: boolean;\n  uvRatio: (u: bigint, v: bigint) => { isValid: boolean; value: bigint };\n}>;\n\n/**\n * EdDSA (Edwards Digital Signature algorithm) options.\n *\n * * hash: hash function used to hash secret keys and messages\n * * adjustScalarBytes: clears bits to get valid field element\n * * domain: Used for hashing\n * * mapToCurve: for hash-to-curve standard\n * * prehash: RFC 8032 pre-hashing of messages to sign() / verify()\n * * randomBytes: function generating random bytes, used for randomSecretKey\n */\nexport type EdDSAOpts = Partial<{\n  adjustScalarBytes: (bytes: Uint8Array) => Uint8Array;\n  domain: (data: Uint8Array, ctx: Uint8Array, phflag: boolean) => Uint8Array;\n  mapToCurve: (scalar: bigint[]) => AffinePoint<bigint>;\n  prehash: FHash;\n  randomBytes: (bytesLength?: number) => Uint8Array;\n}>;\n\n/**\n * EdDSA (Edwards Digital Signature algorithm) interface.\n *\n * Allows to create and verify signatures, create public and secret keys.\n */\nexport interface EdDSA {\n  keygen: (seed?: Uint8Array) => { secretKey: Uint8Array; publicKey: Uint8Array };\n  getPublicKey: (secretKey: Hex) => Uint8Array;\n  sign: (message: Hex, secretKey: Hex, options?: { context?: Hex }) => Uint8Array;\n  verify: (\n    sig: Hex,\n    message: Hex,\n    publicKey: Hex,\n    options?: { context?: Hex; zip215: boolean }\n  ) => boolean;\n  Point: EdwardsPointCons;\n  utils: {\n    randomSecretKey: (seed?: Uint8Array) => Uint8Array;\n    isValidSecretKey: (secretKey: Uint8Array) => boolean;\n    isValidPublicKey: (publicKey: Uint8Array, zip215?: boolean) => boolean;\n\n    /**\n     * Converts ed public key to x public key.\n     *\n     * There is NO `fromMontgomery`:\n     * - There are 2 valid ed25519 points for every x25519, with flipped coordinate\n     * - Sometimes there are 0 valid ed25519 points, because x25519 *additionally*\n     *   accepts inputs on the quadratic twist, which can't be moved to ed25519\n     *\n     * @example\n     * ```js\n     * const someonesPub = ed25519.getPublicKey(ed25519.utils.randomSecretKey());\n     * const aPriv = x25519.utils.randomSecretKey();\n     * x25519.getSharedSecret(aPriv, ed25519.utils.toMontgomery(someonesPub))\n     * ```\n     */\n    toMontgomery: (publicKey: Uint8Array) => Uint8Array;\n    /**\n     * Converts ed secret key to x secret key.\n     * @example\n     * ```js\n     * const someonesPub = x25519.getPublicKey(x25519.utils.randomSecretKey());\n     * const aPriv = ed25519.utils.randomSecretKey();\n     * x25519.getSharedSecret(ed25519.utils.toMontgomerySecret(aPriv), someonesPub)\n     * ```\n     */\n    toMontgomerySecret: (privateKey: Uint8Array) => Uint8Array;\n    getExtendedPublicKey: (key: Hex) => {\n      head: Uint8Array;\n      prefix: Uint8Array;\n      scalar: bigint;\n      point: EdwardsPoint;\n      pointBytes: Uint8Array;\n    };\n\n    /** @deprecated use `randomSecretKey` */\n    randomPrivateKey: (seed?: Uint8Array) => Uint8Array;\n    /** @deprecated use `point.precompute()` */\n    precompute: (windowSize?: number, point?: EdwardsPoint) => EdwardsPoint;\n  };\n  lengths: CurveLengths;\n}\n\nfunction isEdValidXY(Fp: IField<bigint>, CURVE: EdwardsOpts, x: bigint, y: bigint): boolean {\n  const x2 = Fp.sqr(x);\n  const y2 = Fp.sqr(y);\n  const left = Fp.add(Fp.mul(CURVE.a, x2), y2);\n  const right = Fp.add(Fp.ONE, Fp.mul(CURVE.d, Fp.mul(x2, y2)));\n  return Fp.eql(left, right);\n}\n\nexport function edwards(params: EdwardsOpts, extraOpts: EdwardsExtraOpts = {}): EdwardsPointCons {\n  const validated = _createCurveFields('edwards', params, extraOpts, extraOpts.FpFnLE);\n  const { Fp, Fn } = validated;\n  let CURVE = validated.CURVE as EdwardsOpts;\n  const { h: cofactor } = CURVE;\n  _validateObject(extraOpts, {}, { uvRatio: 'function' });\n\n  // Important:\n  // There are some places where Fp.BYTES is used instead of nByteLength.\n  // So far, everything has been tested with curves of Fp.BYTES == nByteLength.\n  // TODO: test and find curves which behave otherwise.\n  const MASK = _2n << (BigInt(Fn.BYTES * 8) - _1n);\n  const modP = (n: bigint) => Fp.create(n); // Function overrides\n\n  // sqrt(u/v)\n  const uvRatio =\n    extraOpts.uvRatio ||\n    ((u: bigint, v: bigint) => {\n      try {\n        return { isValid: true, value: Fp.sqrt(Fp.div(u, v)) };\n      } catch (e) {\n        return { isValid: false, value: _0n };\n      }\n    });\n\n  // Validate whether the passed curve params are valid.\n  // equation ax\u00B2 + y\u00B2 = 1 + dx\u00B2y\u00B2 should work for generator point.\n  if (!isEdValidXY(Fp, CURVE, CURVE.Gx, CURVE.Gy))\n    throw new Error('bad curve params: generator point');\n\n  /**\n   * Asserts coordinate is valid: 0 <= n < MASK.\n   * Coordinates >= Fp.ORDER are allowed for zip215.\n   */\n  function acoord(title: string, n: bigint, banZero = false) {\n    const min = banZero ? _1n : _0n;\n    aInRange('coordinate ' + title, n, min, MASK);\n    return n;\n  }\n\n  function aextpoint(other: unknown) {\n    if (!(other instanceof Point)) throw new Error('ExtendedPoint expected');\n  }\n  // Converts Extended point to default (x, y) coordinates.\n  // Can accept precomputed Z^-1 - for example, from invertBatch.\n  const toAffineMemo = memoized((p: Point, iz?: bigint): AffinePoint<bigint> => {\n    const { X, Y, Z } = p;\n    const is0 = p.is0();\n    if (iz == null) iz = is0 ? _8n : (Fp.inv(Z) as bigint); // 8 was chosen arbitrarily\n    const x = modP(X * iz);\n    const y = modP(Y * iz);\n    const zz = Fp.mul(Z, iz);\n    if (is0) return { x: _0n, y: _1n };\n    if (zz !== _1n) throw new Error('invZ was invalid');\n    return { x, y };\n  });\n  const assertValidMemo = memoized((p: Point) => {\n    const { a, d } = CURVE;\n    if (p.is0()) throw new Error('bad point: ZERO'); // TODO: optimize, with vars below?\n    // Equation in affine coordinates: ax\u00B2 + y\u00B2 = 1 + dx\u00B2y\u00B2\n    // Equation in projective coordinates (X/Z, Y/Z, Z):  (aX\u00B2 + Y\u00B2)Z\u00B2 = Z\u2074 + dX\u00B2Y\u00B2\n    const { X, Y, Z, T } = p;\n    const X2 = modP(X * X); // X\u00B2\n    const Y2 = modP(Y * Y); // Y\u00B2\n    const Z2 = modP(Z * Z); // Z\u00B2\n    const Z4 = modP(Z2 * Z2); // Z\u2074\n    const aX2 = modP(X2 * a); // aX\u00B2\n    const left = modP(Z2 * modP(aX2 + Y2)); // (aX\u00B2 + Y\u00B2)Z\u00B2\n    const right = modP(Z4 + modP(d * modP(X2 * Y2))); // Z\u2074 + dX\u00B2Y\u00B2\n    if (left !== right) throw new Error('bad point: equation left != right (1)');\n    // In Extended coordinates we also have T, which is x*y=T/Z: check X*Y == Z*T\n    const XY = modP(X * Y);\n    const ZT = modP(Z * T);\n    if (XY !== ZT) throw new Error('bad point: equation left != right (2)');\n    return true;\n  });\n\n  // Extended Point works in extended coordinates: (X, Y, Z, T) \u220B (x=X/Z, y=Y/Z, T=xy).\n  // https://en.wikipedia.org/wiki/Twisted_Edwards_curve#Extended_coordinates\n  class Point implements EdwardsPoint {\n    // base / generator point\n    static readonly BASE = new Point(CURVE.Gx, CURVE.Gy, _1n, modP(CURVE.Gx * CURVE.Gy));\n    // zero / infinity / identity point\n    static readonly ZERO = new Point(_0n, _1n, _1n, _0n); // 0, 1, 1, 0\n    // math field\n    static readonly Fp = Fp;\n    // scalar field\n    static readonly Fn = Fn;\n\n    readonly X: bigint;\n    readonly Y: bigint;\n    readonly Z: bigint;\n    readonly T: bigint;\n\n    constructor(X: bigint, Y: bigint, Z: bigint, T: bigint) {\n      this.X = acoord('x', X);\n      this.Y = acoord('y', Y);\n      this.Z = acoord('z', Z, true);\n      this.T = acoord('t', T);\n      Object.freeze(this);\n    }\n\n    static CURVE(): EdwardsOpts {\n      return CURVE;\n    }\n\n    static fromAffine(p: AffinePoint<bigint>): Point {\n      if (p instanceof Point) throw new Error('extended point not allowed');\n      const { x, y } = p || {};\n      acoord('x', x);\n      acoord('y', y);\n      return new Point(x, y, _1n, modP(x * y));\n    }\n\n    // Uses algo from RFC8032 5.1.3.\n    static fromBytes(bytes: Uint8Array, zip215 = false): Point {\n      const len = Fp.BYTES;\n      const { a, d } = CURVE;\n      bytes = copyBytes(abytes(bytes, len, 'point'));\n      abool(zip215, 'zip215');\n      const normed = copyBytes(bytes); // copy again, we'll manipulate it\n      const lastByte = bytes[len - 1]; // select last byte\n      normed[len - 1] = lastByte & ~0x80; // clear last bit\n      const y = bytesToNumberLE(normed);\n\n      // zip215=true is good for consensus-critical apps. =false follows RFC8032 / NIST186-5.\n      // RFC8032 prohibits >= p, but ZIP215 doesn't\n      // zip215=true:  0 <= y < MASK (2^256 for ed25519)\n      // zip215=false: 0 <= y < P (2^255-19 for ed25519)\n      const max = zip215 ? MASK : Fp.ORDER;\n      aInRange('point.y', y, _0n, max);\n\n      // Ed25519: x\u00B2 = (y\u00B2-1)/(dy\u00B2+1) mod p. Ed448: x\u00B2 = (y\u00B2-1)/(dy\u00B2-1) mod p. Generic case:\n      // ax\u00B2+y\u00B2=1+dx\u00B2y\u00B2 => y\u00B2-1=dx\u00B2y\u00B2-ax\u00B2 => y\u00B2-1=x\u00B2(dy\u00B2-a) => x\u00B2=(y\u00B2-1)/(dy\u00B2-a)\n      const y2 = modP(y * y); // denominator is always non-0 mod p.\n      const u = modP(y2 - _1n); // u = y\u00B2 - 1\n      const v = modP(d * y2 - a); // v = d y\u00B2 + 1.\n      let { isValid, value: x } = uvRatio(u, v); // \u221A(u/v)\n      if (!isValid) throw new Error('bad point: invalid y coordinate');\n      const isXOdd = (x & _1n) === _1n; // There are 2 square roots. Use x_0 bit to select proper\n      const isLastByteOdd = (lastByte & 0x80) !== 0; // x_0, last bit\n      if (!zip215 && x === _0n && isLastByteOdd)\n        // if x=0 and x_0 = 1, fail\n        throw new Error('bad point: x=0 and x_0=1');\n      if (isLastByteOdd !== isXOdd) x = modP(-x); // if x_0 != x mod 2, set x = p-x\n      return Point.fromAffine({ x, y });\n    }\n    static fromHex(bytes: Uint8Array, zip215 = false): Point {\n      return Point.fromBytes(ensureBytes('point', bytes), zip215);\n    }\n\n    get x(): bigint {\n      return this.toAffine().x;\n    }\n    get y(): bigint {\n      return this.toAffine().y;\n    }\n\n    precompute(windowSize: number = 8, isLazy = true) {\n      wnaf.createCache(this, windowSize);\n      if (!isLazy) this.multiply(_2n); // random number\n      return this;\n    }\n\n    // Useful in fromAffine() - not for fromBytes(), which always created valid points.\n    assertValidity(): void {\n      assertValidMemo(this);\n    }\n\n    // Compare one point to another.\n    equals(other: Point): boolean {\n      aextpoint(other);\n      const { X: X1, Y: Y1, Z: Z1 } = this;\n      const { X: X2, Y: Y2, Z: Z2 } = other;\n      const X1Z2 = modP(X1 * Z2);\n      const X2Z1 = modP(X2 * Z1);\n      const Y1Z2 = modP(Y1 * Z2);\n      const Y2Z1 = modP(Y2 * Z1);\n      return X1Z2 === X2Z1 && Y1Z2 === Y2Z1;\n    }\n\n    is0(): boolean {\n      return this.equals(Point.ZERO);\n    }\n\n    negate(): Point {\n      // Flips point sign to a negative one (-x, y in affine coords)\n      return new Point(modP(-this.X), this.Y, this.Z, modP(-this.T));\n    }\n\n    // Fast algo for doubling Extended Point.\n    // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#doubling-dbl-2008-hwcd\n    // Cost: 4M + 4S + 1*a + 6add + 1*2.\n    double(): Point {\n      const { a } = CURVE;\n      const { X: X1, Y: Y1, Z: Z1 } = this;\n      const A = modP(X1 * X1); // A = X12\n      const B = modP(Y1 * Y1); // B = Y12\n      const C = modP(_2n * modP(Z1 * Z1)); // C = 2*Z12\n      const D = modP(a * A); // D = a*A\n      const x1y1 = X1 + Y1;\n      const E = modP(modP(x1y1 * x1y1) - A - B); // E = (X1+Y1)2-A-B\n      const G = D + B; // G = D+B\n      const F = G - C; // F = G-C\n      const H = D - B; // H = D-B\n      const X3 = modP(E * F); // X3 = E*F\n      const Y3 = modP(G * H); // Y3 = G*H\n      const T3 = modP(E * H); // T3 = E*H\n      const Z3 = modP(F * G); // Z3 = F*G\n      return new Point(X3, Y3, Z3, T3);\n    }\n\n    // Fast algo for adding 2 Extended Points.\n    // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#addition-add-2008-hwcd\n    // Cost: 9M + 1*a + 1*d + 7add.\n    add(other: Point) {\n      aextpoint(other);\n      const { a, d } = CURVE;\n      const { X: X1, Y: Y1, Z: Z1, T: T1 } = this;\n      const { X: X2, Y: Y2, Z: Z2, T: T2 } = other;\n      const A = modP(X1 * X2); // A = X1*X2\n      const B = modP(Y1 * Y2); // B = Y1*Y2\n      const C = modP(T1 * d * T2); // C = T1*d*T2\n      const D = modP(Z1 * Z2); // D = Z1*Z2\n      const E = modP((X1 + Y1) * (X2 + Y2) - A - B); // E = (X1+Y1)*(X2+Y2)-A-B\n      const F = D - C; // F = D-C\n      const G = D + C; // G = D+C\n      const H = modP(B - a * A); // H = B-a*A\n      const X3 = modP(E * F); // X3 = E*F\n      const Y3 = modP(G * H); // Y3 = G*H\n      const T3 = modP(E * H); // T3 = E*H\n      const Z3 = modP(F * G); // Z3 = F*G\n      return new Point(X3, Y3, Z3, T3);\n    }\n\n    subtract(other: Point): Point {\n      return this.add(other.negate());\n    }\n\n    // Constant-time multiplication.\n    multiply(scalar: bigint): Point {\n      // 1 <= scalar < L\n      if (!Fn.isValidNot0(scalar)) throw new Error('invalid scalar: expected 1 <= sc < curve.n');\n      const { p, f } = wnaf.cached(this, scalar, (p) => normalizeZ(Point, p));\n      return normalizeZ(Point, [p, f])[0];\n    }\n\n    // Non-constant-time multiplication. Uses double-and-add algorithm.\n    // It's faster, but should only be used when you don't care about\n    // an exposed private key e.g. sig verification.\n    // Does NOT allow scalars higher than CURVE.n.\n    // Accepts optional accumulator to merge with multiply (important for sparse scalars)\n    multiplyUnsafe(scalar: bigint, acc = Point.ZERO): Point {\n      // 0 <= scalar < L\n      if (!Fn.isValid(scalar)) throw new Error('invalid scalar: expected 0 <= sc < curve.n');\n      if (scalar === _0n) return Point.ZERO;\n      if (this.is0() || scalar === _1n) return this;\n      return wnaf.unsafe(this, scalar, (p) => normalizeZ(Point, p), acc);\n    }\n\n    // Checks if point is of small order.\n    // If you add something to small order point, you will have \"dirty\"\n    // point with torsion component.\n    // Multiplies point by cofactor and checks if the result is 0.\n    isSmallOrder(): boolean {\n      return this.multiplyUnsafe(cofactor).is0();\n    }\n\n    // Multiplies point by curve order and checks if the result is 0.\n    // Returns `false` is the point is dirty.\n    isTorsionFree(): boolean {\n      return wnaf.unsafe(this, CURVE.n).is0();\n    }\n\n    // Converts Extended point to default (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    toAffine(invertedZ?: bigint): AffinePoint<bigint> {\n      return toAffineMemo(this, invertedZ);\n    }\n\n    clearCofactor(): Point {\n      if (cofactor === _1n) return this;\n      return this.multiplyUnsafe(cofactor);\n    }\n\n    toBytes(): Uint8Array {\n      const { x, y } = this.toAffine();\n      // Fp.toBytes() allows non-canonical encoding of y (>= p).\n      const bytes = Fp.toBytes(y);\n      // Each y has 2 valid points: (x, y), (x,-y).\n      // When compressing, it's enough to store y and use the last byte to encode sign of x\n      bytes[bytes.length - 1] |= x & _1n ? 0x80 : 0;\n      return bytes;\n    }\n    toHex(): string {\n      return bytesToHex(this.toBytes());\n    }\n\n    toString() {\n      return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n    }\n\n    // TODO: remove\n    get ex(): bigint {\n      return this.X;\n    }\n    get ey(): bigint {\n      return this.Y;\n    }\n    get ez(): bigint {\n      return this.Z;\n    }\n    get et(): bigint {\n      return this.T;\n    }\n    static normalizeZ(points: Point[]): Point[] {\n      return normalizeZ(Point, points);\n    }\n    static msm(points: Point[], scalars: bigint[]): Point {\n      return pippenger(Point, Fn, points, scalars);\n    }\n    _setWindowSize(windowSize: number) {\n      this.precompute(windowSize);\n    }\n    toRawBytes(): Uint8Array {\n      return this.toBytes();\n    }\n  }\n  const wnaf = new wNAF(Point, Fn.BITS);\n  Point.BASE.precompute(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n  return Point;\n}\n\n/**\n * Base class for prime-order points like Ristretto255 and Decaf448.\n * These points eliminate cofactor issues by representing equivalence classes\n * of Edwards curve points.\n */\nexport abstract class PrimeEdwardsPoint<T extends PrimeEdwardsPoint<T>>\n  implements CurvePoint<bigint, T>\n{\n  static BASE: PrimeEdwardsPoint<any>;\n  static ZERO: PrimeEdwardsPoint<any>;\n  static Fp: IField<bigint>;\n  static Fn: IField<bigint>;\n\n  protected readonly ep: EdwardsPoint;\n\n  constructor(ep: EdwardsPoint) {\n    this.ep = ep;\n  }\n\n  // Abstract methods that must be implemented by subclasses\n  abstract toBytes(): Uint8Array;\n  abstract equals(other: T): boolean;\n\n  // Static methods that must be implemented by subclasses\n  static fromBytes(_bytes: Uint8Array): any {\n    notImplemented();\n  }\n\n  static fromHex(_hex: Hex): any {\n    notImplemented();\n  }\n\n  get x(): bigint {\n    return this.toAffine().x;\n  }\n  get y(): bigint {\n    return this.toAffine().y;\n  }\n\n  // Common implementations\n  clearCofactor(): T {\n    // no-op for prime-order groups\n    return this as any;\n  }\n\n  assertValidity(): void {\n    this.ep.assertValidity();\n  }\n\n  toAffine(invertedZ?: bigint): AffinePoint<bigint> {\n    return this.ep.toAffine(invertedZ);\n  }\n\n  toHex(): string {\n    return bytesToHex(this.toBytes());\n  }\n\n  toString(): string {\n    return this.toHex();\n  }\n\n  isTorsionFree(): boolean {\n    return true;\n  }\n\n  isSmallOrder(): boolean {\n    return false;\n  }\n\n  add(other: T): T {\n    this.assertSame(other);\n    return this.init(this.ep.add(other.ep));\n  }\n\n  subtract(other: T): T {\n    this.assertSame(other);\n    return this.init(this.ep.subtract(other.ep));\n  }\n\n  multiply(scalar: bigint): T {\n    return this.init(this.ep.multiply(scalar));\n  }\n\n  multiplyUnsafe(scalar: bigint): T {\n    return this.init(this.ep.multiplyUnsafe(scalar));\n  }\n\n  double(): T {\n    return this.init(this.ep.double());\n  }\n\n  negate(): T {\n    return this.init(this.ep.negate());\n  }\n\n  precompute(windowSize?: number, isLazy?: boolean): T {\n    return this.init(this.ep.precompute(windowSize, isLazy));\n  }\n\n  // Helper methods\n  abstract is0(): boolean;\n  protected abstract assertSame(other: T): void;\n  protected abstract init(ep: EdwardsPoint): T;\n\n  /** @deprecated use `toBytes` */\n  toRawBytes(): Uint8Array {\n    return this.toBytes();\n  }\n}\n\n/**\n * Initializes EdDSA signatures over given Edwards curve.\n */\nexport function eddsa(Point: EdwardsPointCons, cHash: FHash, eddsaOpts: EdDSAOpts = {}): EdDSA {\n  if (typeof cHash !== 'function') throw new Error('\"hash\" function param is required');\n  _validateObject(\n    eddsaOpts,\n    {},\n    {\n      adjustScalarBytes: 'function',\n      randomBytes: 'function',\n      domain: 'function',\n      prehash: 'function',\n      mapToCurve: 'function',\n    }\n  );\n\n  const { prehash } = eddsaOpts;\n  const { BASE, Fp, Fn } = Point;\n\n  const randomBytes = eddsaOpts.randomBytes || randomBytesWeb;\n  const adjustScalarBytes = eddsaOpts.adjustScalarBytes || ((bytes: Uint8Array) => bytes);\n  const domain =\n    eddsaOpts.domain ||\n    ((data: Uint8Array, ctx: Uint8Array, phflag: boolean) => {\n      abool(phflag, 'phflag');\n      if (ctx.length || phflag) throw new Error('Contexts/pre-hash are not supported');\n      return data;\n    }); // NOOP\n\n  // Little-endian SHA512 with modulo n\n  function modN_LE(hash: Uint8Array): bigint {\n    return Fn.create(bytesToNumberLE(hash)); // Not Fn.fromBytes: it has length limit\n  }\n\n  // Get the hashed private scalar per RFC8032 5.1.5\n  function getPrivateScalar(key: Hex) {\n    const len = lengths.secretKey;\n    key = ensureBytes('private key', key, len);\n    // Hash private key with curve's hash function to produce uniformingly random input\n    // Check byte lengths: ensure(64, h(ensure(32, key)))\n    const hashed = ensureBytes('hashed private key', cHash(key), 2 * len);\n    const head = adjustScalarBytes(hashed.slice(0, len)); // clear first half bits, produce FE\n    const prefix = hashed.slice(len, 2 * len); // second half is called key prefix (5.1.6)\n    const scalar = modN_LE(head); // The actual private scalar\n    return { head, prefix, scalar };\n  }\n\n  /** Convenience method that creates public key from scalar. RFC8032 5.1.5 */\n  function getExtendedPublicKey(secretKey: Hex) {\n    const { head, prefix, scalar } = getPrivateScalar(secretKey);\n    const point = BASE.multiply(scalar); // Point on Edwards curve aka public key\n    const pointBytes = point.toBytes();\n    return { head, prefix, scalar, point, pointBytes };\n  }\n\n  /** Calculates EdDSA pub key. RFC8032 5.1.5. */\n  function getPublicKey(secretKey: Hex): Uint8Array {\n    return getExtendedPublicKey(secretKey).pointBytes;\n  }\n\n  // int('LE', SHA512(dom2(F, C) || msgs)) mod N\n  function hashDomainToScalar(context: Hex = Uint8Array.of(), ...msgs: Uint8Array[]) {\n    const msg = concatBytes(...msgs);\n    return modN_LE(cHash(domain(msg, ensureBytes('context', context), !!prehash)));\n  }\n\n  /** Signs message with privateKey. RFC8032 5.1.6 */\n  function sign(msg: Hex, secretKey: Hex, options: { context?: Hex } = {}): Uint8Array {\n    msg = ensureBytes('message', msg);\n    if (prehash) msg = prehash(msg); // for ed25519ph etc.\n    const { prefix, scalar, pointBytes } = getExtendedPublicKey(secretKey);\n    const r = hashDomainToScalar(options.context, prefix, msg); // r = dom2(F, C) || prefix || PH(M)\n    const R = BASE.multiply(r).toBytes(); // R = rG\n    const k = hashDomainToScalar(options.context, R, pointBytes, msg); // R || A || PH(M)\n    const s = Fn.create(r + k * scalar); // S = (r + k * s) mod L\n    if (!Fn.isValid(s)) throw new Error('sign failed: invalid s'); // 0 <= s < L\n    const rs = concatBytes(R, Fn.toBytes(s));\n    return abytes(rs, lengths.signature, 'result');\n  }\n\n  // verification rule is either zip215 or rfc8032 / nist186-5. Consult fromHex:\n  const verifyOpts: { context?: Hex; zip215?: boolean } = { zip215: true };\n\n  /**\n   * Verifies EdDSA signature against message and public key. RFC8032 5.1.7.\n   * An extended group equation is checked.\n   */\n  function verify(sig: Hex, msg: Hex, publicKey: Hex, options = verifyOpts): boolean {\n    const { context, zip215 } = options;\n    const len = lengths.signature;\n    sig = ensureBytes('signature', sig, len);\n    msg = ensureBytes('message', msg);\n    publicKey = ensureBytes('publicKey', publicKey, lengths.publicKey);\n    if (zip215 !== undefined) abool(zip215, 'zip215');\n    if (prehash) msg = prehash(msg); // for ed25519ph, etc\n\n    const mid = len / 2;\n    const r = sig.subarray(0, mid);\n    const s = bytesToNumberLE(sig.subarray(mid, len));\n    let A, R, SB;\n    try {\n      // zip215=true is good for consensus-critical apps. =false follows RFC8032 / NIST186-5.\n      // zip215=true:  0 <= y < MASK (2^256 for ed25519)\n      // zip215=false: 0 <= y < P (2^255-19 for ed25519)\n      A = Point.fromBytes(publicKey, zip215);\n      R = Point.fromBytes(r, zip215);\n      SB = BASE.multiplyUnsafe(s); // 0 <= s < l is done inside\n    } catch (error) {\n      return false;\n    }\n    if (!zip215 && A.isSmallOrder()) return false; // zip215 allows public keys of small order\n\n    const k = hashDomainToScalar(context, R.toBytes(), A.toBytes(), msg);\n    const RkA = R.add(A.multiplyUnsafe(k));\n    // Extended group equation\n    // [8][S]B = [8]R + [8][k]A'\n    return RkA.subtract(SB).clearCofactor().is0();\n  }\n\n  const _size = Fp.BYTES; // 32 for ed25519, 57 for ed448\n  const lengths = {\n    secretKey: _size,\n    publicKey: _size,\n    signature: 2 * _size,\n    seed: _size,\n  };\n  function randomSecretKey(seed = randomBytes(lengths.seed)): Uint8Array {\n    return abytes(seed, lengths.seed, 'seed');\n  }\n  function keygen(seed?: Uint8Array) {\n    const secretKey = utils.randomSecretKey(seed);\n    return { secretKey, publicKey: getPublicKey(secretKey) };\n  }\n  function isValidSecretKey(key: Uint8Array): boolean {\n    return isBytes(key) && key.length === Fn.BYTES;\n  }\n  function isValidPublicKey(key: Uint8Array, zip215?: boolean): boolean {\n    try {\n      return !!Point.fromBytes(key, zip215);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  const utils = {\n    getExtendedPublicKey,\n    randomSecretKey,\n    isValidSecretKey,\n    isValidPublicKey,\n    /**\n     * Converts ed public key to x public key. Uses formula:\n     * - ed25519:\n     *   - `(u, v) = ((1+y)/(1-y), sqrt(-486664)*u/x)`\n     *   - `(x, y) = (sqrt(-486664)*u/v, (u-1)/(u+1))`\n     * - ed448:\n     *   - `(u, v) = ((y-1)/(y+1), sqrt(156324)*u/x)`\n     *   - `(x, y) = (sqrt(156324)*u/v, (1+u)/(1-u))`\n     */\n    toMontgomery(publicKey: Uint8Array): Uint8Array {\n      const { y } = Point.fromBytes(publicKey);\n      const size = lengths.publicKey;\n      const is25519 = size === 32;\n      if (!is25519 && size !== 57) throw new Error('only defined for 25519 and 448');\n      const u = is25519 ? Fp.div(_1n + y, _1n - y) : Fp.div(y - _1n, y + _1n);\n      return Fp.toBytes(u);\n    },\n\n    toMontgomerySecret(secretKey: Uint8Array): Uint8Array {\n      const size = lengths.secretKey;\n      abytes(secretKey, size);\n      const hashed = cHash(secretKey.subarray(0, size));\n      return adjustScalarBytes(hashed).subarray(0, size);\n    },\n\n    /** @deprecated */\n    randomPrivateKey: randomSecretKey,\n    /** @deprecated */\n    precompute(windowSize = 8, point: EdwardsPoint = Point.BASE): EdwardsPoint {\n      return point.precompute(windowSize, false);\n    },\n  };\n\n  return Object.freeze({\n    keygen,\n    getPublicKey,\n    sign,\n    verify,\n    utils,\n    Point,\n    lengths,\n  });\n}\n\n// TODO: remove everything below\nexport type CurveType = BasicCurve<bigint> & {\n  a: bigint; // curve param a\n  d: bigint; // curve param d\n  /** @deprecated the property will be removed in next release */\n  hash: FHash; // Hashing\n  randomBytes?: (bytesLength?: number) => Uint8Array; // CSPRNG\n  adjustScalarBytes?: (bytes: Uint8Array) => Uint8Array; // clears bits to get valid field elemtn\n  domain?: (data: Uint8Array, ctx: Uint8Array, phflag: boolean) => Uint8Array; // Used for hashing\n  uvRatio?: UVRatio; // Ratio \u221A(u/v)\n  prehash?: FHash; // RFC 8032 pre-hashing of messages to sign() / verify()\n  mapToCurve?: (scalar: bigint[]) => AffinePoint<bigint>; // for hash-to-curve standard\n};\nexport type CurveTypeWithLength = Readonly<CurveType & Partial<NLength>>;\nexport type CurveFn = {\n  /** @deprecated the property will be removed in next release */\n  CURVE: CurveType;\n  keygen: EdDSA['keygen'];\n  getPublicKey: EdDSA['getPublicKey'];\n  sign: EdDSA['sign'];\n  verify: EdDSA['verify'];\n  Point: EdwardsPointCons;\n  /** @deprecated use `Point` */\n  ExtendedPoint: EdwardsPointCons;\n  utils: EdDSA['utils'];\n  lengths: CurveLengths;\n};\nexport type EdComposed = {\n  CURVE: EdwardsOpts;\n  curveOpts: EdwardsExtraOpts;\n  hash: FHash;\n  eddsaOpts: EdDSAOpts;\n};\nfunction _eddsa_legacy_opts_to_new(c: CurveTypeWithLength): EdComposed {\n  const CURVE: EdwardsOpts = {\n    a: c.a,\n    d: c.d,\n    p: c.Fp.ORDER,\n    n: c.n,\n    h: c.h,\n    Gx: c.Gx,\n    Gy: c.Gy,\n  };\n  const Fp = c.Fp;\n  const Fn = Field(CURVE.n, c.nBitLength, true);\n  const curveOpts: EdwardsExtraOpts = { Fp, Fn, uvRatio: c.uvRatio };\n  const eddsaOpts: EdDSAOpts = {\n    randomBytes: c.randomBytes,\n    adjustScalarBytes: c.adjustScalarBytes,\n    domain: c.domain,\n    prehash: c.prehash,\n    mapToCurve: c.mapToCurve,\n  };\n  return { CURVE, curveOpts, hash: c.hash, eddsaOpts };\n}\nfunction _eddsa_new_output_to_legacy(c: CurveTypeWithLength, eddsa: EdDSA): CurveFn {\n  const Point = eddsa.Point;\n  const legacy = Object.assign({}, eddsa, {\n    ExtendedPoint: Point,\n    CURVE: c,\n    nBitLength: Point.Fn.BITS,\n    nByteLength: Point.Fn.BYTES,\n  });\n  return legacy;\n}\n// TODO: remove. Use eddsa\nexport function twistedEdwards(c: CurveTypeWithLength): CurveFn {\n  const { CURVE, curveOpts, hash, eddsaOpts } = _eddsa_legacy_opts_to_new(c);\n  const Point = edwards(CURVE, curveOpts);\n  const EDDSA = eddsa(Point, hash, eddsaOpts);\n  return _eddsa_new_output_to_legacy(c, EDDSA);\n}\n", "/**\n * hash-to-curve from RFC 9380.\n * Hashes arbitrary-length byte strings to a list of one or more elements of a finite field F.\n * https://www.rfc-editor.org/rfc/rfc9380\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport type { CHash } from '../utils.ts';\nimport {\n  _validateObject,\n  abytes,\n  bytesToNumberBE,\n  concatBytes,\n  isBytes,\n  isHash,\n  utf8ToBytes,\n} from '../utils.ts';\nimport type { AffinePoint, Group, GroupConstructor } from './curve.ts';\nimport { FpInvertBatch, mod, type IField } from './modular.ts';\n\nexport type UnicodeOrBytes = string | Uint8Array;\n\n/**\n * * `DST` is a domain separation tag, defined in section 2.2.5\n * * `p` characteristic of F, where F is a finite field of characteristic p and order q = p^m\n * * `m` is extension degree (1 for prime fields)\n * * `k` is the target security target in bits (e.g. 128), from section 5.1\n * * `expand` is `xmd` (SHA2, SHA3, BLAKE) or `xof` (SHAKE, BLAKE-XOF)\n * * `hash` conforming to `utils.CHash` interface, with `outputLen` / `blockLen` props\n */\nexport type H2COpts = {\n  DST: UnicodeOrBytes;\n  expand: 'xmd' | 'xof';\n  hash: CHash;\n  p: bigint;\n  m: number;\n  k: number;\n};\nexport type H2CHashOpts = {\n  expand: 'xmd' | 'xof';\n  hash: CHash;\n};\n// todo: remove\nexport type Opts = H2COpts;\n\n// Octet Stream to Integer. \"spec\" implementation of os2ip is 2.5x slower vs bytesToNumberBE.\nconst os2ip = bytesToNumberBE;\n\n// Integer to Octet Stream (numberToBytesBE)\nfunction i2osp(value: number, length: number): Uint8Array {\n  anum(value);\n  anum(length);\n  if (value < 0 || value >= 1 << (8 * length)) throw new Error('invalid I2OSP input: ' + value);\n  const res = Array.from({ length }).fill(0) as number[];\n  for (let i = length - 1; i >= 0; i--) {\n    res[i] = value & 0xff;\n    value >>>= 8;\n  }\n  return new Uint8Array(res);\n}\n\nfunction strxor(a: Uint8Array, b: Uint8Array): Uint8Array {\n  const arr = new Uint8Array(a.length);\n  for (let i = 0; i < a.length; i++) {\n    arr[i] = a[i] ^ b[i];\n  }\n  return arr;\n}\n\nfunction anum(item: unknown): void {\n  if (!Number.isSafeInteger(item)) throw new Error('number expected');\n}\n\nfunction normDST(DST: UnicodeOrBytes): Uint8Array {\n  if (!isBytes(DST) && typeof DST !== 'string') throw new Error('DST must be Uint8Array or string');\n  return typeof DST === 'string' ? utf8ToBytes(DST) : DST;\n}\n\n/**\n * Produces a uniformly random byte string using a cryptographic hash function H that outputs b bits.\n * [RFC 9380 5.3.1](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.1).\n */\nexport function expand_message_xmd(\n  msg: Uint8Array,\n  DST: UnicodeOrBytes,\n  lenInBytes: number,\n  H: CHash\n): Uint8Array {\n  abytes(msg);\n  anum(lenInBytes);\n  DST = normDST(DST);\n  // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n  if (DST.length > 255) DST = H(concatBytes(utf8ToBytes('H2C-OVERSIZE-DST-'), DST));\n  const { outputLen: b_in_bytes, blockLen: r_in_bytes } = H;\n  const ell = Math.ceil(lenInBytes / b_in_bytes);\n  if (lenInBytes > 65535 || ell > 255) throw new Error('expand_message_xmd: invalid lenInBytes');\n  const DST_prime = concatBytes(DST, i2osp(DST.length, 1));\n  const Z_pad = i2osp(0, r_in_bytes);\n  const l_i_b_str = i2osp(lenInBytes, 2); // len_in_bytes_str\n  const b = new Array<Uint8Array>(ell);\n  const b_0 = H(concatBytes(Z_pad, msg, l_i_b_str, i2osp(0, 1), DST_prime));\n  b[0] = H(concatBytes(b_0, i2osp(1, 1), DST_prime));\n  for (let i = 1; i <= ell; i++) {\n    const args = [strxor(b_0, b[i - 1]), i2osp(i + 1, 1), DST_prime];\n    b[i] = H(concatBytes(...args));\n  }\n  const pseudo_random_bytes = concatBytes(...b);\n  return pseudo_random_bytes.slice(0, lenInBytes);\n}\n\n/**\n * Produces a uniformly random byte string using an extendable-output function (XOF) H.\n * 1. The collision resistance of H MUST be at least k bits.\n * 2. H MUST be an XOF that has been proved indifferentiable from\n *    a random oracle under a reasonable cryptographic assumption.\n * [RFC 9380 5.3.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.2).\n */\nexport function expand_message_xof(\n  msg: Uint8Array,\n  DST: UnicodeOrBytes,\n  lenInBytes: number,\n  k: number,\n  H: CHash\n): Uint8Array {\n  abytes(msg);\n  anum(lenInBytes);\n  DST = normDST(DST);\n  // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n  // DST = H('H2C-OVERSIZE-DST-' || a_very_long_DST, Math.ceil((lenInBytes * k) / 8));\n  if (DST.length > 255) {\n    const dkLen = Math.ceil((2 * k) / 8);\n    DST = H.create({ dkLen }).update(utf8ToBytes('H2C-OVERSIZE-DST-')).update(DST).digest();\n  }\n  if (lenInBytes > 65535 || DST.length > 255)\n    throw new Error('expand_message_xof: invalid lenInBytes');\n  return (\n    H.create({ dkLen: lenInBytes })\n      .update(msg)\n      .update(i2osp(lenInBytes, 2))\n      // 2. DST_prime = DST || I2OSP(len(DST), 1)\n      .update(DST)\n      .update(i2osp(DST.length, 1))\n      .digest()\n  );\n}\n\n/**\n * Hashes arbitrary-length byte strings to a list of one or more elements of a finite field F.\n * [RFC 9380 5.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.2).\n * @param msg a byte string containing the message to hash\n * @param count the number of elements of F to output\n * @param options `{DST: string, p: bigint, m: number, k: number, expand: 'xmd' | 'xof', hash: H}`, see above\n * @returns [u_0, ..., u_(count - 1)], a list of field elements.\n */\nexport function hash_to_field(msg: Uint8Array, count: number, options: H2COpts): bigint[][] {\n  _validateObject(options, {\n    p: 'bigint',\n    m: 'number',\n    k: 'number',\n    hash: 'function',\n  });\n  const { p, k, m, hash, expand, DST } = options;\n  if (!isHash(options.hash)) throw new Error('expected valid hash');\n  abytes(msg);\n  anum(count);\n  const log2p = p.toString(2).length;\n  const L = Math.ceil((log2p + k) / 8); // section 5.1 of ietf draft link above\n  const len_in_bytes = count * m * L;\n  let prb; // pseudo_random_bytes\n  if (expand === 'xmd') {\n    prb = expand_message_xmd(msg, DST, len_in_bytes, hash);\n  } else if (expand === 'xof') {\n    prb = expand_message_xof(msg, DST, len_in_bytes, k, hash);\n  } else if (expand === '_internal_pass') {\n    // for internal tests only\n    prb = msg;\n  } else {\n    throw new Error('expand must be \"xmd\" or \"xof\"');\n  }\n  const u = new Array(count);\n  for (let i = 0; i < count; i++) {\n    const e = new Array(m);\n    for (let j = 0; j < m; j++) {\n      const elm_offset = L * (j + i * m);\n      const tv = prb.subarray(elm_offset, elm_offset + L);\n      e[j] = mod(os2ip(tv), p);\n    }\n    u[i] = e;\n  }\n  return u;\n}\n\nexport type XY<T> = (x: T, y: T) => { x: T; y: T };\nexport type XYRatio<T> = [T[], T[], T[], T[]]; // xn/xd, yn/yd\nexport function isogenyMap<T, F extends IField<T>>(field: F, map: XYRatio<T>): XY<T> {\n  // Make same order as in spec\n  const coeff = map.map((i) => Array.from(i).reverse());\n  return (x: T, y: T) => {\n    const [xn, xd, yn, yd] = coeff.map((val) =>\n      val.reduce((acc, i) => field.add(field.mul(acc, x), i))\n    );\n    // 6.6.3\n    // Exceptional cases of iso_map are inputs that cause the denominator of\n    // either rational function to evaluate to zero; such cases MUST return\n    // the identity point on E.\n    const [xd_inv, yd_inv] = FpInvertBatch(field, [xd, yd], true);\n    x = field.mul(xn, xd_inv); // xNum / xDen\n    y = field.mul(y, field.mul(yn, yd_inv)); // y * (yNum / yDev)\n    return { x, y };\n  };\n}\n\n/** Point interface, which curves must implement to work correctly with the module. */\nexport interface H2CPoint<T> extends Group<H2CPoint<T>> {\n  add(rhs: H2CPoint<T>): H2CPoint<T>;\n  toAffine(iz?: bigint): AffinePoint<T>;\n  clearCofactor(): H2CPoint<T>;\n  assertValidity(): void;\n}\n\nexport interface H2CPointConstructor<T> extends GroupConstructor<H2CPoint<T>> {\n  fromAffine(ap: AffinePoint<T>): H2CPoint<T>;\n}\n\nexport type MapToCurve<T> = (scalar: bigint[]) => AffinePoint<T>;\n\n// Separated from initialization opts, so users won't accidentally change per-curve parameters\n// (changing DST is ok!)\nexport type htfBasicOpts = { DST: UnicodeOrBytes };\nexport type H2CMethod<T> = (msg: Uint8Array, options?: htfBasicOpts) => H2CPoint<T>;\n// TODO: remove\nexport type HTFMethod<T> = H2CMethod<T>;\nexport type MapMethod<T> = (scalars: bigint[]) => H2CPoint<T>;\nexport type H2CHasherBase<T> = {\n  hashToCurve: H2CMethod<T>;\n  hashToScalar: (msg: Uint8Array, options: htfBasicOpts) => bigint;\n};\n/**\n * RFC 9380 methods, with cofactor clearing. See https://www.rfc-editor.org/rfc/rfc9380#section-3.\n *\n * * hashToCurve: `map(hash(input))`, encodes RANDOM bytes to curve (WITH hashing)\n * * encodeToCurve: `map(hash(input))`, encodes NON-UNIFORM bytes to curve (WITH hashing)\n * * mapToCurve: `map(scalars)`, encodes NON-UNIFORM scalars to curve (NO hashing)\n */\nexport type H2CHasher<T> = H2CHasherBase<T> & {\n  encodeToCurve: H2CMethod<T>;\n  mapToCurve: MapMethod<T>;\n  defaults: H2COpts & { encodeDST?: UnicodeOrBytes };\n};\n// TODO: remove\nexport type Hasher<T> = H2CHasher<T>;\n\nexport const _DST_scalar: Uint8Array = utf8ToBytes('HashToScalar-');\n\n/** Creates hash-to-curve methods from EC Point and mapToCurve function. See {@link H2CHasher}. */\nexport function createHasher<T>(\n  Point: H2CPointConstructor<T>,\n  mapToCurve: MapToCurve<T>,\n  defaults: H2COpts & { encodeDST?: UnicodeOrBytes }\n): H2CHasher<T> {\n  if (typeof mapToCurve !== 'function') throw new Error('mapToCurve() must be defined');\n  function map(num: bigint[]) {\n    return Point.fromAffine(mapToCurve(num));\n  }\n  function clear(initial: H2CPoint<T>) {\n    const P = initial.clearCofactor();\n    if (P.equals(Point.ZERO)) return Point.ZERO; // zero will throw in assert\n    P.assertValidity();\n    return P;\n  }\n\n  return {\n    defaults,\n\n    hashToCurve(msg: Uint8Array, options?: htfBasicOpts): H2CPoint<T> {\n      const opts = Object.assign({}, defaults, options);\n      const u = hash_to_field(msg, 2, opts);\n      const u0 = map(u[0]);\n      const u1 = map(u[1]);\n      return clear(u0.add(u1));\n    },\n    encodeToCurve(msg: Uint8Array, options?: htfBasicOpts): H2CPoint<T> {\n      const optsDst = defaults.encodeDST ? { DST: defaults.encodeDST } : {};\n      const opts = Object.assign({}, defaults, optsDst, options);\n      const u = hash_to_field(msg, 1, opts);\n      const u0 = map(u[0]);\n      return clear(u0);\n    },\n    /** See {@link H2CHasher} */\n    mapToCurve(scalars: bigint[]): H2CPoint<T> {\n      if (!Array.isArray(scalars)) throw new Error('expected array of bigints');\n      for (const i of scalars)\n        if (typeof i !== 'bigint') throw new Error('expected array of bigints');\n      return clear(map(scalars));\n    },\n\n    // hash_to_scalar can produce 0: https://www.rfc-editor.org/errata/eid8393\n    // RFC 9380, draft-irtf-cfrg-bbs-signatures-08\n    hashToScalar(msg: Uint8Array, options?: htfBasicOpts): bigint {\n      // @ts-ignore\n      const N = Point.Fn.ORDER;\n      const opts = Object.assign({}, defaults, { p: N, m: 1, DST: _DST_scalar }, options);\n      return hash_to_field(msg, 1, opts)[0][0];\n    },\n  };\n}\n", "/**\n * Montgomery curve methods. It's not really whole montgomery curve,\n * just bunch of very specific methods for X25519 / X448 from\n * [RFC 7748](https://www.rfc-editor.org/rfc/rfc7748)\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport {\n  _validateObject,\n  abytes,\n  aInRange,\n  bytesToNumberLE,\n  ensureBytes,\n  numberToBytesLE,\n  randomBytes,\n} from '../utils.ts';\nimport type { CurveLengths } from './curve.ts';\nimport { mod } from './modular.ts';\n\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\ntype Hex = string | Uint8Array;\n\nexport type CurveType = {\n  P: bigint; // finite field prime\n  type: 'x25519' | 'x448';\n  adjustScalarBytes: (bytes: Uint8Array) => Uint8Array;\n  powPminus2: (x: bigint) => bigint;\n  randomBytes?: (bytesLength?: number) => Uint8Array;\n};\n\nexport type MontgomeryECDH = {\n  scalarMult: (scalar: Hex, u: Hex) => Uint8Array;\n  scalarMultBase: (scalar: Hex) => Uint8Array;\n  getSharedSecret: (secretKeyA: Hex, publicKeyB: Hex) => Uint8Array;\n  getPublicKey: (secretKey: Hex) => Uint8Array;\n  utils: {\n    randomSecretKey: () => Uint8Array;\n    /** @deprecated use `randomSecretKey` */\n    randomPrivateKey: () => Uint8Array;\n  };\n  GuBytes: Uint8Array;\n  lengths: CurveLengths;\n  keygen: (seed?: Uint8Array) => { secretKey: Uint8Array; publicKey: Uint8Array };\n};\nexport type CurveFn = MontgomeryECDH;\n\nfunction validateOpts(curve: CurveType) {\n  _validateObject(curve, {\n    adjustScalarBytes: 'function',\n    powPminus2: 'function',\n  });\n  return Object.freeze({ ...curve } as const);\n}\n\nexport function montgomery(curveDef: CurveType): MontgomeryECDH {\n  const CURVE = validateOpts(curveDef);\n  const { P, type, adjustScalarBytes, powPminus2, randomBytes: rand } = CURVE;\n  const is25519 = type === 'x25519';\n  if (!is25519 && type !== 'x448') throw new Error('invalid type');\n  const randomBytes_ = rand || randomBytes;\n\n  const montgomeryBits = is25519 ? 255 : 448;\n  const fieldLen = is25519 ? 32 : 56;\n  const Gu = is25519 ? BigInt(9) : BigInt(5);\n  // RFC 7748 #5:\n  // The constant a24 is (486662 - 2) / 4 = 121665 for curve25519/X25519 and\n  // (156326 - 2) / 4 = 39081 for curve448/X448\n  // const a = is25519 ? 156326n : 486662n;\n  const a24 = is25519 ? BigInt(121665) : BigInt(39081);\n  // RFC: x25519 \"the resulting integer is of the form 2^254 plus\n  // eight times a value between 0 and 2^251 - 1 (inclusive)\"\n  // x448: \"2^447 plus four times a value between 0 and 2^445 - 1 (inclusive)\"\n  const minScalar = is25519 ? _2n ** BigInt(254) : _2n ** BigInt(447);\n  const maxAdded = is25519\n    ? BigInt(8) * _2n ** BigInt(251) - _1n\n    : BigInt(4) * _2n ** BigInt(445) - _1n;\n  const maxScalar = minScalar + maxAdded + _1n; // (inclusive)\n  const modP = (n: bigint) => mod(n, P);\n  const GuBytes = encodeU(Gu);\n  function encodeU(u: bigint): Uint8Array {\n    return numberToBytesLE(modP(u), fieldLen);\n  }\n  function decodeU(u: Hex): bigint {\n    const _u = ensureBytes('u coordinate', u, fieldLen);\n    // RFC: When receiving such an array, implementations of X25519\n    // (but not X448) MUST mask the most significant bit in the final byte.\n    if (is25519) _u[31] &= 127; // 0b0111_1111\n    // RFC: Implementations MUST accept non-canonical values and process them as\n    // if they had been reduced modulo the field prime.  The non-canonical\n    // values are 2^255 - 19 through 2^255 - 1 for X25519 and 2^448 - 2^224\n    // - 1 through 2^448 - 1 for X448.\n    return modP(bytesToNumberLE(_u));\n  }\n  function decodeScalar(scalar: Hex): bigint {\n    return bytesToNumberLE(adjustScalarBytes(ensureBytes('scalar', scalar, fieldLen)));\n  }\n  function scalarMult(scalar: Hex, u: Hex): Uint8Array {\n    const pu = montgomeryLadder(decodeU(u), decodeScalar(scalar));\n    // Some public keys are useless, of low-order. Curve author doesn't think\n    // it needs to be validated, but we do it nonetheless.\n    // https://cr.yp.to/ecdh.html#validate\n    if (pu === _0n) throw new Error('invalid private or public key received');\n    return encodeU(pu);\n  }\n  // Computes public key from private. By doing scalar multiplication of base point.\n  function scalarMultBase(scalar: Hex): Uint8Array {\n    return scalarMult(scalar, GuBytes);\n  }\n\n  // cswap from RFC7748 \"example code\"\n  function cswap(swap: bigint, x_2: bigint, x_3: bigint): { x_2: bigint; x_3: bigint } {\n    // dummy = mask(swap) AND (x_2 XOR x_3)\n    // Where mask(swap) is the all-1 or all-0 word of the same length as x_2\n    // and x_3, computed, e.g., as mask(swap) = 0 - swap.\n    const dummy = modP(swap * (x_2 - x_3));\n    x_2 = modP(x_2 - dummy); // x_2 = x_2 XOR dummy\n    x_3 = modP(x_3 + dummy); // x_3 = x_3 XOR dummy\n    return { x_2, x_3 };\n  }\n\n  /**\n   * Montgomery x-only multiplication ladder.\n   * @param pointU u coordinate (x) on Montgomery Curve 25519\n   * @param scalar by which the point would be multiplied\n   * @returns new Point on Montgomery curve\n   */\n  function montgomeryLadder(u: bigint, scalar: bigint): bigint {\n    aInRange('u', u, _0n, P);\n    aInRange('scalar', scalar, minScalar, maxScalar);\n    const k = scalar;\n    const x_1 = u;\n    let x_2 = _1n;\n    let z_2 = _0n;\n    let x_3 = u;\n    let z_3 = _1n;\n    let swap = _0n;\n    for (let t = BigInt(montgomeryBits - 1); t >= _0n; t--) {\n      const k_t = (k >> t) & _1n;\n      swap ^= k_t;\n      ({ x_2, x_3 } = cswap(swap, x_2, x_3));\n      ({ x_2: z_2, x_3: z_3 } = cswap(swap, z_2, z_3));\n      swap = k_t;\n\n      const A = x_2 + z_2;\n      const AA = modP(A * A);\n      const B = x_2 - z_2;\n      const BB = modP(B * B);\n      const E = AA - BB;\n      const C = x_3 + z_3;\n      const D = x_3 - z_3;\n      const DA = modP(D * A);\n      const CB = modP(C * B);\n      const dacb = DA + CB;\n      const da_cb = DA - CB;\n      x_3 = modP(dacb * dacb);\n      z_3 = modP(x_1 * modP(da_cb * da_cb));\n      x_2 = modP(AA * BB);\n      z_2 = modP(E * (AA + modP(a24 * E)));\n    }\n    ({ x_2, x_3 } = cswap(swap, x_2, x_3));\n    ({ x_2: z_2, x_3: z_3 } = cswap(swap, z_2, z_3));\n    const z2 = powPminus2(z_2); // `Fp.pow(x, P - _2n)` is much slower equivalent\n    return modP(x_2 * z2); // Return x_2 * (z_2^(p - 2))\n  }\n  const lengths = {\n    secretKey: fieldLen,\n    publicKey: fieldLen,\n    seed: fieldLen,\n  };\n  const randomSecretKey = (seed = randomBytes_(fieldLen)) => {\n    abytes(seed, lengths.seed);\n    return seed;\n  };\n  function keygen(seed?: Uint8Array) {\n    const secretKey = randomSecretKey(seed);\n    return { secretKey, publicKey: scalarMultBase(secretKey) };\n  }\n  const utils = {\n    randomSecretKey,\n    randomPrivateKey: randomSecretKey,\n  };\n  return {\n    keygen,\n    getSharedSecret: (secretKey: Hex, publicKey: Hex) => scalarMult(secretKey, publicKey),\n    getPublicKey: (secretKey: Hex): Uint8Array => scalarMultBase(secretKey),\n    scalarMult,\n    scalarMultBase,\n    utils,\n    GuBytes: GuBytes.slice(),\n    lengths,\n  };\n}\n", "/**\n * ed25519 Twisted Edwards curve with following addons:\n * - X25519 ECDH\n * - Ristretto cofactor elimination\n * - Elligator hash-to-group / point indistinguishability\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha512 } from '@noble/hashes/sha2.js';\nimport { abytes, concatBytes, utf8ToBytes } from '@noble/hashes/utils.js';\nimport { pippenger, type AffinePoint } from './abstract/curve.ts';\nimport {\n  PrimeEdwardsPoint,\n  twistedEdwards,\n  type CurveFn,\n  type EdwardsOpts,\n  type EdwardsPoint,\n} from './abstract/edwards.ts';\nimport {\n  _DST_scalar,\n  createHasher,\n  expand_message_xmd,\n  type H2CHasher,\n  type H2CHasherBase,\n  type H2CMethod,\n  type htfBasicOpts,\n} from './abstract/hash-to-curve.ts';\nimport {\n  Field,\n  FpInvertBatch,\n  FpSqrtEven,\n  isNegativeLE,\n  mod,\n  pow2,\n  type IField,\n} from './abstract/modular.ts';\nimport { montgomery, type MontgomeryECDH as XCurveFn } from './abstract/montgomery.ts';\nimport { bytesToNumberLE, ensureBytes, equalBytes, type Hex } from './utils.ts';\n\n// prettier-ignore\nconst _0n = /* @__PURE__ */ BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3);\n// prettier-ignore\nconst _5n = BigInt(5), _8n = BigInt(8);\n\n// P = 2n**255n-19n\nconst ed25519_CURVE_p = BigInt(\n  '0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed'\n);\n\n// N = 2n**252n + 27742317777372353535851937790883648493n\n// a = Fp.create(BigInt(-1))\n// d = -121665/121666 a.k.a. Fp.neg(121665 * Fp.inv(121666))\nconst ed25519_CURVE: EdwardsOpts = /* @__PURE__ */ (() => ({\n  p: ed25519_CURVE_p,\n  n: BigInt('0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed'),\n  h: _8n,\n  a: BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec'),\n  d: BigInt('0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3'),\n  Gx: BigInt('0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a'),\n  Gy: BigInt('0x6666666666666666666666666666666666666666666666666666666666666658'),\n}))();\n\nfunction ed25519_pow_2_252_3(x: bigint) {\n  // prettier-ignore\n  const _10n = BigInt(10), _20n = BigInt(20), _40n = BigInt(40), _80n = BigInt(80);\n  const P = ed25519_CURVE_p;\n  const x2 = (x * x) % P;\n  const b2 = (x2 * x) % P; // x^3, 11\n  const b4 = (pow2(b2, _2n, P) * b2) % P; // x^15, 1111\n  const b5 = (pow2(b4, _1n, P) * x) % P; // x^31\n  const b10 = (pow2(b5, _5n, P) * b5) % P;\n  const b20 = (pow2(b10, _10n, P) * b10) % P;\n  const b40 = (pow2(b20, _20n, P) * b20) % P;\n  const b80 = (pow2(b40, _40n, P) * b40) % P;\n  const b160 = (pow2(b80, _80n, P) * b80) % P;\n  const b240 = (pow2(b160, _80n, P) * b80) % P;\n  const b250 = (pow2(b240, _10n, P) * b10) % P;\n  const pow_p_5_8 = (pow2(b250, _2n, P) * x) % P;\n  // ^ To pow to (p+3)/8, multiply it by x.\n  return { pow_p_5_8, b2 };\n}\n\nfunction adjustScalarBytes(bytes: Uint8Array): Uint8Array {\n  // Section 5: For X25519, in order to decode 32 random bytes as an integer scalar,\n  // set the three least significant bits of the first byte\n  bytes[0] &= 248; // 0b1111_1000\n  // and the most significant bit of the last to zero,\n  bytes[31] &= 127; // 0b0111_1111\n  // set the second most significant bit of the last byte to 1\n  bytes[31] |= 64; // 0b0100_0000\n  return bytes;\n}\n\n// \u221A(-1) aka \u221A(a) aka 2^((p-1)/4)\n// Fp.sqrt(Fp.neg(1))\nconst ED25519_SQRT_M1 = /* @__PURE__ */ BigInt(\n  '19681161376707505956807079304988542015446066515923890162744021073123829784752'\n);\n// sqrt(u/v)\nfunction uvRatio(u: bigint, v: bigint): { isValid: boolean; value: bigint } {\n  const P = ed25519_CURVE_p;\n  const v3 = mod(v * v * v, P); // v\u00B3\n  const v7 = mod(v3 * v3 * v, P); // v\u2077\n  // (p+3)/8 and (p-5)/8\n  const pow = ed25519_pow_2_252_3(u * v7).pow_p_5_8;\n  let x = mod(u * v3 * pow, P); // (uv\u00B3)(uv\u2077)^(p-5)/8\n  const vx2 = mod(v * x * x, P); // vx\u00B2\n  const root1 = x; // First root candidate\n  const root2 = mod(x * ED25519_SQRT_M1, P); // Second root candidate\n  const useRoot1 = vx2 === u; // If vx\u00B2 = u (mod p), x is a square root\n  const useRoot2 = vx2 === mod(-u, P); // If vx\u00B2 = -u, set x <-- x * 2^((p-1)/4)\n  const noRoot = vx2 === mod(-u * ED25519_SQRT_M1, P); // There is no valid root, vx\u00B2 = -u\u221A(-1)\n  if (useRoot1) x = root1;\n  if (useRoot2 || noRoot) x = root2; // We return root2 anyway, for const-time\n  if (isNegativeLE(x, P)) x = mod(-x, P);\n  return { isValid: useRoot1 || useRoot2, value: x };\n}\n\nconst Fp = /* @__PURE__ */ (() => Field(ed25519_CURVE.p, { isLE: true }))();\nconst Fn = /* @__PURE__ */ (() => Field(ed25519_CURVE.n, { isLE: true }))();\n\nconst ed25519Defaults = /* @__PURE__ */ (() => ({\n  ...ed25519_CURVE,\n  Fp,\n  hash: sha512,\n  adjustScalarBytes,\n  // dom2\n  // Ratio of u to v. Allows us to combine inversion and square root. Uses algo from RFC8032 5.1.3.\n  // Constant-time, u/\u221Av\n  uvRatio,\n}))();\n\n/**\n * ed25519 curve with EdDSA signatures.\n * @example\n * import { ed25519 } from '@noble/curves/ed25519';\n * const { secretKey, publicKey } = ed25519.keygen();\n * const msg = new TextEncoder().encode('hello');\n * const sig = ed25519.sign(msg, priv);\n * ed25519.verify(sig, msg, pub); // Default mode: follows ZIP215\n * ed25519.verify(sig, msg, pub, { zip215: false }); // RFC8032 / FIPS 186-5\n */\nexport const ed25519: CurveFn = /* @__PURE__ */ (() => twistedEdwards(ed25519Defaults))();\n\nfunction ed25519_domain(data: Uint8Array, ctx: Uint8Array, phflag: boolean) {\n  if (ctx.length > 255) throw new Error('Context is too big');\n  return concatBytes(\n    utf8ToBytes('SigEd25519 no Ed25519 collisions'),\n    new Uint8Array([phflag ? 1 : 0, ctx.length]),\n    ctx,\n    data\n  );\n}\n\n/** Context of ed25519. Uses context for domain separation. */\nexport const ed25519ctx: CurveFn = /* @__PURE__ */ (() =>\n  twistedEdwards({\n    ...ed25519Defaults,\n    domain: ed25519_domain,\n  }))();\n\n/** Prehashed version of ed25519. Accepts already-hashed messages in sign() and verify(). */\nexport const ed25519ph: CurveFn = /* @__PURE__ */ (() =>\n  twistedEdwards(\n    Object.assign({}, ed25519Defaults, {\n      domain: ed25519_domain,\n      prehash: sha512,\n    })\n  ))();\n\n/**\n * ECDH using curve25519 aka x25519.\n * @example\n * import { x25519 } from '@noble/curves/ed25519';\n * const priv = 'a546e36bf0527c9d3b16154b82465edd62144c0ac1fc5a18506a2244ba449ac4';\n * const pub = 'e6db6867583030db3594c1a424b15f7c726624ec26b3353b10a903a6d0ab1c4c';\n * x25519.getSharedSecret(priv, pub) === x25519.scalarMult(priv, pub); // aliases\n * x25519.getPublicKey(priv) === x25519.scalarMultBase(priv);\n * x25519.getPublicKey(x25519.utils.randomSecretKey());\n */\nexport const x25519: XCurveFn = /* @__PURE__ */ (() => {\n  const P = Fp.ORDER;\n  return montgomery({\n    P,\n    type: 'x25519',\n    powPminus2: (x: bigint): bigint => {\n      // x^(p-2) aka x^(2^255-21)\n      const { pow_p_5_8, b2 } = ed25519_pow_2_252_3(x);\n      return mod(pow2(pow_p_5_8, _3n, P) * b2, P);\n    },\n    adjustScalarBytes,\n  });\n})();\n\n// Hash To Curve Elligator2 Map (NOTE: different from ristretto255 elligator)\n// NOTE: very important part is usage of FpSqrtEven for ELL2_C1_EDWARDS, since\n// SageMath returns different root first and everything falls apart\nconst ELL2_C1 = /* @__PURE__ */ (() => (ed25519_CURVE_p + _3n) / _8n)(); // 1. c1 = (q + 3) / 8       # Integer arithmetic\nconst ELL2_C2 = /* @__PURE__ */ (() => Fp.pow(_2n, ELL2_C1))(); // 2. c2 = 2^c1\nconst ELL2_C3 = /* @__PURE__ */ (() => Fp.sqrt(Fp.neg(Fp.ONE)))(); // 3. c3 = sqrt(-1)\n\n// prettier-ignore\nfunction map_to_curve_elligator2_curve25519(u: bigint) {\n  const ELL2_C4 = (ed25519_CURVE_p - _5n) / _8n; // 4. c4 = (q - 5) / 8       # Integer arithmetic\n  const ELL2_J = BigInt(486662);\n\n  let tv1 = Fp.sqr(u);          //  1.  tv1 = u^2\n  tv1 = Fp.mul(tv1, _2n);       //  2.  tv1 = 2 * tv1\n  let xd = Fp.add(tv1, Fp.ONE); //  3.   xd = tv1 + 1         # Nonzero: -1 is square (mod p), tv1 is not\n  let x1n = Fp.neg(ELL2_J);     //  4.  x1n = -J              # x1 = x1n / xd = -J / (1 + 2 * u^2)\n  let tv2 = Fp.sqr(xd);         //  5.  tv2 = xd^2\n  let gxd = Fp.mul(tv2, xd);    //  6.  gxd = tv2 * xd        # gxd = xd^3\n  let gx1 = Fp.mul(tv1, ELL2_J);//  7.  gx1 = J * tv1         # x1n + J * xd\n  gx1 = Fp.mul(gx1, x1n);       //  8.  gx1 = gx1 * x1n       # x1n^2 + J * x1n * xd\n  gx1 = Fp.add(gx1, tv2);       //  9.  gx1 = gx1 + tv2       # x1n^2 + J * x1n * xd + xd^2\n  gx1 = Fp.mul(gx1, x1n);       //  10. gx1 = gx1 * x1n       # x1n^3 + J * x1n^2 * xd + x1n * xd^2\n  let tv3 = Fp.sqr(gxd);        //  11. tv3 = gxd^2\n  tv2 = Fp.sqr(tv3);            //  12. tv2 = tv3^2           # gxd^4\n  tv3 = Fp.mul(tv3, gxd);       //  13. tv3 = tv3 * gxd       # gxd^3\n  tv3 = Fp.mul(tv3, gx1);       //  14. tv3 = tv3 * gx1       # gx1 * gxd^3\n  tv2 = Fp.mul(tv2, tv3);       //  15. tv2 = tv2 * tv3       # gx1 * gxd^7\n  let y11 = Fp.pow(tv2, ELL2_C4); //  16. y11 = tv2^c4        # (gx1 * gxd^7)^((p - 5) / 8)\n  y11 = Fp.mul(y11, tv3);       //  17. y11 = y11 * tv3       # gx1*gxd^3*(gx1*gxd^7)^((p-5)/8)\n  let y12 = Fp.mul(y11, ELL2_C3); //  18. y12 = y11 * c3\n  tv2 = Fp.sqr(y11);            //  19. tv2 = y11^2\n  tv2 = Fp.mul(tv2, gxd);       //  20. tv2 = tv2 * gxd\n  let e1 = Fp.eql(tv2, gx1);    //  21.  e1 = tv2 == gx1\n  let y1 = Fp.cmov(y12, y11, e1); //  22.  y1 = CMOV(y12, y11, e1)  # If g(x1) is square, this is its sqrt\n  let x2n = Fp.mul(x1n, tv1);   //  23. x2n = x1n * tv1       # x2 = x2n / xd = 2 * u^2 * x1n / xd\n  let y21 = Fp.mul(y11, u);     //  24. y21 = y11 * u\n  y21 = Fp.mul(y21, ELL2_C2);   //  25. y21 = y21 * c2\n  let y22 = Fp.mul(y21, ELL2_C3); //  26. y22 = y21 * c3\n  let gx2 = Fp.mul(gx1, tv1);   //  27. gx2 = gx1 * tv1       # g(x2) = gx2 / gxd = 2 * u^2 * g(x1)\n  tv2 = Fp.sqr(y21);            //  28. tv2 = y21^2\n  tv2 = Fp.mul(tv2, gxd);       //  29. tv2 = tv2 * gxd\n  let e2 = Fp.eql(tv2, gx2);    //  30.  e2 = tv2 == gx2\n  let y2 = Fp.cmov(y22, y21, e2); //  31.  y2 = CMOV(y22, y21, e2)  # If g(x2) is square, this is its sqrt\n  tv2 = Fp.sqr(y1);             //  32. tv2 = y1^2\n  tv2 = Fp.mul(tv2, gxd);       //  33. tv2 = tv2 * gxd\n  let e3 = Fp.eql(tv2, gx1);    //  34.  e3 = tv2 == gx1\n  let xn = Fp.cmov(x2n, x1n, e3); //  35.  xn = CMOV(x2n, x1n, e3)  # If e3, x = x1, else x = x2\n  let y = Fp.cmov(y2, y1, e3);  //  36.   y = CMOV(y2, y1, e3)    # If e3, y = y1, else y = y2\n  let e4 = Fp.isOdd!(y);         //  37.  e4 = sgn0(y) == 1        # Fix sign of y\n  y = Fp.cmov(y, Fp.neg(y), e3 !== e4); //  38.   y = CMOV(y, -y, e3 XOR e4)\n  return { xMn: xn, xMd: xd, yMn: y, yMd: _1n }; //  39. return (xn, xd, y, 1)\n}\n\nconst ELL2_C1_EDWARDS = /* @__PURE__ */ (() => FpSqrtEven(Fp, Fp.neg(BigInt(486664))))(); // sgn0(c1) MUST equal 0\nfunction map_to_curve_elligator2_edwards25519(u: bigint) {\n  const { xMn, xMd, yMn, yMd } = map_to_curve_elligator2_curve25519(u); //  1.  (xMn, xMd, yMn, yMd) =\n  // map_to_curve_elligator2_curve25519(u)\n  let xn = Fp.mul(xMn, yMd); //  2.  xn = xMn * yMd\n  xn = Fp.mul(xn, ELL2_C1_EDWARDS); //  3.  xn = xn * c1\n  let xd = Fp.mul(xMd, yMn); //  4.  xd = xMd * yMn    # xn / xd = c1 * xM / yM\n  let yn = Fp.sub(xMn, xMd); //  5.  yn = xMn - xMd\n  let yd = Fp.add(xMn, xMd); //  6.  yd = xMn + xMd    # (n / d - 1) / (n / d + 1) = (n - d) / (n + d)\n  let tv1 = Fp.mul(xd, yd); //  7. tv1 = xd * yd\n  let e = Fp.eql(tv1, Fp.ZERO); //  8.   e = tv1 == 0\n  xn = Fp.cmov(xn, Fp.ZERO, e); //  9.  xn = CMOV(xn, 0, e)\n  xd = Fp.cmov(xd, Fp.ONE, e); //  10. xd = CMOV(xd, 1, e)\n  yn = Fp.cmov(yn, Fp.ONE, e); //  11. yn = CMOV(yn, 1, e)\n  yd = Fp.cmov(yd, Fp.ONE, e); //  12. yd = CMOV(yd, 1, e)\n  const [xd_inv, yd_inv] = FpInvertBatch(Fp, [xd, yd], true); // batch division\n  return { x: Fp.mul(xn, xd_inv), y: Fp.mul(yn, yd_inv) }; //  13. return (xn, xd, yn, yd)\n}\n\n/** Hashing to ed25519 points / field. RFC 9380 methods. */\nexport const ed25519_hasher: H2CHasher<bigint> = /* @__PURE__ */ (() =>\n  createHasher(\n    ed25519.Point,\n    (scalars: bigint[]) => map_to_curve_elligator2_edwards25519(scalars[0]),\n    {\n      DST: 'edwards25519_XMD:SHA-512_ELL2_RO_',\n      encodeDST: 'edwards25519_XMD:SHA-512_ELL2_NU_',\n      p: ed25519_CURVE_p,\n      m: 1,\n      k: 128,\n      expand: 'xmd',\n      hash: sha512,\n    }\n  ))();\n\n// \u221A(-1) aka \u221A(a) aka 2^((p-1)/4)\nconst SQRT_M1 = ED25519_SQRT_M1;\n// \u221A(ad - 1)\nconst SQRT_AD_MINUS_ONE = /* @__PURE__ */ BigInt(\n  '25063068953384623474111414158702152701244531502492656460079210482610430750235'\n);\n// 1 / \u221A(a-d)\nconst INVSQRT_A_MINUS_D = /* @__PURE__ */ BigInt(\n  '54469307008909316920995813868745141605393597292927456921205312896311721017578'\n);\n// 1-d\u00B2\nconst ONE_MINUS_D_SQ = /* @__PURE__ */ BigInt(\n  '1159843021668779879193775521855586647937357759715417654439879720876111806838'\n);\n// (d-1)\u00B2\nconst D_MINUS_ONE_SQ = /* @__PURE__ */ BigInt(\n  '40440834346308536858101042469323190826248399146238708352240133220865137265952'\n);\n// Calculates 1/\u221A(number)\nconst invertSqrt = (number: bigint) => uvRatio(_1n, number);\n\nconst MAX_255B = /* @__PURE__ */ BigInt(\n  '0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff'\n);\nconst bytes255ToNumberLE = (bytes: Uint8Array) =>\n  ed25519.Point.Fp.create(bytesToNumberLE(bytes) & MAX_255B);\n\ntype ExtendedPoint = EdwardsPoint;\n\n/**\n * Computes Elligator map for Ristretto255.\n * Described in [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#appendix-B) and on\n * the [website](https://ristretto.group/formulas/elligator.html).\n */\nfunction calcElligatorRistrettoMap(r0: bigint): ExtendedPoint {\n  const { d } = ed25519_CURVE;\n  const P = ed25519_CURVE_p;\n  const mod = (n: bigint) => Fp.create(n);\n  const r = mod(SQRT_M1 * r0 * r0); // 1\n  const Ns = mod((r + _1n) * ONE_MINUS_D_SQ); // 2\n  let c = BigInt(-1); // 3\n  const D = mod((c - d * r) * mod(r + d)); // 4\n  let { isValid: Ns_D_is_sq, value: s } = uvRatio(Ns, D); // 5\n  let s_ = mod(s * r0); // 6\n  if (!isNegativeLE(s_, P)) s_ = mod(-s_);\n  if (!Ns_D_is_sq) s = s_; // 7\n  if (!Ns_D_is_sq) c = r; // 8\n  const Nt = mod(c * (r - _1n) * D_MINUS_ONE_SQ - D); // 9\n  const s2 = s * s;\n  const W0 = mod((s + s) * D); // 10\n  const W1 = mod(Nt * SQRT_AD_MINUS_ONE); // 11\n  const W2 = mod(_1n - s2); // 12\n  const W3 = mod(_1n + s2); // 13\n  return new ed25519.Point(mod(W0 * W3), mod(W2 * W1), mod(W1 * W3), mod(W0 * W2));\n}\n\nfunction ristretto255_map(bytes: Uint8Array): _RistrettoPoint {\n  abytes(bytes, 64);\n  const r1 = bytes255ToNumberLE(bytes.subarray(0, 32));\n  const R1 = calcElligatorRistrettoMap(r1);\n  const r2 = bytes255ToNumberLE(bytes.subarray(32, 64));\n  const R2 = calcElligatorRistrettoMap(r2);\n  return new _RistrettoPoint(R1.add(R2));\n}\n\n/**\n * Wrapper over Edwards Point for ristretto255.\n *\n * Each ed25519/ExtendedPoint has 8 different equivalent points. This can be\n * a source of bugs for protocols like ring signatures. Ristretto was created to solve this.\n * Ristretto point operates in X:Y:Z:T extended coordinates like ExtendedPoint,\n * but it should work in its own namespace: do not combine those two.\n * See [RFC9496](https://www.rfc-editor.org/rfc/rfc9496).\n */\nclass _RistrettoPoint extends PrimeEdwardsPoint<_RistrettoPoint> {\n  // Do NOT change syntax: the following gymnastics is done,\n  // because typescript strips comments, which makes bundlers disable tree-shaking.\n  // prettier-ignore\n  static BASE: _RistrettoPoint =\n    /* @__PURE__ */ (() => new _RistrettoPoint(ed25519.Point.BASE))();\n  // prettier-ignore\n  static ZERO: _RistrettoPoint =\n    /* @__PURE__ */ (() => new _RistrettoPoint(ed25519.Point.ZERO))();\n  // prettier-ignore\n  static Fp: IField<bigint> =\n    /* @__PURE__ */ (() => Fp)();\n  // prettier-ignore\n  static Fn: IField<bigint> =\n    /* @__PURE__ */ (() => Fn)();\n\n  constructor(ep: ExtendedPoint) {\n    super(ep);\n  }\n\n  static fromAffine(ap: AffinePoint<bigint>): _RistrettoPoint {\n    return new _RistrettoPoint(ed25519.Point.fromAffine(ap));\n  }\n\n  protected assertSame(other: _RistrettoPoint): void {\n    if (!(other instanceof _RistrettoPoint)) throw new Error('RistrettoPoint expected');\n  }\n\n  protected init(ep: EdwardsPoint): _RistrettoPoint {\n    return new _RistrettoPoint(ep);\n  }\n\n  /** @deprecated use `import { ristretto255_hasher } from '@noble/curves/ed25519.js';` */\n  static hashToCurve(hex: Hex): _RistrettoPoint {\n    return ristretto255_map(ensureBytes('ristrettoHash', hex, 64));\n  }\n\n  static fromBytes(bytes: Uint8Array): _RistrettoPoint {\n    abytes(bytes, 32);\n    const { a, d } = ed25519_CURVE;\n    const P = ed25519_CURVE_p;\n    const mod = (n: bigint) => Fp.create(n);\n    const s = bytes255ToNumberLE(bytes);\n    // 1. Check that s_bytes is the canonical encoding of a field element, or else abort.\n    // 3. Check that s is non-negative, or else abort\n    if (!equalBytes(Fp.toBytes(s), bytes) || isNegativeLE(s, P))\n      throw new Error('invalid ristretto255 encoding 1');\n    const s2 = mod(s * s);\n    const u1 = mod(_1n + a * s2); // 4 (a is -1)\n    const u2 = mod(_1n - a * s2); // 5\n    const u1_2 = mod(u1 * u1);\n    const u2_2 = mod(u2 * u2);\n    const v = mod(a * d * u1_2 - u2_2); // 6\n    const { isValid, value: I } = invertSqrt(mod(v * u2_2)); // 7\n    const Dx = mod(I * u2); // 8\n    const Dy = mod(I * Dx * v); // 9\n    let x = mod((s + s) * Dx); // 10\n    if (isNegativeLE(x, P)) x = mod(-x); // 10\n    const y = mod(u1 * Dy); // 11\n    const t = mod(x * y); // 12\n    if (!isValid || isNegativeLE(t, P) || y === _0n)\n      throw new Error('invalid ristretto255 encoding 2');\n    return new _RistrettoPoint(new ed25519.Point(x, y, _1n, t));\n  }\n\n  /**\n   * Converts ristretto-encoded string to ristretto point.\n   * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-decode).\n   * @param hex Ristretto-encoded 32 bytes. Not every 32-byte string is valid ristretto encoding\n   */\n  static fromHex(hex: Hex): _RistrettoPoint {\n    return _RistrettoPoint.fromBytes(ensureBytes('ristrettoHex', hex, 32));\n  }\n\n  static msm(points: _RistrettoPoint[], scalars: bigint[]): _RistrettoPoint {\n    return pippenger(_RistrettoPoint, ed25519.Point.Fn, points, scalars);\n  }\n\n  /**\n   * Encodes ristretto point to Uint8Array.\n   * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-encode).\n   */\n  toBytes(): Uint8Array {\n    let { X, Y, Z, T } = this.ep;\n    const P = ed25519_CURVE_p;\n    const mod = (n: bigint) => Fp.create(n);\n    const u1 = mod(mod(Z + Y) * mod(Z - Y)); // 1\n    const u2 = mod(X * Y); // 2\n    // Square root always exists\n    const u2sq = mod(u2 * u2);\n    const { value: invsqrt } = invertSqrt(mod(u1 * u2sq)); // 3\n    const D1 = mod(invsqrt * u1); // 4\n    const D2 = mod(invsqrt * u2); // 5\n    const zInv = mod(D1 * D2 * T); // 6\n    let D: bigint; // 7\n    if (isNegativeLE(T * zInv, P)) {\n      let _x = mod(Y * SQRT_M1);\n      let _y = mod(X * SQRT_M1);\n      X = _x;\n      Y = _y;\n      D = mod(D1 * INVSQRT_A_MINUS_D);\n    } else {\n      D = D2; // 8\n    }\n    if (isNegativeLE(X * zInv, P)) Y = mod(-Y); // 9\n    let s = mod((Z - Y) * D); // 10 (check footer's note, no sqrt(-a))\n    if (isNegativeLE(s, P)) s = mod(-s);\n    return Fp.toBytes(s); // 11\n  }\n\n  /**\n   * Compares two Ristretto points.\n   * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-equals).\n   */\n  equals(other: _RistrettoPoint): boolean {\n    this.assertSame(other);\n    const { X: X1, Y: Y1 } = this.ep;\n    const { X: X2, Y: Y2 } = other.ep;\n    const mod = (n: bigint) => Fp.create(n);\n    // (x1 * y2 == y1 * x2) | (y1 * y2 == x1 * x2)\n    const one = mod(X1 * Y2) === mod(Y1 * X2);\n    const two = mod(Y1 * Y2) === mod(X1 * X2);\n    return one || two;\n  }\n\n  is0(): boolean {\n    return this.equals(_RistrettoPoint.ZERO);\n  }\n}\n\nexport const ristretto255: {\n  Point: typeof _RistrettoPoint;\n} = { Point: _RistrettoPoint };\n\n/** Hashing to ristretto255 points / field. RFC 9380 methods. */\nexport const ristretto255_hasher: H2CHasherBase<bigint> = {\n  hashToCurve(msg: Uint8Array, options?: htfBasicOpts): _RistrettoPoint {\n    const DST = options?.DST || 'ristretto255_XMD:SHA-512_R255MAP_RO_';\n    const xmd = expand_message_xmd(msg, DST, 64, sha512);\n    return ristretto255_map(xmd);\n  },\n  hashToScalar(msg: Uint8Array, options: htfBasicOpts = { DST: _DST_scalar }) {\n    const xmd = expand_message_xmd(msg, options.DST, 64, sha512);\n    return Fn.create(bytesToNumberLE(xmd));\n  },\n};\n\n// export const ristretto255_oprf: OPRF = createORPF({\n//   name: 'ristretto255-SHA512',\n//   Point: RistrettoPoint,\n//   hash: sha512,\n//   hashToGroup: ristretto255_hasher.hashToCurve,\n//   hashToScalar: ristretto255_hasher.hashToScalar,\n// });\n\n/**\n * Weird / bogus points, useful for debugging.\n * All 8 ed25519 points of 8-torsion subgroup can be generated from the point\n * T = `26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05`.\n * \u27E8T\u27E9 = { O, T, 2T, 3T, 4T, 5T, 6T, 7T }\n */\nexport const ED25519_TORSION_SUBGROUP: string[] = [\n  '0100000000000000000000000000000000000000000000000000000000000000',\n  'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a',\n  '0000000000000000000000000000000000000000000000000000000000000080',\n  '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05',\n  'ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f',\n  '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85',\n  '0000000000000000000000000000000000000000000000000000000000000000',\n  'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa',\n];\n\n/** @deprecated use `ed25519.utils.toMontgomery` */\nexport function edwardsToMontgomeryPub(edwardsPub: Hex): Uint8Array {\n  return ed25519.utils.toMontgomery(ensureBytes('pub', edwardsPub));\n}\n/** @deprecated use `ed25519.utils.toMontgomery` */\nexport const edwardsToMontgomery: typeof edwardsToMontgomeryPub = edwardsToMontgomeryPub;\n\n/** @deprecated use `ed25519.utils.toMontgomerySecret` */\nexport function edwardsToMontgomeryPriv(edwardsPriv: Uint8Array): Uint8Array {\n  return ed25519.utils.toMontgomerySecret(ensureBytes('pub', edwardsPriv));\n}\n\n/** @deprecated use `ristretto255.Point` */\nexport const RistrettoPoint: typeof _RistrettoPoint = _RistrettoPoint;\n/** @deprecated use `import { ed25519_hasher } from '@noble/curves/ed25519.js';` */\nexport const hashToCurve: H2CMethod<bigint> = /* @__PURE__ */ (() => ed25519_hasher.hashToCurve)();\n/** @deprecated use `import { ed25519_hasher } from '@noble/curves/ed25519.js';` */\nexport const encodeToCurve: H2CMethod<bigint> = /* @__PURE__ */ (() =>\n  ed25519_hasher.encodeToCurve)();\ntype RistHasher = (msg: Uint8Array, options: htfBasicOpts) => _RistrettoPoint;\n/** @deprecated use `import { ristretto255_hasher } from '@noble/curves/ed25519.js';` */\nexport const hashToRistretto255: RistHasher = /* @__PURE__ */ (() =>\n  ristretto255_hasher.hashToCurve as RistHasher)();\n/** @deprecated use `import { ristretto255_hasher } from '@noble/curves/ed25519.js';` */\nexport const hash_to_ristretto255: RistHasher = /* @__PURE__ */ (() =>\n  ristretto255_hasher.hashToCurve as RistHasher)();\n", "(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // '0' - '9'\n    if (c >= 48 && c <= 57) {\n      return c - 48;\n    // 'A' - 'F'\n    } else if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    } else {\n      assert(false, 'Invalid character in ' + string);\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this._strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    try {\n      BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n    } catch (e) {\n      BN.prototype.inspect = inspect;\n    }\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    this.length = num === 0 ? 1 : this.length;\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is a BN v4 instance\n        r.strip();\n      } else {\n        // r is a BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n", "/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n", "'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n// @ts-ignore\nvar _Buffer = require('safe-buffer').Buffer\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (Array.isArray(source) || source instanceof Uint8Array) { source = _Buffer.from(source) }\n    if (!_Buffer.isBuffer(source)) { throw new TypeError('Expected Buffer') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return _Buffer.alloc(0) }\n    var psz = 0\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (psz < source.length) {\n            // Find code of next character\n      var charCode = source.charCodeAt(psz)\n            // Base map can not be indexed using char code\n      if (charCode > 255) { return }\n            // Decode character\n      var carry = BASE_MAP[charCode]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = _Buffer.allocUnsafe(zeroes + (size - it4))\n    vch.fill(0x00, 0, zeroes)\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n", "var basex = require('base-x')\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n", "/**\n * SHA2-256 a.k.a. sha256. In JS, it is the fastest hash, even faster than Blake3.\n *\n * To break sha256 using birthday attack, attackers need to try 2^128 hashes.\n * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n *\n * Check out [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n * @deprecated\n */\nimport {\n  SHA224 as SHA224n,\n  sha224 as sha224n,\n  SHA256 as SHA256n,\n  sha256 as sha256n,\n} from './sha2.ts';\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const SHA256: typeof SHA256n = SHA256n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const sha256: typeof sha256n = sha256n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const SHA224: typeof SHA224n = SHA224n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const sha224: typeof sha224n = sha224n;\n", "var basex = require('base-x')\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n", "'use strict';\n\n// This is free and unencumbered software released into the public domain.\n// See LICENSE.md for more information.\n\n//\n// Utilities\n//\n\n/**\n * @param {number} a The number to test.\n * @param {number} min The minimum value in the range, inclusive.\n * @param {number} max The maximum value in the range, inclusive.\n * @return {boolean} True if a >= min and a <= max.\n */\nfunction inRange(a, min, max) {\n  return min <= a && a <= max;\n}\n\n/**\n * @param {*} o\n * @return {Object}\n */\nfunction ToDictionary(o) {\n  if (o === undefined) return {};\n  if (o === Object(o)) return o;\n  throw TypeError('Could not convert argument to dictionary');\n}\n\n/**\n * @param {string} string Input string of UTF-16 code units.\n * @return {!Array.<number>} Code points.\n */\nfunction stringToCodePoints(string) {\n  // https://heycam.github.io/webidl/#dfn-obtain-unicode\n\n  // 1. Let S be the DOMString value.\n  var s = String(string);\n\n  // 2. Let n be the length of S.\n  var n = s.length;\n\n  // 3. Initialize i to 0.\n  var i = 0;\n\n  // 4. Initialize U to be an empty sequence of Unicode characters.\n  var u = [];\n\n  // 5. While i < n:\n  while (i < n) {\n\n    // 1. Let c be the code unit in S at index i.\n    var c = s.charCodeAt(i);\n\n    // 2. Depending on the value of c:\n\n    // c < 0xD800 or c > 0xDFFF\n    if (c < 0xD800 || c > 0xDFFF) {\n      // Append to U the Unicode character with code point c.\n      u.push(c);\n    }\n\n    // 0xDC00 \u2264 c \u2264 0xDFFF\n    else if (0xDC00 <= c && c <= 0xDFFF) {\n      // Append to U a U+FFFD REPLACEMENT CHARACTER.\n      u.push(0xFFFD);\n    }\n\n    // 0xD800 \u2264 c \u2264 0xDBFF\n    else if (0xD800 <= c && c <= 0xDBFF) {\n      // 1. If i = n\u22121, then append to U a U+FFFD REPLACEMENT\n      // CHARACTER.\n      if (i === n - 1) {\n        u.push(0xFFFD);\n      }\n      // 2. Otherwise, i < n\u22121:\n      else {\n        // 1. Let d be the code unit in S at index i+1.\n        var d = string.charCodeAt(i + 1);\n\n        // 2. If 0xDC00 \u2264 d \u2264 0xDFFF, then:\n        if (0xDC00 <= d && d <= 0xDFFF) {\n          // 1. Let a be c & 0x3FF.\n          var a = c & 0x3FF;\n\n          // 2. Let b be d & 0x3FF.\n          var b = d & 0x3FF;\n\n          // 3. Append to U the Unicode character with code point\n          // 2^16+2^10*a+b.\n          u.push(0x10000 + (a << 10) + b);\n\n          // 4. Set i to i+1.\n          i += 1;\n        }\n\n        // 3. Otherwise, d < 0xDC00 or d > 0xDFFF. Append to U a\n        // U+FFFD REPLACEMENT CHARACTER.\n        else  {\n          u.push(0xFFFD);\n        }\n      }\n    }\n\n    // 3. Set i to i+1.\n    i += 1;\n  }\n\n  // 6. Return U.\n  return u;\n}\n\n/**\n * @param {!Array.<number>} code_points Array of code points.\n * @return {string} string String of UTF-16 code units.\n */\nfunction codePointsToString(code_points) {\n  var s = '';\n  for (var i = 0; i < code_points.length; ++i) {\n    var cp = code_points[i];\n    if (cp <= 0xFFFF) {\n      s += String.fromCharCode(cp);\n    } else {\n      cp -= 0x10000;\n      s += String.fromCharCode((cp >> 10) + 0xD800,\n                               (cp & 0x3FF) + 0xDC00);\n    }\n  }\n  return s;\n}\n\n\n//\n// Implementation of Encoding specification\n// https://encoding.spec.whatwg.org/\n//\n\n//\n// 3. Terminology\n//\n\n/**\n * End-of-stream is a special token that signifies no more tokens\n * are in the stream.\n * @const\n */ var end_of_stream = -1;\n\n/**\n * A stream represents an ordered sequence of tokens.\n *\n * @constructor\n * @param {!(Array.<number>|Uint8Array)} tokens Array of tokens that provide the\n * stream.\n */\nfunction Stream(tokens) {\n  /** @type {!Array.<number>} */\n  this.tokens = [].slice.call(tokens);\n}\n\nStream.prototype = {\n  /**\n   * @return {boolean} True if end-of-stream has been hit.\n   */\n  endOfStream: function() {\n    return !this.tokens.length;\n  },\n\n  /**\n   * When a token is read from a stream, the first token in the\n   * stream must be returned and subsequently removed, and\n   * end-of-stream must be returned otherwise.\n   *\n   * @return {number} Get the next token from the stream, or\n   * end_of_stream.\n   */\n   read: function() {\n    if (!this.tokens.length)\n      return end_of_stream;\n     return this.tokens.shift();\n   },\n\n  /**\n   * When one or more tokens are prepended to a stream, those tokens\n   * must be inserted, in given order, before the first token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The token(s) to prepend to the stream.\n   */\n  prepend: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.unshift(tokens.pop());\n    } else {\n      this.tokens.unshift(token);\n    }\n  },\n\n  /**\n   * When one or more tokens are pushed to a stream, those tokens\n   * must be inserted, in given order, after the last token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The tokens(s) to prepend to the stream.\n   */\n  push: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.push(tokens.shift());\n    } else {\n      this.tokens.push(token);\n    }\n  }\n};\n\n//\n// 4. Encodings\n//\n\n// 4.1 Encoders and decoders\n\n/** @const */\nvar finished = -1;\n\n/**\n * @param {boolean} fatal If true, decoding errors raise an exception.\n * @param {number=} opt_code_point Override the standard fallback code point.\n * @return {number} The code point to insert on a decoding error.\n */\nfunction decoderError(fatal, opt_code_point) {\n  if (fatal)\n    throw TypeError('Decoder error');\n  return opt_code_point || 0xFFFD;\n}\n\n//\n// 7. API\n//\n\n/** @const */ var DEFAULT_ENCODING = 'utf-8';\n\n// 7.1 Interface TextDecoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextDecoder(encoding, options) {\n  if (!(this instanceof TextDecoder)) {\n    return new TextDecoder(encoding, options);\n  }\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {boolean} */\n  this._BOMseen = false;\n  /** @private @type {?Decoder} */\n  this._decoder = null;\n  /** @private @type {boolean} */\n  this._fatal = Boolean(options['fatal']);\n  /** @private @type {boolean} */\n  this._ignoreBOM = Boolean(options['ignoreBOM']);\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n  Object.defineProperty(this, 'fatal', {value: this._fatal});\n  Object.defineProperty(this, 'ignoreBOM', {value: this._ignoreBOM});\n}\n\nTextDecoder.prototype = {\n  /**\n   * @param {ArrayBufferView=} input The buffer of bytes to decode.\n   * @param {Object=} options\n   * @return {string} The decoded string.\n   */\n  decode: function decode(input, options) {\n    var bytes;\n    if (typeof input === 'object' && input instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input);\n    } else if (typeof input === 'object' && 'buffer' in input &&\n               input.buffer instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input.buffer,\n                             input.byteOffset,\n                             input.byteLength);\n    } else {\n      bytes = new Uint8Array(0);\n    }\n\n    options = ToDictionary(options);\n\n    if (!this._streaming) {\n      this._decoder = new UTF8Decoder({fatal: this._fatal});\n      this._BOMseen = false;\n    }\n    this._streaming = Boolean(options['stream']);\n\n    var input_stream = new Stream(bytes);\n\n    var code_points = [];\n\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n\n    while (!input_stream.endOfStream()) {\n      result = this._decoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (result === null)\n        continue;\n      if (Array.isArray(result))\n        code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n      else\n        code_points.push(result);\n    }\n    if (!this._streaming) {\n      do {\n        result = this._decoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (result === null)\n          continue;\n        if (Array.isArray(result))\n          code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n        else\n          code_points.push(result);\n      } while (!input_stream.endOfStream());\n      this._decoder = null;\n    }\n\n    if (code_points.length) {\n      // If encoding is one of utf-8, utf-16be, and utf-16le, and\n      // ignore BOM flag and BOM seen flag are unset, run these\n      // subsubsteps:\n      if (['utf-8'].indexOf(this.encoding) !== -1 &&\n          !this._ignoreBOM && !this._BOMseen) {\n        // If token is U+FEFF, set BOM seen flag.\n        if (code_points[0] === 0xFEFF) {\n          this._BOMseen = true;\n          code_points.shift();\n        } else {\n          // Otherwise, if token is not end-of-stream, set BOM seen\n          // flag and append token to output.\n          this._BOMseen = true;\n        }\n      }\n    }\n\n    return codePointsToString(code_points);\n  }\n};\n\n// 7.2 Interface TextEncoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextEncoder(encoding, options) {\n  if (!(this instanceof TextEncoder))\n    return new TextEncoder(encoding, options);\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {?Encoder} */\n  this._encoder = null;\n  /** @private @type {{fatal: boolean}} */\n  this._options = {fatal: Boolean(options['fatal'])};\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n}\n\nTextEncoder.prototype = {\n  /**\n   * @param {string=} opt_string The string to encode.\n   * @param {Object=} options\n   * @return {Uint8Array} Encoded bytes, as a Uint8Array.\n   */\n  encode: function encode(opt_string, options) {\n    opt_string = opt_string ? String(opt_string) : '';\n    options = ToDictionary(options);\n\n    // NOTE: This option is nonstandard. None of the encodings\n    // permitted for encoding (i.e. UTF-8, UTF-16) are stateful,\n    // so streaming is not necessary.\n    if (!this._streaming)\n      this._encoder = new UTF8Encoder(this._options);\n    this._streaming = Boolean(options['stream']);\n\n    var bytes = [];\n    var input_stream = new Stream(stringToCodePoints(opt_string));\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n    while (!input_stream.endOfStream()) {\n      result = this._encoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (Array.isArray(result))\n        bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n      else\n        bytes.push(result);\n    }\n    if (!this._streaming) {\n      while (true) {\n        result = this._encoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (Array.isArray(result))\n          bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n        else\n          bytes.push(result);\n      }\n      this._encoder = null;\n    }\n    return new Uint8Array(bytes);\n  }\n};\n\n//\n// 8. The encoding\n//\n\n// 8.1 utf-8\n\n/**\n * @constructor\n * @implements {Decoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Decoder(options) {\n  var fatal = options.fatal;\n\n  // utf-8's decoder's has an associated utf-8 code point, utf-8\n  // bytes seen, and utf-8 bytes needed (all initially 0), a utf-8\n  // lower boundary (initially 0x80), and a utf-8 upper boundary\n  // (initially 0xBF).\n  var /** @type {number} */ utf8_code_point = 0,\n      /** @type {number} */ utf8_bytes_seen = 0,\n      /** @type {number} */ utf8_bytes_needed = 0,\n      /** @type {number} */ utf8_lower_boundary = 0x80,\n      /** @type {number} */ utf8_upper_boundary = 0xBF;\n\n  /**\n   * @param {Stream} stream The stream of bytes being decoded.\n   * @param {number} bite The next byte read from the stream.\n   * @return {?(number|!Array.<number>)} The next code point(s)\n   *     decoded, or null if not enough data exists in the input\n   *     stream to decode a complete code point.\n   */\n  this.handler = function(stream, bite) {\n    // 1. If byte is end-of-stream and utf-8 bytes needed is not 0,\n    // set utf-8 bytes needed to 0 and return error.\n    if (bite === end_of_stream && utf8_bytes_needed !== 0) {\n      utf8_bytes_needed = 0;\n      return decoderError(fatal);\n    }\n\n    // 2. If byte is end-of-stream, return finished.\n    if (bite === end_of_stream)\n      return finished;\n\n    // 3. If utf-8 bytes needed is 0, based on byte:\n    if (utf8_bytes_needed === 0) {\n\n      // 0x00 to 0x7F\n      if (inRange(bite, 0x00, 0x7F)) {\n        // Return a code point whose value is byte.\n        return bite;\n      }\n\n      // 0xC2 to 0xDF\n      if (inRange(bite, 0xC2, 0xDF)) {\n        // Set utf-8 bytes needed to 1 and utf-8 code point to byte\n        // \u2212 0xC0.\n        utf8_bytes_needed = 1;\n        utf8_code_point = bite - 0xC0;\n      }\n\n      // 0xE0 to 0xEF\n      else if (inRange(bite, 0xE0, 0xEF)) {\n        // 1. If byte is 0xE0, set utf-8 lower boundary to 0xA0.\n        if (bite === 0xE0)\n          utf8_lower_boundary = 0xA0;\n        // 2. If byte is 0xED, set utf-8 upper boundary to 0x9F.\n        if (bite === 0xED)\n          utf8_upper_boundary = 0x9F;\n        // 3. Set utf-8 bytes needed to 2 and utf-8 code point to\n        // byte \u2212 0xE0.\n        utf8_bytes_needed = 2;\n        utf8_code_point = bite - 0xE0;\n      }\n\n      // 0xF0 to 0xF4\n      else if (inRange(bite, 0xF0, 0xF4)) {\n        // 1. If byte is 0xF0, set utf-8 lower boundary to 0x90.\n        if (bite === 0xF0)\n          utf8_lower_boundary = 0x90;\n        // 2. If byte is 0xF4, set utf-8 upper boundary to 0x8F.\n        if (bite === 0xF4)\n          utf8_upper_boundary = 0x8F;\n        // 3. Set utf-8 bytes needed to 3 and utf-8 code point to\n        // byte \u2212 0xF0.\n        utf8_bytes_needed = 3;\n        utf8_code_point = bite - 0xF0;\n      }\n\n      // Otherwise\n      else {\n        // Return error.\n        return decoderError(fatal);\n      }\n\n      // Then (byte is in the range 0xC2 to 0xF4) set utf-8 code\n      // point to utf-8 code point << (6 \u00D7 utf-8 bytes needed) and\n      // return continue.\n      utf8_code_point = utf8_code_point << (6 * utf8_bytes_needed);\n      return null;\n    }\n\n    // 4. If byte is not in the range utf-8 lower boundary to utf-8\n    // upper boundary, run these substeps:\n    if (!inRange(bite, utf8_lower_boundary, utf8_upper_boundary)) {\n\n      // 1. Set utf-8 code point, utf-8 bytes needed, and utf-8\n      // bytes seen to 0, set utf-8 lower boundary to 0x80, and set\n      // utf-8 upper boundary to 0xBF.\n      utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n      utf8_lower_boundary = 0x80;\n      utf8_upper_boundary = 0xBF;\n\n      // 2. Prepend byte to stream.\n      stream.prepend(bite);\n\n      // 3. Return error.\n      return decoderError(fatal);\n    }\n\n    // 5. Set utf-8 lower boundary to 0x80 and utf-8 upper boundary\n    // to 0xBF.\n    utf8_lower_boundary = 0x80;\n    utf8_upper_boundary = 0xBF;\n\n    // 6. Increase utf-8 bytes seen by one and set utf-8 code point\n    // to utf-8 code point + (byte \u2212 0x80) << (6 \u00D7 (utf-8 bytes\n    // needed \u2212 utf-8 bytes seen)).\n    utf8_bytes_seen += 1;\n    utf8_code_point += (bite - 0x80) << (6 * (utf8_bytes_needed - utf8_bytes_seen));\n\n    // 7. If utf-8 bytes seen is not equal to utf-8 bytes needed,\n    // continue.\n    if (utf8_bytes_seen !== utf8_bytes_needed)\n      return null;\n\n    // 8. Let code point be utf-8 code point.\n    var code_point = utf8_code_point;\n\n    // 9. Set utf-8 code point, utf-8 bytes needed, and utf-8 bytes\n    // seen to 0.\n    utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n\n    // 10. Return a code point whose value is code point.\n    return code_point;\n  };\n}\n\n/**\n * @constructor\n * @implements {Encoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Encoder(options) {\n  var fatal = options.fatal;\n  /**\n   * @param {Stream} stream Input stream.\n   * @param {number} code_point Next code point read from the stream.\n   * @return {(number|!Array.<number>)} Byte(s) to emit.\n   */\n  this.handler = function(stream, code_point) {\n    // 1. If code point is end-of-stream, return finished.\n    if (code_point === end_of_stream)\n      return finished;\n\n    // 2. If code point is in the range U+0000 to U+007F, return a\n    // byte whose value is code point.\n    if (inRange(code_point, 0x0000, 0x007f))\n      return code_point;\n\n    // 3. Set count and offset based on the range code point is in:\n    var count, offset;\n    // U+0080 to U+07FF:    1 and 0xC0\n    if (inRange(code_point, 0x0080, 0x07FF)) {\n      count = 1;\n      offset = 0xC0;\n    }\n    // U+0800 to U+FFFF:    2 and 0xE0\n    else if (inRange(code_point, 0x0800, 0xFFFF)) {\n      count = 2;\n      offset = 0xE0;\n    }\n    // U+10000 to U+10FFFF: 3 and 0xF0\n    else if (inRange(code_point, 0x10000, 0x10FFFF)) {\n      count = 3;\n      offset = 0xF0;\n    }\n\n    // 4.Let bytes be a byte sequence whose first byte is (code\n    // point >> (6 \u00D7 count)) + offset.\n    var bytes = [(code_point >> (6 * count)) + offset];\n\n    // 5. Run these substeps while count is greater than 0:\n    while (count > 0) {\n\n      // 1. Set temp to code point >> (6 \u00D7 (count \u2212 1)).\n      var temp = code_point >> (6 * (count - 1));\n\n      // 2. Append to bytes 0x80 | (temp & 0x3F).\n      bytes.push(0x80 | (temp & 0x3F));\n\n      // 3. Decrease count by one.\n      count -= 1;\n    }\n\n    // 6. Return bytes bytes, in order.\n    return bytes;\n  };\n}\n\nexports.TextEncoder = TextEncoder;\nexports.TextDecoder = TextDecoder;", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deserializeUnchecked = exports.deserialize = exports.serialize = exports.BinaryReader = exports.BinaryWriter = exports.BorshError = exports.baseDecode = exports.baseEncode = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst bs58_1 = __importDefault(require(\"bs58\"));\n// TODO: Make sure this polyfill not included when not required\nconst encoding = __importStar(require(\"text-encoding-utf-8\"));\nconst ResolvedTextDecoder = typeof TextDecoder !== \"function\" ? encoding.TextDecoder : TextDecoder;\nconst textDecoder = new ResolvedTextDecoder(\"utf-8\", { fatal: true });\nfunction baseEncode(value) {\n    if (typeof value === \"string\") {\n        value = Buffer.from(value, \"utf8\");\n    }\n    return bs58_1.default.encode(Buffer.from(value));\n}\nexports.baseEncode = baseEncode;\nfunction baseDecode(value) {\n    return Buffer.from(bs58_1.default.decode(value));\n}\nexports.baseDecode = baseDecode;\nconst INITIAL_LENGTH = 1024;\nclass BorshError extends Error {\n    constructor(message) {\n        super(message);\n        this.fieldPath = [];\n        this.originalMessage = message;\n    }\n    addToFieldPath(fieldName) {\n        this.fieldPath.splice(0, 0, fieldName);\n        // NOTE: Modifying message directly as jest doesn't use .toString()\n        this.message = this.originalMessage + \": \" + this.fieldPath.join(\".\");\n    }\n}\nexports.BorshError = BorshError;\n/// Binary encoder.\nclass BinaryWriter {\n    constructor() {\n        this.buf = Buffer.alloc(INITIAL_LENGTH);\n        this.length = 0;\n    }\n    maybeResize() {\n        if (this.buf.length < 16 + this.length) {\n            this.buf = Buffer.concat([this.buf, Buffer.alloc(INITIAL_LENGTH)]);\n        }\n    }\n    writeU8(value) {\n        this.maybeResize();\n        this.buf.writeUInt8(value, this.length);\n        this.length += 1;\n    }\n    writeU16(value) {\n        this.maybeResize();\n        this.buf.writeUInt16LE(value, this.length);\n        this.length += 2;\n    }\n    writeU32(value) {\n        this.maybeResize();\n        this.buf.writeUInt32LE(value, this.length);\n        this.length += 4;\n    }\n    writeU64(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray(\"le\", 8)));\n    }\n    writeU128(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray(\"le\", 16)));\n    }\n    writeU256(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray(\"le\", 32)));\n    }\n    writeU512(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray(\"le\", 64)));\n    }\n    writeBuffer(buffer) {\n        // Buffer.from is needed as this.buf.subarray can return plain Uint8Array in browser\n        this.buf = Buffer.concat([\n            Buffer.from(this.buf.subarray(0, this.length)),\n            buffer,\n            Buffer.alloc(INITIAL_LENGTH),\n        ]);\n        this.length += buffer.length;\n    }\n    writeString(str) {\n        this.maybeResize();\n        const b = Buffer.from(str, \"utf8\");\n        this.writeU32(b.length);\n        this.writeBuffer(b);\n    }\n    writeFixedArray(array) {\n        this.writeBuffer(Buffer.from(array));\n    }\n    writeArray(array, fn) {\n        this.maybeResize();\n        this.writeU32(array.length);\n        for (const elem of array) {\n            this.maybeResize();\n            fn(elem);\n        }\n    }\n    toArray() {\n        return this.buf.subarray(0, this.length);\n    }\n}\nexports.BinaryWriter = BinaryWriter;\nfunction handlingRangeError(target, propertyKey, propertyDescriptor) {\n    const originalMethod = propertyDescriptor.value;\n    propertyDescriptor.value = function (...args) {\n        try {\n            return originalMethod.apply(this, args);\n        }\n        catch (e) {\n            if (e instanceof RangeError) {\n                const code = e.code;\n                if ([\"ERR_BUFFER_OUT_OF_BOUNDS\", \"ERR_OUT_OF_RANGE\"].indexOf(code) >= 0) {\n                    throw new BorshError(\"Reached the end of buffer when deserializing\");\n                }\n            }\n            throw e;\n        }\n    };\n}\nclass BinaryReader {\n    constructor(buf) {\n        this.buf = buf;\n        this.offset = 0;\n    }\n    readU8() {\n        const value = this.buf.readUInt8(this.offset);\n        this.offset += 1;\n        return value;\n    }\n    readU16() {\n        const value = this.buf.readUInt16LE(this.offset);\n        this.offset += 2;\n        return value;\n    }\n    readU32() {\n        const value = this.buf.readUInt32LE(this.offset);\n        this.offset += 4;\n        return value;\n    }\n    readU64() {\n        const buf = this.readBuffer(8);\n        return new bn_js_1.default(buf, \"le\");\n    }\n    readU128() {\n        const buf = this.readBuffer(16);\n        return new bn_js_1.default(buf, \"le\");\n    }\n    readU256() {\n        const buf = this.readBuffer(32);\n        return new bn_js_1.default(buf, \"le\");\n    }\n    readU512() {\n        const buf = this.readBuffer(64);\n        return new bn_js_1.default(buf, \"le\");\n    }\n    readBuffer(len) {\n        if (this.offset + len > this.buf.length) {\n            throw new BorshError(`Expected buffer length ${len} isn't within bounds`);\n        }\n        const result = this.buf.slice(this.offset, this.offset + len);\n        this.offset += len;\n        return result;\n    }\n    readString() {\n        const len = this.readU32();\n        const buf = this.readBuffer(len);\n        try {\n            // NOTE: Using TextDecoder to fail on invalid UTF-8\n            return textDecoder.decode(buf);\n        }\n        catch (e) {\n            throw new BorshError(`Error decoding UTF-8 string: ${e}`);\n        }\n    }\n    readFixedArray(len) {\n        return new Uint8Array(this.readBuffer(len));\n    }\n    readArray(fn) {\n        const len = this.readU32();\n        const result = Array();\n        for (let i = 0; i < len; ++i) {\n            result.push(fn());\n        }\n        return result;\n    }\n}\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU8\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU16\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU32\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU64\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU128\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU256\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU512\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readString\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readFixedArray\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readArray\", null);\nexports.BinaryReader = BinaryReader;\nfunction capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\nfunction serializeField(schema, fieldName, value, fieldType, writer) {\n    try {\n        // TODO: Handle missing values properly (make sure they never result in just skipped write)\n        if (typeof fieldType === \"string\") {\n            writer[`write${capitalizeFirstLetter(fieldType)}`](value);\n        }\n        else if (fieldType instanceof Array) {\n            if (typeof fieldType[0] === \"number\") {\n                if (value.length !== fieldType[0]) {\n                    throw new BorshError(`Expecting byte array of length ${fieldType[0]}, but got ${value.length} bytes`);\n                }\n                writer.writeFixedArray(value);\n            }\n            else if (fieldType.length === 2 && typeof fieldType[1] === \"number\") {\n                if (value.length !== fieldType[1]) {\n                    throw new BorshError(`Expecting byte array of length ${fieldType[1]}, but got ${value.length} bytes`);\n                }\n                for (let i = 0; i < fieldType[1]; i++) {\n                    serializeField(schema, null, value[i], fieldType[0], writer);\n                }\n            }\n            else {\n                writer.writeArray(value, (item) => {\n                    serializeField(schema, fieldName, item, fieldType[0], writer);\n                });\n            }\n        }\n        else if (fieldType.kind !== undefined) {\n            switch (fieldType.kind) {\n                case \"option\": {\n                    if (value === null || value === undefined) {\n                        writer.writeU8(0);\n                    }\n                    else {\n                        writer.writeU8(1);\n                        serializeField(schema, fieldName, value, fieldType.type, writer);\n                    }\n                    break;\n                }\n                case \"map\": {\n                    writer.writeU32(value.size);\n                    value.forEach((val, key) => {\n                        serializeField(schema, fieldName, key, fieldType.key, writer);\n                        serializeField(schema, fieldName, val, fieldType.value, writer);\n                    });\n                    break;\n                }\n                default:\n                    throw new BorshError(`FieldType ${fieldType} unrecognized`);\n            }\n        }\n        else {\n            serializeStruct(schema, value, writer);\n        }\n    }\n    catch (error) {\n        if (error instanceof BorshError) {\n            error.addToFieldPath(fieldName);\n        }\n        throw error;\n    }\n}\nfunction serializeStruct(schema, obj, writer) {\n    if (typeof obj.borshSerialize === \"function\") {\n        obj.borshSerialize(writer);\n        return;\n    }\n    const structSchema = schema.get(obj.constructor);\n    if (!structSchema) {\n        throw new BorshError(`Class ${obj.constructor.name} is missing in schema`);\n    }\n    if (structSchema.kind === \"struct\") {\n        structSchema.fields.map(([fieldName, fieldType]) => {\n            serializeField(schema, fieldName, obj[fieldName], fieldType, writer);\n        });\n    }\n    else if (structSchema.kind === \"enum\") {\n        const name = obj[structSchema.field];\n        for (let idx = 0; idx < structSchema.values.length; ++idx) {\n            const [fieldName, fieldType] = structSchema.values[idx];\n            if (fieldName === name) {\n                writer.writeU8(idx);\n                serializeField(schema, fieldName, obj[fieldName], fieldType, writer);\n                break;\n            }\n        }\n    }\n    else {\n        throw new BorshError(`Unexpected schema kind: ${structSchema.kind} for ${obj.constructor.name}`);\n    }\n}\n/// Serialize given object using schema of the form:\n/// { class_name -> [ [field_name, field_type], .. ], .. }\nfunction serialize(schema, obj, Writer = BinaryWriter) {\n    const writer = new Writer();\n    serializeStruct(schema, obj, writer);\n    return writer.toArray();\n}\nexports.serialize = serialize;\nfunction deserializeField(schema, fieldName, fieldType, reader) {\n    try {\n        if (typeof fieldType === \"string\") {\n            return reader[`read${capitalizeFirstLetter(fieldType)}`]();\n        }\n        if (fieldType instanceof Array) {\n            if (typeof fieldType[0] === \"number\") {\n                return reader.readFixedArray(fieldType[0]);\n            }\n            else if (typeof fieldType[1] === \"number\") {\n                const arr = [];\n                for (let i = 0; i < fieldType[1]; i++) {\n                    arr.push(deserializeField(schema, null, fieldType[0], reader));\n                }\n                return arr;\n            }\n            else {\n                return reader.readArray(() => deserializeField(schema, fieldName, fieldType[0], reader));\n            }\n        }\n        if (fieldType.kind === \"option\") {\n            const option = reader.readU8();\n            if (option) {\n                return deserializeField(schema, fieldName, fieldType.type, reader);\n            }\n            return undefined;\n        }\n        if (fieldType.kind === \"map\") {\n            let map = new Map();\n            const length = reader.readU32();\n            for (let i = 0; i < length; i++) {\n                const key = deserializeField(schema, fieldName, fieldType.key, reader);\n                const val = deserializeField(schema, fieldName, fieldType.value, reader);\n                map.set(key, val);\n            }\n            return map;\n        }\n        return deserializeStruct(schema, fieldType, reader);\n    }\n    catch (error) {\n        if (error instanceof BorshError) {\n            error.addToFieldPath(fieldName);\n        }\n        throw error;\n    }\n}\nfunction deserializeStruct(schema, classType, reader) {\n    if (typeof classType.borshDeserialize === \"function\") {\n        return classType.borshDeserialize(reader);\n    }\n    const structSchema = schema.get(classType);\n    if (!structSchema) {\n        throw new BorshError(`Class ${classType.name} is missing in schema`);\n    }\n    if (structSchema.kind === \"struct\") {\n        const result = {};\n        for (const [fieldName, fieldType] of schema.get(classType).fields) {\n            result[fieldName] = deserializeField(schema, fieldName, fieldType, reader);\n        }\n        return new classType(result);\n    }\n    if (structSchema.kind === \"enum\") {\n        const idx = reader.readU8();\n        if (idx >= structSchema.values.length) {\n            throw new BorshError(`Enum index: ${idx} is out of range`);\n        }\n        const [fieldName, fieldType] = structSchema.values[idx];\n        const fieldValue = deserializeField(schema, fieldName, fieldType, reader);\n        return new classType({ [fieldName]: fieldValue });\n    }\n    throw new BorshError(`Unexpected schema kind: ${structSchema.kind} for ${classType.constructor.name}`);\n}\n/// Deserializes object from bytes using schema.\nfunction deserialize(schema, classType, buffer, Reader = BinaryReader) {\n    const reader = new Reader(buffer);\n    const result = deserializeStruct(schema, classType, reader);\n    if (reader.offset < buffer.length) {\n        throw new BorshError(`Unexpected ${buffer.length - reader.offset} bytes after deserialized data`);\n    }\n    return result;\n}\nexports.deserialize = deserialize;\n/// Deserializes object from bytes using schema, without checking the length read\nfunction deserializeUnchecked(schema, classType, buffer, Reader = BinaryReader) {\n    const reader = new Reader(buffer);\n    return deserializeStruct(schema, classType, reader);\n}\nexports.deserializeUnchecked = deserializeUnchecked;\n", null, "/**\n * To add a new error, follow the instructions at\n * https://github.com/anza-xyz/kit/tree/main/packages/errors/#adding-a-new-error\n *\n * @module\n * @privateRemarks\n * WARNING:\n *   - Don't remove error codes\n *   - Don't change or reorder error codes.\n *\n * Good naming conventions:\n *   - Prefixing common errors  e.g. under the same package  can be a good way to namespace them. E.g. All codec-related errors start with `SOLANA_ERROR__CODECS__`.\n *   - Use consistent names  e.g. choose `PDA` or `PROGRAM_DERIVED_ADDRESS` and stick with it. Ensure your names are consistent with existing error codes. The decision might have been made for you.\n *   - Recommended prefixes and suffixes:\n *     - `MALFORMED_`: Some input was not constructed properly. E.g. `MALFORMED_BASE58_ENCODED_ADDRESS`.\n *     - `INVALID_`: Some input is invalid (other than because it was MALFORMED). E.g. `INVALID_NUMBER_OF_BYTES`.\n *     - `EXPECTED_`: Some input was different than expected, no need to specify the \"GOT\" part unless necessary. E.g. `EXPECTED_DECODED_ACCOUNT`.\n *     - `_CANNOT_`: Some operation cannot be performed or some input cannot be used due to some condition. E.g. `CANNOT_DECODE_EMPTY_BYTE_ARRAY` or `PDA_CANNOT_END_WITH_PDA_MARKER`.\n *     - `_MUST_BE_`: Some condition must be true. E.g. `NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE`.\n *     - `_FAILED_TO_`: Tried to perform some operation and failed. E.g. `FAILED_TO_DECODE_ACCOUNT`.\n *     - `_NOT_FOUND`: Some operation lead to not finding something. E.g. `ACCOUNT_NOT_FOUND`.\n *     - `_OUT_OF_RANGE`: Some value is out of range. E.g. `ENUM_DISCRIMINATOR_OUT_OF_RANGE`.\n *     - `_EXCEEDED`: Some limit was exceeded. E.g. `PDA_MAX_SEED_LENGTH_EXCEEDED`.\n *     - `_MISMATCH`: Some elements do not match. E.g. `ENCODER_DECODER_FIXED_SIZE_MISMATCH`.\n *     - `_MISSING`: Some required input is missing. E.g. `TRANSACTION_FEE_PAYER_MISSING`.\n *     - `_UNIMPLEMENTED`: Some required component is not available in the environment. E.g. `SUBTLE_CRYPTO_VERIFY_FUNCTION_UNIMPLEMENTED`.\n */\nexport const SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED = 1;\nexport const SOLANA_ERROR__INVALID_NONCE = 2;\nexport const SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND = 3;\nexport const SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE = 4;\nexport const SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH = 5;\nexport const SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE = 6;\nexport const SOLANA_ERROR__MALFORMED_BIGINT_STRING = 7;\nexport const SOLANA_ERROR__MALFORMED_NUMBER_STRING = 8;\nexport const SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE = 9;\nexport const SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR = 10;\n\n// JSON-RPC-related errors.\n// Reserve error codes in the range [-32768, -32000]\n// Keep in sync with https://github.com/anza-xyz/agave/blob/master/rpc-client-api/src/custom_error.rs\nexport const SOLANA_ERROR__JSON_RPC__PARSE_ERROR = -32700;\nexport const SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR = -32603;\nexport const SOLANA_ERROR__JSON_RPC__INVALID_PARAMS = -32602;\nexport const SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND = -32601;\nexport const SOLANA_ERROR__JSON_RPC__INVALID_REQUEST = -32600;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED = -32016;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION = -32015;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET = -32014;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH = -32013;\nexport const SOLANA_ERROR__JSON_RPC__SCAN_ERROR = -32012;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE = -32011;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX = -32010;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED = -32009;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT = -32008;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED = -32007;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE = -32006;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY = -32005;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE = -32004;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE = -32003;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE = -32002;\nexport const SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP = -32001;\n\n// Addresses-related errors.\n// Reserve error codes in the range [2800000-2800999].\nexport const SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH = 2800000;\nexport const SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE = 2800001;\nexport const SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS = 2800002;\nexport const SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY = 2800003;\nexport const SOLANA_ERROR__ADDRESSES__MALFORMED_PDA = 2800004;\nexport const SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE = 2800005;\nexport const SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED = 2800006;\nexport const SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED = 2800007;\nexport const SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE = 2800008;\nexport const SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED = 2800009;\nexport const SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER = 2800010;\nexport const SOLANA_ERROR__ADDRESSES__INVALID_OFF_CURVE_ADDRESS = 2800011;\n\n// Account-related errors.\n// Reserve error codes in the range [3230000-3230999].\nexport const SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND = 3230000;\nexport const SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND = 32300001;\nexport const SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT = 3230002;\nexport const SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT = 3230003;\nexport const SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED = 3230004;\n\n// Subtle-Crypto-related errors.\n// Reserve error codes in the range [3610000-3610999].\nexport const SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT = 3610000;\nexport const SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED = 3610001;\nexport const SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED = 3610002;\nexport const SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED = 3610003;\nexport const SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED = 3610004;\nexport const SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED = 3610005;\nexport const SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED = 3610006;\nexport const SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY = 3610007;\n\n// Crypto-related errors.\n// Reserve error codes in the range [3611000-3611050].\nexport const SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED = 3611000;\n\n// Key-related errors.\n// Reserve error codes in the range [3704000-3704999].\nexport const SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH = 3704000;\nexport const SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH = 3704001;\nexport const SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH = 3704002;\nexport const SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE = 3704003;\nexport const SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY = 3704004;\n\n// Instruction-related errors.\n// Reserve error codes in the range [4128000-4128999].\nexport const SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS = 4128000;\nexport const SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA = 4128001;\nexport const SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH = 4128002;\n\n// Instruction errors.\n// Reserve error codes starting with [4615000-4615999] for the Rust enum `InstructionError`.\n// Error names here are dictated by the RPC (see ./instruction-error.ts).\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN = 4615000;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR = 4615001;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT = 4615002;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA = 4615003;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA = 4615004;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL = 4615005;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS = 4615006;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID = 4615007;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE = 4615008;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED = 4615009;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT = 4615010;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION = 4615011;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID = 4615012;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND = 4615013;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED = 4615014;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE = 4615015;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED = 4615016;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX = 4615017;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED = 4615018;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED = 4615019;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS = 4615020;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED = 4615021;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE = 4615022;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED = 4615023;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING = 4615024;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC = 4615025;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM = 4615026;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR = 4615027;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED = 4615028;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE = 4615029;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT = 4615030;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID = 4615031;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH = 4615032;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT = 4615033;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED = 4615034;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED = 4615035;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS = 4615036;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC = 4615037;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED = 4615038;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION = 4615039;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE = 4615040;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE = 4615041;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE = 4615042;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE = 4615043;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY = 4615044;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR = 4615045;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT = 4615046;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER = 4615047;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW = 4615048;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR = 4615049;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER = 4615050;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED = 4615051;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED = 4615052;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED = 4615053;\nexport const SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS = 4615054;\n\n// Signer-related errors.\n// Reserve error codes in the range [5508000-5508999].\nexport const SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS = 5508000;\nexport const SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER = 5508001;\nexport const SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER = 5508002;\nexport const SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER = 5508003;\nexport const SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER = 5508004;\nexport const SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER = 5508005;\nexport const SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER = 5508006;\nexport const SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER = 5508007;\nexport const SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER = 5508008;\nexport const SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS = 5508009;\nexport const SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING = 5508010;\nexport const SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED = 5508011;\n\n// Transaction-related errors.\n// Reserve error codes in the range [5663000-5663999].\nexport const SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES = 5663000;\nexport const SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE = 5663001;\nexport const SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME = 5663002;\nexport const SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME = 5663003;\nexport const SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE = 5663004;\nexport const SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING = 5663005;\nexport const SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE = 5663006;\nexport const SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND = 5663007;\nexport const SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING = 5663008;\nexport const SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING = 5663009;\nexport const SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING = 5663010;\nexport const SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING = 5663011;\nexport const SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING = 5663012;\nexport const SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING = 5663013;\nexport const SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE = 5663014;\nexport const SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION = 5663015;\nexport const SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES = 5663016;\nexport const SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH = 5663017;\nexport const SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT = 5663018;\nexport const SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT = 5663019;\nexport const SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT = 5663020;\n\n// Transaction errors.\n// Reserve error codes starting with [7050000-7050999] for the Rust enum `TransactionError`.\n// Error names here are dictated by the RPC (see ./transaction-error.ts).\nexport const SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN = 7050000;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE = 7050001;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE = 7050002;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND = 7050003;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND = 7050004;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE = 7050005;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE = 7050006;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED = 7050007;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND = 7050008;\n// `InstructionError` intentionally omitted.\nexport const SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP = 7050009;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE = 7050010;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX = 7050011;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE = 7050012;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION = 7050013;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE = 7050014;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE = 7050015;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING = 7050016;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT = 7050017;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION = 7050018;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT = 7050019;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT = 7050020;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT = 7050021;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS = 7050022;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND = 7050023;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER = 7050024;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA = 7050025;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX = 7050026;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT = 7050027;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT = 7050028;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT = 7050029;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION = 7050030;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT = 7050031;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED = 7050032;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT = 7050033;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED = 7050034;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED = 7050035;\nexport const SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION = 7050036;\n\n// Codec-related errors.\n// Reserve error codes in the range [8078000-8078999].\nexport const SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY = 8078000;\nexport const SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH = 8078001;\nexport const SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH = 8078002;\nexport const SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH = 8078003;\nexport const SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH = 8078004;\nexport const SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH = 8078005;\nexport const SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH = 8078006;\nexport const SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS = 8078007;\nexport const SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE = 8078008;\nexport const SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT = 8078009;\nexport const SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT = 8078010;\nexport const SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE = 8078011;\nexport const SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE = 8078012;\nexport const SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH = 8078013;\nexport const SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE = 8078014;\nexport const SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT = 8078015;\nexport const SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE = 8078016;\nexport const SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE = 8078017;\nexport const SOLANA_ERROR__CODECS__INVALID_CONSTANT = 8078018;\nexport const SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE = 8078019;\nexport const SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL = 8078020;\nexport const SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES = 8078021;\nexport const SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS = 8078022;\n\n// RPC-related errors.\n// Reserve error codes in the range [8100000-8100999].\nexport const SOLANA_ERROR__RPC__INTEGER_OVERFLOW = 8100000;\nexport const SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN = 8100001;\nexport const SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR = 8100002;\nexport const SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD = 8100003;\n\n// RPC-Subscriptions-related errors.\n// Reserve error codes in the range [8190000-8190999].\nexport const SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN = 8190000;\nexport const SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID = 8190001;\nexport const SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED = 8190002;\nexport const SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED = 8190003;\nexport const SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT = 8190004;\n\n// Invariant violation errors.\n// Reserve error codes in the range [9900000-9900999].\n// These errors should only be thrown when there is a bug with the\n// library itself and should, in theory, never reach the end user.\nexport const SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING = 9900000;\nexport const SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE = 9900001;\nexport const SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING = 9900002;\nexport const SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE = 9900003;\nexport const SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED = 9900004;\n\n/**\n * A union of every Solana error code\n *\n * @privateRemarks\n * You might be wondering why this is not a TypeScript enum or const enum.\n *\n * One of the goals of this library is to enable people to use some or none of it without having to\n * bundle all of it.\n *\n * If we made the set of error codes an enum then anyone who imported it (even if to only use a\n * single error code) would be forced to bundle every code and its label.\n *\n * Const enums appear to solve this problem by letting the compiler inline only the codes that are\n * actually used. Unfortunately exporting ambient (const) enums from a library like `@solana/errors`\n * is not safe, for a variety of reasons covered here: https://stackoverflow.com/a/28818850\n */\nexport type SolanaErrorCode =\n    | typeof SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND\n    | typeof SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED\n    | typeof SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT\n    | typeof SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT\n    | typeof SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND\n    | typeof SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED\n    | typeof SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS\n    | typeof SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH\n    | typeof SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY\n    | typeof SOLANA_ERROR__ADDRESSES__INVALID_OFF_CURVE_ADDRESS\n    | typeof SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE\n    | typeof SOLANA_ERROR__ADDRESSES__MALFORMED_PDA\n    | typeof SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED\n    | typeof SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED\n    | typeof SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER\n    | typeof SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED\n    | typeof SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY\n    | typeof SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS\n    | typeof SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL\n    | typeof SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH\n    | typeof SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH\n    | typeof SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH\n    | typeof SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH\n    | typeof SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH\n    | typeof SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH\n    | typeof SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE\n    | typeof SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH\n    | typeof SOLANA_ERROR__CODECS__INVALID_CONSTANT\n    | typeof SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT\n    | typeof SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT\n    | typeof SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT\n    | typeof SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS\n    | typeof SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE\n    | typeof SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES\n    | typeof SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED\n    | typeof SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS\n    | typeof SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA\n    | typeof SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID\n    | typeof SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR\n    | typeof SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH\n    | typeof SOLANA_ERROR__INVALID_NONCE\n    | typeof SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING\n    | typeof SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED\n    | typeof SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE\n    | typeof SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING\n    | typeof SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE\n    | typeof SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR\n    | typeof SOLANA_ERROR__JSON_RPC__INVALID_PARAMS\n    | typeof SOLANA_ERROR__JSON_RPC__INVALID_REQUEST\n    | typeof SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND\n    | typeof SOLANA_ERROR__JSON_RPC__PARSE_ERROR\n    | typeof SOLANA_ERROR__JSON_RPC__SCAN_ERROR\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE\n    | typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION\n    | typeof SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH\n    | typeof SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH\n    | typeof SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH\n    | typeof SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY\n    | typeof SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__MALFORMED_BIGINT_STRING\n    | typeof SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR\n    | typeof SOLANA_ERROR__MALFORMED_NUMBER_STRING\n    | typeof SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND\n    | typeof SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD\n    | typeof SOLANA_ERROR__RPC__INTEGER_OVERFLOW\n    | typeof SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR\n    | typeof SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN\n    | typeof SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN\n    | typeof SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED\n    | typeof SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED\n    | typeof SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT\n    | typeof SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID\n    | typeof SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS\n    | typeof SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER\n    | typeof SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER\n    | typeof SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER\n    | typeof SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER\n    | typeof SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER\n    | typeof SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER\n    | typeof SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER\n    | typeof SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER\n    | typeof SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS\n    | typeof SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING\n    | typeof SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED\n    | typeof SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY\n    | typeof SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED\n    | typeof SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT\n    | typeof SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED\n    | typeof SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED\n    | typeof SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED\n    | typeof SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED\n    | typeof SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED\n    | typeof SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING\n    | typeof SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION\n    | typeof SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES\n    | typeof SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT\n    | typeof SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME\n    | typeof SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME\n    | typeof SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING\n    | typeof SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING\n    | typeof SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND\n    | typeof SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT\n    | typeof SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT\n    | typeof SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING\n    | typeof SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING\n    | typeof SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE\n    | typeof SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING\n    | typeof SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES\n    | typeof SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE\n    | typeof SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH\n    | typeof SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING\n    | typeof SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT\n    | typeof SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT;\n\n/**\n * Errors of this type are understood to have an optional {@link SolanaError} nested inside as\n * `cause`.\n */\nexport type SolanaErrorCodeWithCause = typeof SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE;\n", "/**\n * To add a new error, follow the instructions at\n * https://github.com/anza-xyz/kit/tree/main/packages/errors/#adding-a-new-error\n *\n * @privateRemarks\n * WARNING:\n *   - Don't change or remove members of an error's context.\n */\nimport {\n    SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND,\n    SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED,\n    SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT,\n    SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT,\n    SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND,\n    SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS,\n    SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH,\n    SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED,\n    SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED,\n    SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE,\n    SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE,\n    SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED,\n    SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE,\n    SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,\n    SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS,\n    SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,\n    SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,\n    SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,\n    SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE,\n    SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,\n    SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE,\n    SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,\n    SOLANA_ERROR__CODECS__INVALID_CONSTANT,\n    SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT,\n    SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT,\n    SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT,\n    SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS,\n    SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,\n    SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE,\n    SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,\n    SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,\n    SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,\n    SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE,\n    SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS,\n    SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA,\n    SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW,\n    SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR,\n    SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS,\n    SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH,\n    SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,\n    SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX,\n    SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND,\n    SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER,\n    SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID,\n    SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS,\n    SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION,\n    SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR,\n    SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH,\n    SOLANA_ERROR__INVALID_NONCE,\n    SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING,\n    SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED,\n    SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE,\n    SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR,\n    SOLANA_ERROR__JSON_RPC__INVALID_PARAMS,\n    SOLANA_ERROR__JSON_RPC__INVALID_REQUEST,\n    SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND,\n    SOLANA_ERROR__JSON_RPC__PARSE_ERROR,\n    SOLANA_ERROR__JSON_RPC__SCAN_ERROR,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION,\n    SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH,\n    SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH,\n    SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH,\n    SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE,\n    SOLANA_ERROR__MALFORMED_BIGINT_STRING,\n    SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR,\n    SOLANA_ERROR__MALFORMED_NUMBER_STRING,\n    SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND,\n    SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD,\n    SOLANA_ERROR__RPC__INTEGER_OVERFLOW,\n    SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR,\n    SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN,\n    SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN,\n    SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT,\n    SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS,\n    SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER,\n    SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY,\n    SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE,\n    SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING,\n    SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION,\n    SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT,\n    SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING,\n    SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE,\n    SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND,\n    SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT,\n    SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES,\n    SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE,\n    SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH,\n    SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING,\n    SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE,\n    SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION,\n    SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT,\n    SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED,\n    SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN,\n    SolanaErrorCode,\n} from './codes';\nimport { RpcSimulateTransactionResult } from './json-rpc-error';\n\ntype BasicInstructionErrorContext<T extends SolanaErrorCode> = Readonly<{ [P in T]: { index: number } }>;\n\ntype DefaultUnspecifiedErrorContextToUndefined<T> = {\n    [P in SolanaErrorCode]: P extends keyof T ? T[P] : undefined;\n};\n\ntype TypedArrayMutableProperties = 'copyWithin' | 'fill' | 'reverse' | 'set' | 'sort';\ninterface ReadonlyUint8Array extends Omit<Uint8Array, TypedArrayMutableProperties> {\n    readonly [n: number]: number;\n}\n\n/** A amount of bytes. */\ntype Bytes = number;\n\n/**\n * A map of every {@link SolanaError} code to the type of its `context` property.\n */\nexport type SolanaErrorContext = DefaultUnspecifiedErrorContextToUndefined<\n    BasicInstructionErrorContext<\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID\n        | typeof SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR\n    > & {\n        [SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND]: {\n            address: string;\n        };\n        [SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED]: {\n            addresses: string[];\n        };\n        [SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT]: {\n            address: string;\n        };\n        [SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT]: {\n            address: string;\n        };\n        [SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND]: {\n            addresses: string[];\n        };\n        [SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS]: {\n            putativeAddress: string;\n        };\n        [SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH]: {\n            actualLength: number;\n        };\n        [SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED]: {\n            actual: number;\n            maxSeeds: number;\n        };\n        [SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED]: {\n            actual: number;\n            index: number;\n            maxSeedLength: number;\n        };\n        [SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE]: {\n            bump: number;\n        };\n        [SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE]: {\n            actualLength: number;\n        };\n        [SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE]: {\n            actualLength: number;\n        };\n        [SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED]: {\n            currentBlockHeight: bigint;\n            lastValidBlockHeight: bigint;\n        };\n        [SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY]: {\n            codecDescription: string;\n        };\n        [SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS]: {\n            stringValues: string[];\n        };\n        [SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL]: {\n            encodedBytes: ReadonlyUint8Array;\n            hexEncodedBytes: string;\n            hexSentinel: string;\n            sentinel: ReadonlyUint8Array;\n        };\n        [SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH]: {\n            decoderFixedSize: number;\n            encoderFixedSize: number;\n        };\n        [SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH]: {\n            decoderMaxSize: number | undefined;\n            encoderMaxSize: number | undefined;\n        };\n        [SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE]: {\n            discriminator: bigint | number;\n            formattedValidDiscriminators: string;\n            validDiscriminators: number[];\n        };\n        [SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH]: {\n            bytesLength: number;\n            codecDescription: string;\n        };\n        [SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE]: {\n            codecDescription: string;\n            expectedSize: number;\n            hexZeroValue: string;\n            zeroValue: ReadonlyUint8Array;\n        };\n        [SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH]: {\n            bytesLength: number;\n            codecDescription: string;\n            expected: number;\n        };\n        [SOLANA_ERROR__CODECS__INVALID_CONSTANT]: {\n            constant: ReadonlyUint8Array;\n            data: ReadonlyUint8Array;\n            hexConstant: string;\n            hexData: string;\n            offset: number;\n        };\n        [SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT]: {\n            value: bigint | boolean | number | string | null | undefined;\n            variants: readonly (bigint | boolean | number | string | null | undefined)[];\n        };\n        [SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT]: {\n            formattedNumericalValues: string;\n            numericalValues: number[];\n            stringValues: string[];\n            variant: number | string | symbol;\n        };\n        [SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT]: {\n            value: bigint | boolean | number | string | null | undefined;\n            variants: readonly (bigint | boolean | number | string | null | undefined)[];\n        };\n        [SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS]: {\n            actual: bigint | number;\n            codecDescription: string;\n            expected: bigint | number;\n        };\n        [SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE]: {\n            alphabet: string;\n            base: number;\n            value: string;\n        };\n        [SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE]: {\n            discriminator: bigint | number;\n            maxRange: number;\n            minRange: number;\n        };\n        [SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE]: {\n            codecDescription: string;\n            max: bigint | number;\n            min: bigint | number;\n            value: bigint | number;\n        };\n        [SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE]: {\n            bytesLength: number;\n            codecDescription: string;\n            offset: number;\n        };\n        [SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES]: {\n            decodedBytes: ReadonlyUint8Array;\n            hexDecodedBytes: string;\n            hexSentinel: string;\n            sentinel: ReadonlyUint8Array;\n        };\n        [SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE]: {\n            maxRange: number;\n            minRange: number;\n            variant: number;\n        };\n        [SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR]: {\n            encodedData: string;\n            index: number;\n        };\n        [SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM]: {\n            code: number;\n            index: number;\n        };\n        [SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN]: {\n            errorName: string;\n            index: number;\n            instructionErrorContext?: unknown;\n        };\n        [SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS]: {\n            data?: ReadonlyUint8Array;\n            programAddress: string;\n        };\n        [SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA]: {\n            accountAddresses?: string[];\n            programAddress: string;\n        };\n        [SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH]: {\n            actualProgramAddress: string;\n            expectedProgramAddress: string;\n        };\n        [SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH]: {\n            actualLength: number;\n        };\n        [SOLANA_ERROR__INVALID_NONCE]: {\n            actualNonceValue: string;\n            expectedNonceValue: string;\n        };\n        [SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING]: {\n            cacheKey: string;\n        };\n        [SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED]: {\n            channelName: string;\n            supportedChannelNames: string[];\n        };\n        [SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE]: {\n            unexpectedValue: unknown;\n        };\n        [SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__INVALID_PARAMS]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__INVALID_REQUEST]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__PARSE_ERROR]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__SCAN_ERROR]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED]: {\n            contextSlot: bigint;\n        };\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY]: {\n            numSlotsBehind?: number;\n        };\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE]: Omit<\n            RpcSimulateTransactionResult,\n            'err'\n        >;\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION]: {\n            __serverMessage: string;\n        };\n        [SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH]: {\n            byteLength: number;\n        };\n        [SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH]: {\n            actualLength: number;\n        };\n        [SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH]: {\n            actualLength: number;\n        };\n        [SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE]: {\n            actualLength: number;\n        };\n        [SOLANA_ERROR__MALFORMED_BIGINT_STRING]: {\n            value: string;\n        };\n        [SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR]: {\n            error: unknown;\n            message: string;\n        };\n        [SOLANA_ERROR__MALFORMED_NUMBER_STRING]: {\n            value: string;\n        };\n        [SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND]: {\n            nonceAccountAddress: string;\n        };\n        [SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN]: {\n            notificationName: string;\n        };\n        [SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT]: {\n            errorEvent: Event;\n        };\n        [SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD]: {\n            method: string;\n            params: unknown[];\n        };\n        [SOLANA_ERROR__RPC__INTEGER_OVERFLOW]: {\n            argumentLabel: string;\n            keyPath: readonly (number | string | symbol)[];\n            methodName: string;\n            optionalPathLabel: string;\n            path?: string;\n            value: bigint;\n        };\n        [SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR]: {\n            headers: Headers;\n            message: string;\n            statusCode: number;\n        };\n        [SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN]: {\n            headers: string[];\n        };\n        [SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS]: {\n            address: string;\n        };\n        [SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER]: {\n            address: string;\n        };\n        [SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER]: {\n            address: string;\n        };\n        [SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER]: {\n            address: string;\n        };\n        [SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER]: {\n            address: string;\n        };\n        [SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER]: {\n            address: string;\n        };\n        [SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER]: {\n            address: string;\n        };\n        [SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER]: {\n            address: string;\n        };\n        [SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER]: {\n            address: string;\n        };\n        [SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY]: {\n            key: CryptoKey;\n        };\n        [SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE]: {\n            value: bigint;\n        };\n        [SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION]: {\n            index: number;\n        };\n        [SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT]: {\n            accountIndex: number;\n        };\n        [SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED]: {\n            accountIndex: number;\n        };\n        [SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN]: {\n            errorName: string;\n            transactionErrorContext?: unknown;\n        };\n        [SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION]: {\n            expectedAddresses: string[];\n            unexpectedAddresses: string[];\n        };\n        [SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING]: {\n            index: number;\n        };\n        [SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT]: {\n            transactionSize: Bytes;\n            transactionSizeLimit: Bytes;\n        };\n        [SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING]: {\n            lookupTableAddresses: string[];\n        };\n        [SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE]: {\n            highestKnownIndex: number;\n            highestRequestedIndex: number;\n            lookupTableAddress: string;\n        };\n        [SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND]: {\n            index: number;\n        };\n        [SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT]: {\n            unitsConsumed: number;\n        };\n        [SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES]: {\n            programAddress: string;\n        };\n        [SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE]: {\n            programAddress: string;\n        };\n        [SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH]: {\n            numRequiredSignatures: number;\n            signaturesLength: number;\n            signerAddresses: string[];\n        };\n        [SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING]: {\n            addresses: string[];\n        };\n        [SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE]: {\n            actualVersion: number;\n        };\n    }\n>;\n\nexport function decodeEncodedContext(encodedContext: string): object {\n    const decodedUrlString = __NODEJS__ ? Buffer.from(encodedContext, 'base64').toString('utf8') : atob(encodedContext);\n    return Object.fromEntries(new URLSearchParams(decodedUrlString).entries());\n}\n\nfunction encodeValue(value: unknown): string {\n    if (Array.isArray(value)) {\n        const commaSeparatedValues = value.map(encodeValue).join('%2C%20' /* \", \" */);\n        return '%5B' /* \"[\" */ + commaSeparatedValues + /* \"]\" */ '%5D';\n    } else if (typeof value === 'bigint') {\n        return `${value}n`;\n    } else {\n        return encodeURIComponent(\n            String(\n                value != null && Object.getPrototypeOf(value) === null\n                    ? // Plain objects with no prototype don't have a `toString` method.\n                      // Convert them before stringifying them.\n                      { ...(value as object) }\n                    : value,\n            ),\n        );\n    }\n}\n\nfunction encodeObjectContextEntry([key, value]: [string, unknown]): `${typeof key}=${string}` {\n    return `${key}=${encodeValue(value)}`;\n}\n\nexport function encodeContextObject(context: object): string {\n    const searchParamsString = Object.entries(context).map(encodeObjectContextEntry).join('&');\n    return __NODEJS__ ? Buffer.from(searchParamsString, 'utf8').toString('base64') : btoa(searchParamsString);\n}\n", "/**\n * To add a new error, follow the instructions at\n * https://github.com/anza-xyz/kit/tree/main/packages/errors#adding-a-new-error\n *\n * WARNING:\n *   - Don't change the meaning of an error message.\n */\nimport {\n    SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND,\n    SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED,\n    SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT,\n    SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT,\n    SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND,\n    SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED,\n    SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS,\n    SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH,\n    SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY,\n    SOLANA_ERROR__ADDRESSES__INVALID_OFF_CURVE_ADDRESS,\n    SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE,\n    SOLANA_ERROR__ADDRESSES__MALFORMED_PDA,\n    SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED,\n    SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED,\n    SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE,\n    SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER,\n    SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE,\n    SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED,\n    SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE,\n    SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,\n    SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS,\n    SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,\n    SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,\n    SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,\n    SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH,\n    SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE,\n    SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH,\n    SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,\n    SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH,\n    SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE,\n    SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,\n    SOLANA_ERROR__CODECS__INVALID_CONSTANT,\n    SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT,\n    SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT,\n    SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT,\n    SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS,\n    SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,\n    SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE,\n    SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,\n    SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,\n    SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,\n    SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE,\n    SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED,\n    SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS,\n    SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA,\n    SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW,\n    SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR,\n    SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS,\n    SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH,\n    SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,\n    SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX,\n    SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND,\n    SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR,\n    SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER,\n    SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC,\n    SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID,\n    SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS,\n    SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION,\n    SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE,\n    SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR,\n    SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH,\n    SOLANA_ERROR__INVALID_NONCE,\n    SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING,\n    SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED,\n    SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE,\n    SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING,\n    SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE,\n    SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR,\n    SOLANA_ERROR__JSON_RPC__INVALID_PARAMS,\n    SOLANA_ERROR__JSON_RPC__INVALID_REQUEST,\n    SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND,\n    SOLANA_ERROR__JSON_RPC__PARSE_ERROR,\n    SOLANA_ERROR__JSON_RPC__SCAN_ERROR,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION,\n    SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH,\n    SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH,\n    SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH,\n    SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY,\n    SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE,\n    SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE,\n    SOLANA_ERROR__MALFORMED_BIGINT_STRING,\n    SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR,\n    SOLANA_ERROR__MALFORMED_NUMBER_STRING,\n    SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND,\n    SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD,\n    SOLANA_ERROR__RPC__INTEGER_OVERFLOW,\n    SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR,\n    SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN,\n    SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN,\n    SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED,\n    SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED,\n    SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT,\n    SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID,\n    SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS,\n    SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER,\n    SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER,\n    SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS,\n    SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING,\n    SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED,\n    SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY,\n    SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED,\n    SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT,\n    SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED,\n    SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED,\n    SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED,\n    SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED,\n    SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED,\n    SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE,\n    SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING,\n    SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION,\n    SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES,\n    SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT,\n    SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME,\n    SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME,\n    SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING,\n    SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE,\n    SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING,\n    SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND,\n    SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT,\n    SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT,\n    SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING,\n    SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING,\n    SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE,\n    SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING,\n    SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES,\n    SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE,\n    SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH,\n    SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING,\n    SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE,\n    SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING,\n    SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE,\n    SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE,\n    SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND,\n    SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND,\n    SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED,\n    SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND,\n    SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP,\n    SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE,\n    SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION,\n    SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE,\n    SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT,\n    SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE,\n    SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX,\n    SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA,\n    SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX,\n    SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER,\n    SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT,\n    SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION,\n    SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT,\n    SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT,\n    SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED,\n    SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE,\n    SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND,\n    SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED,\n    SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED,\n    SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE,\n    SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE,\n    SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS,\n    SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION,\n    SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN,\n    SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION,\n    SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT,\n    SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT,\n    SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT,\n    SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT,\n    SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT,\n    SolanaErrorCode,\n} from './codes';\n\n/**\n * A map of every {@link SolanaError} code to the error message shown to developers in development\n * mode.\n */\nexport const SolanaErrorMessages: Readonly<{\n    // This type makes this data structure exhaustive with respect to `SolanaErrorCode`.\n    // TypeScript will fail to build this project if add an error code without a message.\n    [P in SolanaErrorCode]: string;\n}> = {\n    [SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND]: 'Account not found at address: $address',\n    [SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED]:\n        'Not all accounts were decoded. Encoded accounts found at addresses: $addresses.',\n    [SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT]: 'Expected decoded account at address: $address',\n    [SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT]: 'Failed to decode account data at address: $address',\n    [SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND]: 'Accounts not found at addresses: $addresses',\n    [SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED]:\n        'Unable to find a viable program address bump seed.',\n    [SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS]: '$putativeAddress is not a base58-encoded address.',\n    [SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH]:\n        'Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.',\n    [SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY]: 'The `CryptoKey` must be an `Ed25519` public key.',\n    [SOLANA_ERROR__ADDRESSES__INVALID_OFF_CURVE_ADDRESS]:\n        '$putativeOffCurveAddress is not a base58-encoded off-curve address.',\n    [SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE]: 'Invalid seeds; point must fall off the Ed25519 curve.',\n    [SOLANA_ERROR__ADDRESSES__MALFORMED_PDA]:\n        'Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].',\n    [SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED]:\n        'A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.',\n    [SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED]:\n        'The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.',\n    [SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE]:\n        'Expected program derived address bump to be in the range [0, 255], got: $bump.',\n    [SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER]: 'Program address cannot end with PDA marker.',\n    [SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE]:\n        'Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.',\n    [SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE]:\n        'Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.',\n    [SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED]:\n        'The network has progressed past the last block for which this transaction could have been committed.',\n    [SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY]:\n        'Codec [$codecDescription] cannot decode empty byte arrays.',\n    [SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS]:\n        'Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.',\n    [SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL]:\n        'Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].',\n    [SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH]:\n        'Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].',\n    [SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH]:\n        'Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].',\n    [SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH]:\n        'Encoder and decoder must either both be fixed-size or variable-size.',\n    [SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE]:\n        'Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.',\n    [SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH]: 'Expected a fixed-size codec, got a variable-size one.',\n    [SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH]:\n        'Codec [$codecDescription] expected a positive byte length, got $bytesLength.',\n    [SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH]: 'Expected a variable-size codec, got a fixed-size one.',\n    [SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE]:\n        'Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].',\n    [SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH]:\n        'Codec [$codecDescription] expected $expected bytes, got $bytesLength.',\n    [SOLANA_ERROR__CODECS__INVALID_CONSTANT]:\n        'Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].',\n    [SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT]:\n        'Invalid discriminated union variant. Expected one of [$variants], got $value.',\n    [SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT]:\n        'Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.',\n    [SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT]:\n        'Invalid literal union variant. Expected one of [$variants], got $value.',\n    [SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS]:\n        'Expected [$codecDescription] to have $expected items, got $actual.',\n    [SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE]: 'Invalid value $value for base $base with alphabet $alphabet.',\n    [SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE]:\n        'Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.',\n    [SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE]:\n        'Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.',\n    [SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE]:\n        'Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.',\n    [SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES]:\n        'Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].',\n    [SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE]:\n        'Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.',\n    [SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED]: 'No random values implementation could be found.',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED]: 'instruction requires an uninitialized account',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED]:\n        'instruction tries to borrow reference for an account which is already borrowed',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING]:\n        'instruction left account with an outstanding borrowed reference',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED]:\n        \"program other than the account's owner changed the size of the account data\",\n    [SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL]: 'account data too small for instruction',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE]: 'instruction expected an executable account',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT]:\n        'An account does not have enough lamports to be rent-exempt',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW]: 'Program arithmetic overflowed',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR]: 'Failed to serialize or deserialize account data: $encodedData',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS]:\n        'Builtin programs must consume compute units',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH]: 'Cross-program invocation call depth too deep',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED]: 'Computational budget exceeded',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM]: 'custom program error: #$code',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX]: 'instruction contains duplicate accounts',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC]:\n        'instruction modifications of multiply-passed account differ',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT]: 'executable accounts must be rent exempt',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED]: 'instruction changed executable accounts data',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE]:\n        'instruction changed the balance of an executable account',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED]: 'instruction changed executable bit of an account',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED]:\n        'instruction modified data of an account it does not own',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND]:\n        'instruction spent from the balance of an account it does not own',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR]: 'generic instruction error',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER]: 'Provided owner is not allowed',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE]: 'Account is immutable',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY]: 'Incorrect authority provided',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID]: 'incorrect program id for instruction',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS]: 'insufficient funds for instruction',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA]: 'invalid account data for instruction',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER]: 'Invalid account owner',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT]: 'invalid program argument',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR]: 'program returned invalid error code',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA]: 'invalid instruction data',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC]: 'Failed to reallocate account data',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS]: 'Provided seeds do not result in a valid address',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED]:\n        'Accounts data allocations exceeded the maximum allowed per transaction',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED]: 'Max accounts exceeded',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED]: 'Max instruction trace length exceeded',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED]:\n        'Length of the seed is too long for address generation',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT]: 'An account required by the instruction is missing',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE]: 'missing required signature for instruction',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID]:\n        'instruction illegally modified the program id of an account',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS]: 'insufficient account keys for instruction',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION]:\n        'Cross-program invocation with unauthorized signer or writable account',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE]:\n        'Failed to create program execution environment',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE]: 'Program failed to compile',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE]: 'Program failed to complete',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED]: 'instruction modified data of a read-only account',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE]:\n        'instruction changed the balance of a read-only account',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED]:\n        'Cross-program invocation reentrancy not allowed for this instruction',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED]: 'instruction modified rent epoch of an account',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION]:\n        'sum of account balances before and after instruction do not match',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT]: 'instruction requires an initialized account',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN]: '',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID]: 'Unsupported program id',\n    [SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR]: 'Unsupported sysvar',\n    [SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS]: 'The instruction does not have any accounts.',\n    [SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA]: 'The instruction does not have any data.',\n    [SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH]:\n        'Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.',\n    [SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH]:\n        'Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.',\n    [SOLANA_ERROR__INVALID_NONCE]:\n        'The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`',\n    [SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING]:\n        'Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It ' +\n        'should be impossible to hit this error; please file an issue at ' +\n        'https://sola.na/web3invariant',\n    [SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED]:\n        'Invariant violation: This data publisher does not publish to the channel named ' +\n        '`$channelName`. Supported channels include $supportedChannelNames.',\n    [SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE]:\n        'Invariant violation: WebSocket message iterator state is corrupt; iterated without first ' +\n        'resolving existing message promise. It should be impossible to hit this error; please ' +\n        'file an issue at https://sola.na/web3invariant',\n    [SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING]:\n        'Invariant violation: WebSocket message iterator is missing state storage. It should be ' +\n        'impossible to hit this error; please file an issue at https://sola.na/web3invariant',\n    [SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE]:\n        'Invariant violation: Switch statement non-exhaustive. Received unexpected value ' +\n        '`$unexpectedValue`. It should be impossible to hit this error; please file an issue at ' +\n        'https://sola.na/web3invariant',\n    [SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR]: 'JSON-RPC error: Internal JSON-RPC error ($__serverMessage)',\n    [SOLANA_ERROR__JSON_RPC__INVALID_PARAMS]: 'JSON-RPC error: Invalid method parameter(s) ($__serverMessage)',\n    [SOLANA_ERROR__JSON_RPC__INVALID_REQUEST]:\n        'JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)',\n    [SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND]:\n        'JSON-RPC error: The method does not exist / is not available ($__serverMessage)',\n    [SOLANA_ERROR__JSON_RPC__PARSE_ERROR]:\n        'JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)',\n    [SOLANA_ERROR__JSON_RPC__SCAN_ERROR]: '$__serverMessage',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP]: '$__serverMessage',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE]: '$__serverMessage',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET]: '$__serverMessage',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX]: '$__serverMessage',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED]: '$__serverMessage',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED]: 'Minimum context slot has not been reached',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY]: 'Node is unhealthy; behind by $numSlotsBehind slots',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT]: 'No snapshot',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE]: 'Transaction simulation failed',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED]: '$__serverMessage',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE]:\n        'Transaction history is not available from this node',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE]: '$__serverMessage',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH]: 'Transaction signature length mismatch',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE]:\n        'Transaction signature verification failure',\n    [SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION]: '$__serverMessage',\n    [SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH]: 'Key pair bytes must be of length 64, got $byteLength.',\n    [SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH]:\n        'Expected private key bytes with length 32. Actual length: $actualLength.',\n    [SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH]:\n        'Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.',\n    [SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY]:\n        'The provided private key does not match the provided public key.',\n    [SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE]:\n        'Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.',\n    [SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE]: 'Lamports value must be in the range [0, 2e64-1]',\n    [SOLANA_ERROR__MALFORMED_BIGINT_STRING]: '`$value` cannot be parsed as a `BigInt`',\n    [SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR]: '$message',\n    [SOLANA_ERROR__MALFORMED_NUMBER_STRING]: '`$value` cannot be parsed as a `Number`',\n    [SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND]: 'No nonce account could be found at address `$nonceAccountAddress`',\n    [SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN]:\n        \"The notification name must end in 'Notifications' and the API must supply a \" +\n        \"subscription plan creator function for the notification '$notificationName'.\",\n    [SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED]:\n        'WebSocket was closed before payload could be added to the send buffer',\n    [SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED]: 'WebSocket connection closed',\n    [SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT]: 'WebSocket failed to connect',\n    [SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID]:\n        'Failed to obtain a subscription id from the server',\n    [SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD]: 'Could not find an API plan for RPC method: `$method`',\n    [SOLANA_ERROR__RPC__INTEGER_OVERFLOW]:\n        'The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was ' +\n        '`$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds ' +\n        '`Number.MAX_SAFE_INTEGER`.',\n    [SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR]: 'HTTP error ($statusCode): $message',\n    [SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN]:\n        'HTTP header(s) forbidden: $headers. Learn more at ' +\n        'https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.',\n    [SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS]:\n        'Multiple distinct signers were identified for address `$address`. Please ensure that ' +\n        'you are using the same signer instance for each address.',\n    [SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER]:\n        'The provided value does not implement the `KeyPairSigner` interface',\n    [SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER]:\n        'The provided value does not implement the `MessageModifyingSigner` interface',\n    [SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER]:\n        'The provided value does not implement the `MessagePartialSigner` interface',\n    [SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER]:\n        'The provided value does not implement any of the `MessageSigner` interfaces',\n    [SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER]:\n        'The provided value does not implement the `TransactionModifyingSigner` interface',\n    [SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER]:\n        'The provided value does not implement the `TransactionPartialSigner` interface',\n    [SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER]:\n        'The provided value does not implement the `TransactionSendingSigner` interface',\n    [SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER]:\n        'The provided value does not implement any of the `TransactionSigner` interfaces',\n    [SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS]:\n        'More than one `TransactionSendingSigner` was identified.',\n    [SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING]:\n        'No `TransactionSendingSigner` was identified. Please provide a valid ' +\n        '`TransactionWithSingleSendingSigner` transaction.',\n    [SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED]:\n        'Wallet account signers do not support signing multiple messages/transactions in a single operation',\n    [SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY]: 'Cannot export a non-extractable key.',\n    [SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED]: 'No digest implementation could be found.',\n    [SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT]:\n        'Cryptographic operations are only allowed in secure browser contexts. Read more ' +\n        'here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.',\n    [SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED]:\n        'This runtime does not support the generation of Ed25519 key pairs.\\n\\nInstall ' +\n        '@solana/webcrypto-ed25519-polyfill and call its `install` function before generating keys in ' +\n        'environments that do not support Ed25519.\\n\\nFor a list of runtimes that ' +\n        'currently support Ed25519 operations, visit ' +\n        'https://github.com/WICG/webcrypto-secure-curves/issues/20.',\n    [SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED]:\n        'No signature verification implementation could be found.',\n    [SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED]: 'No key generation implementation could be found.',\n    [SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED]: 'No signing implementation could be found.',\n    [SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED]: 'No key export implementation could be found.',\n    [SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE]:\n        'Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given',\n    [SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING]:\n        'Transaction processing left an account with an outstanding borrowed reference',\n    [SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE]: 'Account in use',\n    [SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE]: 'Account loaded twice',\n    [SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND]:\n        'Attempt to debit an account but found no record of a prior credit.',\n    [SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND]:\n        \"Transaction loads an address table account that doesn't exist\",\n    [SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED]: 'This transaction has already been processed',\n    [SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND]: 'Blockhash not found',\n    [SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP]: 'Loader call chain is too deep',\n    [SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE]:\n        'Transactions are currently disabled due to cluster maintenance',\n    [SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION]:\n        'Transaction contains a duplicate instruction ($index) that is not allowed',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE]: 'Insufficient funds for fee',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT]:\n        'Transaction results in an account ($accountIndex) with insufficient funds for rent',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE]: 'This account may not be used to pay transaction fees',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX]: 'Transaction contains an invalid account reference',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA]:\n        'Transaction loads an address table account with invalid data',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX]:\n        'Transaction address table lookup uses an invalid index',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER]:\n        'Transaction loads an address table account with an invalid owner',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT]:\n        'LoadedAccountsDataSizeLimit set for transaction must be greater than 0.',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION]:\n        'This program may not be used for executing instructions',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT]:\n        'Transaction leaves an account with a lower balance than rent-exempt minimum',\n    [SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT]:\n        'Transaction loads a writable account that cannot be written',\n    [SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED]:\n        'Transaction exceeded max loaded accounts data size cap',\n    [SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE]:\n        'Transaction requires a fee but has no signature present',\n    [SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND]: 'Attempt to load a program that does not exist',\n    [SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED]:\n        'Execution of the program referenced by account at index $accountIndex is temporarily restricted.',\n    [SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED]: 'ResanitizationNeeded',\n    [SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE]: 'Transaction failed to sanitize accounts offsets correctly',\n    [SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE]: 'Transaction did not pass signature verification',\n    [SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS]: 'Transaction locked too many accounts',\n    [SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION]:\n        'Sum of account balances before and after transaction do not match',\n    [SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN]: 'The transaction failed with the error `$errorName`',\n    [SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION]: 'Transaction version is unsupported',\n    [SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT]:\n        'Transaction would exceed account data limit within the block',\n    [SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT]:\n        'Transaction would exceed total account data limit',\n    [SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT]:\n        'Transaction would exceed max account limit within the block',\n    [SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT]:\n        'Transaction would exceed max Block Cost Limit',\n    [SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT]: 'Transaction would exceed max Vote Cost Limit',\n    [SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION]:\n        'Attempted to sign a transaction with an address that is not a signer for it',\n    [SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING]: 'Transaction is missing an address at index: $index.',\n    [SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES]:\n        'Transaction has no expected signers therefore it cannot be encoded',\n    [SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT]:\n        'Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes',\n    [SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME]: 'Transaction does not have a blockhash lifetime',\n    [SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME]: 'Transaction is not a durable nonce transaction',\n    [SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING]:\n        'Contents of these address lookup tables unknown: $lookupTableAddresses',\n    [SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE]:\n        'Lookup of address at index $highestRequestedIndex failed for lookup table ' +\n        '`$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table ' +\n        'may have been extended since its contents were retrieved',\n    [SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING]: 'No fee payer set in CompiledTransaction',\n    [SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND]:\n        'Could not find program address at index $index',\n    [SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT]:\n        'Failed to estimate the compute unit consumption for this transaction message. This is ' +\n        'likely because simulating the transaction failed. Inspect the `cause` property of this ' +\n        'error to learn more',\n    [SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT]:\n        'Transaction failed when it was simulated in order to estimate the compute unit consumption. ' +\n        'The compute unit estimate provided is for a transaction that failed when simulated and may not ' +\n        'be representative of the compute units this transaction would consume if successful. Inspect the ' +\n        '`cause` property of this error to learn more',\n    [SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING]: 'Transaction is missing a fee payer.',\n    [SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING]:\n        \"Could not determine this transaction's signature. Make sure that the transaction has \" +\n        'been signed by its fee payer.',\n    [SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE]:\n        'Transaction first instruction is not advance nonce account instruction.',\n    [SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING]:\n        'Transaction with no instructions cannot be durable nonce transaction.',\n    [SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES]:\n        'This transaction includes an address (`$programAddress`) which is both ' +\n        'invoked and set as the fee payer. Program addresses may not pay fees',\n    [SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE]:\n        'This transaction includes an address (`$programAddress`) which is both invoked and ' +\n        'marked writable. Program addresses may not be writable',\n    [SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH]:\n        'The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.',\n    [SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING]: 'Transaction is missing signatures for addresses: $addresses.',\n    [SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE]:\n        'Transaction version must be in the range [0, 127]. `$actualVersion` given',\n};\n", "import { SolanaErrorCode } from './codes';\nimport { encodeContextObject } from './context';\nimport { SolanaErrorMessages } from './messages';\n\nconst enum StateType {\n    EscapeSequence,\n    Text,\n    Variable,\n}\ntype State = Readonly<{\n    [START_INDEX]: number;\n    [TYPE]: StateType;\n}>;\nconst START_INDEX = 'i';\nconst TYPE = 't';\n\nexport function getHumanReadableErrorMessage<TErrorCode extends SolanaErrorCode>(\n    code: TErrorCode,\n    context: object = {},\n): string {\n    const messageFormatString = SolanaErrorMessages[code];\n    if (messageFormatString.length === 0) {\n        return '';\n    }\n    let state: State;\n    function commitStateUpTo(endIndex?: number) {\n        if (state[TYPE] === StateType.Variable) {\n            const variableName = messageFormatString.slice(state[START_INDEX] + 1, endIndex);\n\n            fragments.push(\n                variableName in context\n                    ? // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                      `${context[variableName as keyof typeof context]}`\n                    : `$${variableName}`,\n            );\n        } else if (state[TYPE] === StateType.Text) {\n            fragments.push(messageFormatString.slice(state[START_INDEX], endIndex));\n        }\n    }\n    const fragments: string[] = [];\n    messageFormatString.split('').forEach((char, ii) => {\n        if (ii === 0) {\n            state = {\n                [START_INDEX]: 0,\n                [TYPE]:\n                    messageFormatString[0] === '\\\\'\n                        ? StateType.EscapeSequence\n                        : messageFormatString[0] === '$'\n                          ? StateType.Variable\n                          : StateType.Text,\n            };\n            return;\n        }\n        let nextState;\n        switch (state[TYPE]) {\n            case StateType.EscapeSequence:\n                nextState = { [START_INDEX]: ii, [TYPE]: StateType.Text };\n                break;\n            case StateType.Text:\n                if (char === '\\\\') {\n                    nextState = { [START_INDEX]: ii, [TYPE]: StateType.EscapeSequence };\n                } else if (char === '$') {\n                    nextState = { [START_INDEX]: ii, [TYPE]: StateType.Variable };\n                }\n                break;\n            case StateType.Variable:\n                if (char === '\\\\') {\n                    nextState = { [START_INDEX]: ii, [TYPE]: StateType.EscapeSequence };\n                } else if (char === '$') {\n                    nextState = { [START_INDEX]: ii, [TYPE]: StateType.Variable };\n                } else if (!char.match(/\\w/)) {\n                    nextState = { [START_INDEX]: ii, [TYPE]: StateType.Text };\n                }\n                break;\n        }\n        if (nextState) {\n            if (state !== nextState) {\n                commitStateUpTo(ii);\n            }\n            state = nextState;\n        }\n    });\n    commitStateUpTo();\n    return fragments.join('');\n}\n\nexport function getErrorMessage<TErrorCode extends SolanaErrorCode>(\n    code: TErrorCode,\n    context: Record<string, unknown> = {},\n): string {\n    if (process.env.NODE_ENV !== \"production\") {\n        return getHumanReadableErrorMessage(code, context);\n    } else {\n        let decodingAdviceMessage = `Solana error #${code}; Decode this error by running \\`npx @solana/errors decode -- ${code}`;\n        if (Object.keys(context).length) {\n            /**\n             * DANGER: Be sure that the shell command is escaped in such a way that makes it\n             *         impossible for someone to craft malicious context values that would result in\n             *         an exploit against anyone who bindly copy/pastes it into their terminal.\n             */\n            decodingAdviceMessage += ` '${encodeContextObject(context)}'`;\n        }\n        return `${decodingAdviceMessage}\\``;\n    }\n}\n", "import { SolanaErrorCode, SolanaErrorCodeWithCause } from './codes';\nimport { SolanaErrorContext } from './context';\nimport { getErrorMessage } from './message-formatter';\n\n/**\n * A type guard that returns `true` if the input is a {@link SolanaError}, optionally with a\n * particular error code.\n *\n * When the `code` argument is supplied and the input is a {@link SolanaError}, TypeScript will\n * refine the error's {@link SolanaError#context | `context`} property to the type associated with\n * that error code. You can use that context to render useful error messages, or to make\n * context-aware decisions that help your application to recover from the error.\n *\n * @example\n * ```ts\n * import {\n *     SOLANA_ERROR__TRANSACTION__MISSING_SIGNATURE,\n *     SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING,\n *     isSolanaError,\n * } from '@solana/errors';\n * import { assertIsFullySignedTransaction, getSignatureFromTransaction } from '@solana/transactions';\n *\n * try {\n *     const transactionSignature = getSignatureFromTransaction(tx);\n *     assertIsFullySignedTransaction(tx);\n *     /* ... *\\/\n * } catch (e) {\n *     if (isSolanaError(e, SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING)) {\n *         displayError(\n *             \"We can't send this transaction without signatures for these addresses:\\n- %s\",\n *             // The type of the `context` object is now refined to contain `addresses`.\n *             e.context.addresses.join('\\n- '),\n *         );\n *         return;\n *     } else if (isSolanaError(e, SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING)) {\n *         if (!tx.feePayer) {\n *             displayError('Choose a fee payer for this transaction before sending it');\n *         } else {\n *             displayError('The fee payer still needs to sign for this transaction');\n *         }\n *         return;\n *     }\n *     throw e;\n * }\n * ```\n */\nexport function isSolanaError<TErrorCode extends SolanaErrorCode>(\n    e: unknown,\n    /**\n     * When supplied, this function will require that the input is a {@link SolanaError} _and_ that\n     * its error code is exactly this value.\n     */\n    code?: TErrorCode,\n): e is SolanaError<TErrorCode> {\n    const isSolanaError = e instanceof Error && e.name === 'SolanaError';\n    if (isSolanaError) {\n        if (code !== undefined) {\n            return (e as SolanaError<TErrorCode>).context.__code === code;\n        }\n        return true;\n    }\n    return false;\n}\n\ntype SolanaErrorCodedContext = Readonly<{\n    [P in SolanaErrorCode]: (SolanaErrorContext[P] extends undefined ? object : SolanaErrorContext[P]) & {\n        __code: P;\n    };\n}>;\n\n/**\n * Encapsulates an error's stacktrace, a Solana-specific numeric code that indicates what went\n * wrong, and optional context if the type of error indicated by the code supports it.\n */\nexport class SolanaError<TErrorCode extends SolanaErrorCode = SolanaErrorCode> extends Error {\n    /**\n     * Indicates the root cause of this {@link SolanaError}, if any.\n     *\n     * For example, a transaction error might have an instruction error as its root cause. In this\n     * case, you will be able to access the instruction error on the transaction error as `cause`.\n     */\n    readonly cause?: TErrorCode extends SolanaErrorCodeWithCause ? SolanaError : unknown = this.cause;\n    /**\n     * Contains context that can assist in understanding or recovering from a {@link SolanaError}.\n     */\n    readonly context: SolanaErrorCodedContext[TErrorCode];\n    constructor(\n        ...[code, contextAndErrorOptions]: SolanaErrorContext[TErrorCode] extends undefined\n            ? [code: TErrorCode, errorOptions?: ErrorOptions | undefined]\n            : [code: TErrorCode, contextAndErrorOptions: SolanaErrorContext[TErrorCode] & (ErrorOptions | undefined)]\n    ) {\n        let context: SolanaErrorContext[TErrorCode] | undefined;\n        let errorOptions: ErrorOptions | undefined;\n        if (contextAndErrorOptions) {\n            // If the `ErrorOptions` type ever changes, update this code.\n            const { cause, ...contextRest } = contextAndErrorOptions;\n            if (cause) {\n                errorOptions = { cause };\n            }\n            if (Object.keys(contextRest).length > 0) {\n                context = contextRest as SolanaErrorContext[TErrorCode];\n            }\n        }\n        const message = getErrorMessage(code, context);\n        super(message, errorOptions);\n        this.context = {\n            __code: code,\n            ...context,\n        } as SolanaErrorCodedContext[TErrorCode];\n        // This is necessary so that `isSolanaError()` can identify a `SolanaError` without having\n        // to import the class for use in an `instanceof` check.\n        this.name = 'SolanaError';\n    }\n}\n", "export function safeCaptureStackTrace(...args: Parameters<typeof Error.captureStackTrace>): void {\n    if ('captureStackTrace' in Error && typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(...args);\n    }\n}\n", "import { SolanaErrorCode } from './codes';\nimport { SolanaErrorContext } from './context';\nimport { SolanaError } from './error';\nimport { safeCaptureStackTrace } from './stack-trace';\n\ntype Config = Readonly<{\n    /**\n     * Oh, hello. You might wonder what in tarnation is going on here. Allow us to explain.\n     *\n     * One of the goals of `@solana/errors` is to allow errors that are not interesting to your\n     * application to shake out of your app bundle in production. This means that we must never\n     * export large hardcoded maps of error codes/messages.\n     *\n     * Unfortunately, where instruction and transaction errors from the RPC are concerned, we have\n     * no choice but to keep a map between the RPC `rpcEnumError` enum name and its corresponding\n     * `SolanaError` code. In the interest of implementing that map in as few bytes of source code\n     * as possible, we do the following:\n     *\n     *   1. Reserve a block of sequential error codes for the enum in question\n     *   2. Hardcode the list of enum names in that same order\n     *   3. Match the enum error name from the RPC with its index in that list, and reconstruct the\n     *      `SolanaError` code by adding the `errorCodeBaseOffset` to that index\n     */\n    errorCodeBaseOffset: number;\n    getErrorContext: (\n        errorCode: SolanaErrorCode,\n        rpcErrorName: string,\n        rpcErrorContext?: unknown,\n    ) => SolanaErrorContext[SolanaErrorCode];\n    orderedErrorNames: string[];\n    rpcEnumError: string | { [key: string]: unknown };\n}>;\n\nexport function getSolanaErrorFromRpcError(\n    { errorCodeBaseOffset, getErrorContext, orderedErrorNames, rpcEnumError }: Config,\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\n    constructorOpt: Function,\n): SolanaError {\n    let rpcErrorName;\n    let rpcErrorContext;\n    if (typeof rpcEnumError === 'string') {\n        rpcErrorName = rpcEnumError;\n    } else {\n        rpcErrorName = Object.keys(rpcEnumError)[0];\n        rpcErrorContext = rpcEnumError[rpcErrorName];\n    }\n    const codeOffset = orderedErrorNames.indexOf(rpcErrorName);\n    const errorCode = (errorCodeBaseOffset + codeOffset) as SolanaErrorCode;\n    const errorContext = getErrorContext(errorCode, rpcErrorName, rpcErrorContext);\n    const err = new SolanaError(errorCode, errorContext);\n    safeCaptureStackTrace(err, constructorOpt);\n    return err;\n}\n", "import {\n    SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR,\n    SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,\n    SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN,\n} from './codes';\nimport { SolanaError } from './error';\nimport { getSolanaErrorFromRpcError } from './rpc-enum-errors';\n\nconst ORDERED_ERROR_NAMES = [\n    // Keep synced with RPC source: https://github.com/anza-xyz/agave/blob/master/sdk/program/src/instruction.rs\n    // If this list ever gets too large, consider implementing a compression strategy like this:\n    // https://gist.github.com/steveluscher/aaa7cbbb5433b1197983908a40860c47\n    'GenericError',\n    'InvalidArgument',\n    'InvalidInstructionData',\n    'InvalidAccountData',\n    'AccountDataTooSmall',\n    'InsufficientFunds',\n    'IncorrectProgramId',\n    'MissingRequiredSignature',\n    'AccountAlreadyInitialized',\n    'UninitializedAccount',\n    'UnbalancedInstruction',\n    'ModifiedProgramId',\n    'ExternalAccountLamportSpend',\n    'ExternalAccountDataModified',\n    'ReadonlyLamportChange',\n    'ReadonlyDataModified',\n    'DuplicateAccountIndex',\n    'ExecutableModified',\n    'RentEpochModified',\n    'NotEnoughAccountKeys',\n    'AccountDataSizeChanged',\n    'AccountNotExecutable',\n    'AccountBorrowFailed',\n    'AccountBorrowOutstanding',\n    'DuplicateAccountOutOfSync',\n    'Custom',\n    'InvalidError',\n    'ExecutableDataModified',\n    'ExecutableLamportChange',\n    'ExecutableAccountNotRentExempt',\n    'UnsupportedProgramId',\n    'CallDepth',\n    'MissingAccount',\n    'ReentrancyNotAllowed',\n    'MaxSeedLengthExceeded',\n    'InvalidSeeds',\n    'InvalidRealloc',\n    'ComputationalBudgetExceeded',\n    'PrivilegeEscalation',\n    'ProgramEnvironmentSetupFailure',\n    'ProgramFailedToComplete',\n    'ProgramFailedToCompile',\n    'Immutable',\n    'IncorrectAuthority',\n    'BorshIoError',\n    'AccountNotRentExempt',\n    'InvalidAccountOwner',\n    'ArithmeticOverflow',\n    'UnsupportedSysvar',\n    'IllegalOwner',\n    'MaxAccountsDataAllocationsExceeded',\n    'MaxAccountsExceeded',\n    'MaxInstructionTraceLengthExceeded',\n    'BuiltinProgramsMustConsumeComputeUnits',\n];\n\nexport function getSolanaErrorFromInstructionError(\n    /**\n     * The index of the instruction inside the transaction.\n     */\n    index: bigint | number,\n    instructionError: string | { [key: string]: unknown },\n): SolanaError {\n    const numberIndex = Number(index);\n    return getSolanaErrorFromRpcError(\n        {\n            errorCodeBaseOffset: 4615001,\n            getErrorContext(errorCode, rpcErrorName, rpcErrorContext) {\n                if (errorCode === SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN) {\n                    return {\n                        errorName: rpcErrorName,\n                        index: numberIndex,\n                        ...(rpcErrorContext !== undefined ? { instructionErrorContext: rpcErrorContext } : null),\n                    };\n                } else if (errorCode === SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM) {\n                    return {\n                        code: Number(rpcErrorContext as bigint | number),\n                        index: numberIndex,\n                    };\n                } else if (errorCode === SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR) {\n                    return {\n                        encodedData: rpcErrorContext as string,\n                        index: numberIndex,\n                    };\n                }\n                return { index: numberIndex };\n            },\n            orderedErrorNames: ORDERED_ERROR_NAMES,\n            rpcEnumError: instructionError,\n        },\n        getSolanaErrorFromInstructionError,\n    );\n}\n", "import {\n    SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION,\n    SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT,\n    SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED,\n    SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN,\n} from './codes';\nimport { SolanaError } from './error';\nimport { getSolanaErrorFromInstructionError } from './instruction-error';\nimport { getSolanaErrorFromRpcError } from './rpc-enum-errors';\n\n/**\n * How to add an error when an entry is added to the RPC `TransactionError` enum:\n *\n *   1. Follow the instructions in `./codes.ts` to add a corresponding Solana error code\n *   2. Add the `TransactionError` enum name in the same order as it appears in `./codes.ts`\n *   3. Add the new error name/code mapping to `./__tests__/transaction-error-test.ts`\n */\nconst ORDERED_ERROR_NAMES = [\n    // Keep synced with RPC source: https://github.com/anza-xyz/agave/blob/master/sdk/src/transaction/error.rs\n    // If this list ever gets too large, consider implementing a compression strategy like this:\n    // https://gist.github.com/steveluscher/aaa7cbbb5433b1197983908a40860c47\n    'AccountInUse',\n    'AccountLoadedTwice',\n    'AccountNotFound',\n    'ProgramAccountNotFound',\n    'InsufficientFundsForFee',\n    'InvalidAccountForFee',\n    'AlreadyProcessed',\n    'BlockhashNotFound',\n    // `InstructionError` intentionally omitted; delegated to `getSolanaErrorFromInstructionError`\n    'CallChainTooDeep',\n    'MissingSignatureForFee',\n    'InvalidAccountIndex',\n    'SignatureFailure',\n    'InvalidProgramForExecution',\n    'SanitizeFailure',\n    'ClusterMaintenance',\n    'AccountBorrowOutstanding',\n    'WouldExceedMaxBlockCostLimit',\n    'UnsupportedVersion',\n    'InvalidWritableAccount',\n    'WouldExceedMaxAccountCostLimit',\n    'WouldExceedAccountDataBlockLimit',\n    'TooManyAccountLocks',\n    'AddressLookupTableNotFound',\n    'InvalidAddressLookupTableOwner',\n    'InvalidAddressLookupTableData',\n    'InvalidAddressLookupTableIndex',\n    'InvalidRentPayingAccount',\n    'WouldExceedMaxVoteCostLimit',\n    'WouldExceedAccountDataTotalLimit',\n    'DuplicateInstruction',\n    'InsufficientFundsForRent',\n    'MaxLoadedAccountsDataSizeExceeded',\n    'InvalidLoadedAccountsDataSizeLimit',\n    'ResanitizationNeeded',\n    'ProgramExecutionTemporarilyRestricted',\n    'UnbalancedTransaction',\n];\n\nexport function getSolanaErrorFromTransactionError(transactionError: string | { [key: string]: unknown }): SolanaError {\n    if (typeof transactionError === 'object' && 'InstructionError' in transactionError) {\n        return getSolanaErrorFromInstructionError(\n            ...(transactionError.InstructionError as Parameters<typeof getSolanaErrorFromInstructionError>),\n        );\n    }\n    return getSolanaErrorFromRpcError(\n        {\n            errorCodeBaseOffset: 7050001,\n            getErrorContext(errorCode, rpcErrorName, rpcErrorContext) {\n                if (errorCode === SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN) {\n                    return {\n                        errorName: rpcErrorName,\n                        ...(rpcErrorContext !== undefined ? { transactionErrorContext: rpcErrorContext } : null),\n                    };\n                } else if (errorCode === SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION) {\n                    return {\n                        index: Number(rpcErrorContext as bigint | number),\n                    };\n                } else if (\n                    errorCode === SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT ||\n                    errorCode === SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED\n                ) {\n                    return {\n                        accountIndex: Number((rpcErrorContext as { account_index: bigint | number }).account_index),\n                    };\n                }\n            },\n            orderedErrorNames: ORDERED_ERROR_NAMES,\n            rpcEnumError: transactionError,\n        },\n        getSolanaErrorFromTransactionError,\n    );\n}\n", "import {\n    SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR,\n    SOLANA_ERROR__JSON_RPC__INVALID_PARAMS,\n    SOLANA_ERROR__JSON_RPC__INVALID_REQUEST,\n    SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND,\n    SOLANA_ERROR__JSON_RPC__PARSE_ERROR,\n    SOLANA_ERROR__JSON_RPC__SCAN_ERROR,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE,\n    SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION,\n    SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR,\n    SolanaErrorCode,\n} from './codes';\nimport { SolanaErrorContext } from './context';\nimport { SolanaError } from './error';\nimport { safeCaptureStackTrace } from './stack-trace';\nimport { getSolanaErrorFromTransactionError } from './transaction-error';\n\ninterface RpcErrorResponse {\n    code: bigint | number;\n    data?: unknown;\n    message: string;\n}\n\ntype TransactionError = string | { [key: string]: unknown };\n\n/**\n * Keep in sync with https://github.com/anza-xyz/agave/blob/master/rpc-client-types/src/response.rs\n * @hidden\n */\nexport interface RpcSimulateTransactionResult {\n    accounts:\n        | ({\n              data:\n                  | string // LegacyBinary\n                  | {\n                        // Json\n                        parsed: unknown;\n                        program: string;\n                        space: number;\n                    }\n                  // Binary\n                  | [encodedBytes: string, encoding: 'base58' | 'base64' | 'base64+zstd' | 'binary' | 'jsonParsed'];\n              executable: boolean;\n              lamports: number;\n              owner: string;\n              rentEpoch: number;\n              space?: number;\n          } | null)[]\n        | null;\n    err: TransactionError | null;\n    // Enabled by `enable_cpi_recording`\n    innerInstructions?:\n        | {\n              index: number;\n              instructions: (\n                  | {\n                        // Compiled\n                        accounts: number[];\n                        data: string;\n                        programIdIndex: number;\n                        stackHeight?: number;\n                    }\n                  | {\n                        // Parsed\n                        parsed: unknown;\n                        program: string;\n                        programId: string;\n                        stackHeight?: number;\n                    }\n                  | {\n                        // PartiallyDecoded\n                        accounts: string[];\n                        data: string;\n                        programId: string;\n                        stackHeight?: number;\n                    }\n              )[];\n          }[]\n        | null;\n    logs: string[] | null;\n    replacementBlockhash: string | null;\n    returnData: {\n        data: [string, 'base64'];\n        programId: string;\n    } | null;\n    unitsConsumed: bigint | null;\n}\n\nexport function getSolanaErrorFromJsonRpcError(putativeErrorResponse: unknown): SolanaError {\n    let out: SolanaError;\n    if (isRpcErrorResponse(putativeErrorResponse)) {\n        const { code: rawCode, data, message } = putativeErrorResponse;\n        const code = Number(rawCode);\n        if (code === SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE) {\n            const { err, ...preflightErrorContext } = data as RpcSimulateTransactionResult;\n            const causeObject = err ? { cause: getSolanaErrorFromTransactionError(err) } : null;\n            out = new SolanaError(SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE, {\n                ...preflightErrorContext,\n                ...causeObject,\n            });\n        } else {\n            let errorContext;\n            switch (code) {\n                case SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR:\n                case SOLANA_ERROR__JSON_RPC__INVALID_PARAMS:\n                case SOLANA_ERROR__JSON_RPC__INVALID_REQUEST:\n                case SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND:\n                case SOLANA_ERROR__JSON_RPC__PARSE_ERROR:\n                case SOLANA_ERROR__JSON_RPC__SCAN_ERROR:\n                case SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP:\n                case SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE:\n                case SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:\n                case SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:\n                case SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:\n                case SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED:\n                case SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:\n                case SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:\n                    // The server supplies no structured data, but rather a pre-formatted message. Put\n                    // the server message in `context` so as not to completely lose the data. The long\n                    // term fix for this is to add data to the server responses and modify the\n                    // messages in `@solana/errors` to be actual format strings.\n                    errorContext = { __serverMessage: message };\n                    break;\n                default:\n                    if (typeof data === 'object' && !Array.isArray(data)) {\n                        errorContext = data;\n                    }\n            }\n            out = new SolanaError(code as SolanaErrorCode, errorContext as SolanaErrorContext[SolanaErrorCode]);\n        }\n    } else {\n        const message =\n            typeof putativeErrorResponse === 'object' &&\n            putativeErrorResponse !== null &&\n            'message' in putativeErrorResponse &&\n            typeof putativeErrorResponse.message === 'string'\n                ? putativeErrorResponse.message\n                : 'Malformed JSON-RPC error with no message attribute';\n        out = new SolanaError(SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR, { error: putativeErrorResponse, message });\n    }\n    safeCaptureStackTrace(out, getSolanaErrorFromJsonRpcError);\n    return out;\n}\n\nfunction isRpcErrorResponse(value: unknown): value is RpcErrorResponse {\n    return (\n        typeof value === 'object' &&\n        value !== null &&\n        'code' in value &&\n        'message' in value &&\n        (typeof value.code === 'number' || typeof value.code === 'bigint') &&\n        typeof value.message === 'string'\n    );\n}\n", "import { ReadonlyUint8Array } from './readonly-uint8array';\n\n/**\n * Concatenates an array of `Uint8Array`s into a single `Uint8Array`.\n * Reuses the original byte array when applicable.\n *\n * @param byteArrays - The array of byte arrays to concatenate.\n *\n * @example\n * ```ts\n * const bytes1 = new Uint8Array([0x01, 0x02]);\n * const bytes2 = new Uint8Array([]);\n * const bytes3 = new Uint8Array([0x03, 0x04]);\n * const bytes = mergeBytes([bytes1, bytes2, bytes3]);\n * //    ^ [0x01, 0x02, 0x03, 0x04]\n * ```\n */\nexport const mergeBytes = (byteArrays: Uint8Array[]): Uint8Array => {\n    const nonEmptyByteArrays = byteArrays.filter(arr => arr.length);\n    if (nonEmptyByteArrays.length === 0) {\n        return byteArrays.length ? byteArrays[0] : new Uint8Array();\n    }\n\n    if (nonEmptyByteArrays.length === 1) {\n        return nonEmptyByteArrays[0];\n    }\n\n    const totalLength = nonEmptyByteArrays.reduce((total, arr) => total + arr.length, 0);\n    const result = new Uint8Array(totalLength);\n    let offset = 0;\n    nonEmptyByteArrays.forEach(arr => {\n        result.set(arr, offset);\n        offset += arr.length;\n    });\n    return result;\n};\n\n/**\n * Pads a `Uint8Array` with zeroes to the specified length.\n * If the array is longer than the specified length, it is returned as-is.\n *\n * @param bytes - The byte array to pad.\n * @param length - The desired length of the byte array.\n *\n * @example\n * Adds zeroes to the end of the byte array to reach the desired length.\n * ```ts\n * const bytes = new Uint8Array([0x01, 0x02]);\n * const paddedBytes = padBytes(bytes, 4);\n * //    ^ [0x01, 0x02, 0x00, 0x00]\n * ```\n *\n * @example\n * Returns the original byte array if it is already at the desired length.\n * ```ts\n * const bytes = new Uint8Array([0x01, 0x02]);\n * const paddedBytes = padBytes(bytes, 2);\n * // bytes === paddedBytes\n * ```\n */\nexport const padBytes = (bytes: ReadonlyUint8Array | Uint8Array, length: number): ReadonlyUint8Array | Uint8Array => {\n    if (bytes.length >= length) return bytes;\n    const paddedBytes = new Uint8Array(length).fill(0);\n    paddedBytes.set(bytes);\n    return paddedBytes;\n};\n\n/**\n * Fixes a `Uint8Array` to the specified length.\n * If the array is longer than the specified length, it is truncated.\n * If the array is shorter than the specified length, it is padded with zeroes.\n *\n * @param bytes - The byte array to truncate or pad.\n * @param length - The desired length of the byte array.\n *\n * @example\n * Truncates the byte array to the desired length.\n * ```ts\n * const bytes = new Uint8Array([0x01, 0x02, 0x03, 0x04]);\n * const fixedBytes = fixBytes(bytes, 2);\n * //    ^ [0x01, 0x02]\n * ```\n *\n * @example\n * Adds zeroes to the end of the byte array to reach the desired length.\n * ```ts\n * const bytes = new Uint8Array([0x01, 0x02]);\n * const fixedBytes = fixBytes(bytes, 4);\n * //    ^ [0x01, 0x02, 0x00, 0x00]\n * ```\n *\n * @example\n * Returns the original byte array if it is already at the desired length.\n * ```ts\n * const bytes = new Uint8Array([0x01, 0x02]);\n * const fixedBytes = fixBytes(bytes, 2);\n * // bytes === fixedBytes\n * ```\n */\nexport const fixBytes = (bytes: ReadonlyUint8Array | Uint8Array, length: number): ReadonlyUint8Array | Uint8Array =>\n    padBytes(bytes.length <= length ? bytes : bytes.slice(0, length), length);\n\n/**\n * Returns true if and only if the provided `data` byte array contains\n * the provided `bytes` byte array at the specified `offset`.\n *\n * @param data - The byte sequence to search for.\n * @param bytes - The byte array in which to search for `data`.\n * @param offset - The position in `bytes` where the search begins.\n *\n * @example\n * ```ts\n * const bytes = new Uint8Array([0x01, 0x02, 0x03, 0x04]);\n * const data = new Uint8Array([0x02, 0x03]);\n * containsBytes(bytes, data, 1); // true\n * containsBytes(bytes, data, 2); // false\n * ```\n */\nexport function containsBytes(\n    data: ReadonlyUint8Array | Uint8Array,\n    bytes: ReadonlyUint8Array | Uint8Array,\n    offset: number,\n): boolean {\n    const slice = offset === 0 && data.length === bytes.length ? data : data.slice(offset, offset + bytes.length);\n    if (slice.length !== bytes.length) return false;\n    return bytes.every((b, i) => b === slice[i]);\n}\n", "import {\n    SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH,\n    SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH,\n    SolanaError,\n} from '@solana/errors';\n\nimport { ReadonlyUint8Array } from './readonly-uint8array';\n\n/**\n * Defines an offset in bytes.\n */\nexport type Offset = number;\n\n/**\n * An object that can encode a value of type {@link TFrom} into a {@link ReadonlyUint8Array}.\n *\n * This is a common interface for {@link FixedSizeEncoder} and {@link VariableSizeEncoder}.\n *\n * @interface\n * @typeParam TFrom - The type of the value to encode.\n *\n * @see {@link FixedSizeEncoder}\n * @see {@link VariableSizeEncoder}\n */\ntype BaseEncoder<TFrom> = {\n    /** Encode the provided value and return the encoded bytes directly. */\n    readonly encode: (value: TFrom) => ReadonlyUint8Array;\n    /**\n     * Writes the encoded value into the provided byte array at the given offset.\n     * Returns the offset of the next byte after the encoded value.\n     */\n    readonly write: (value: TFrom, bytes: Uint8Array, offset: Offset) => Offset;\n};\n\n/**\n * An object that can encode a value of type {@link TFrom} into a fixed-size {@link ReadonlyUint8Array}.\n *\n * See {@link Encoder} to learn more about creating and composing encoders.\n *\n * @interface\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n *\n * @example\n * ```ts\n * const encoder: FixedSizeEncoder<number, 4>;\n * const bytes = encoder.encode(42);\n * const size = encoder.fixedSize; // 4\n * ```\n *\n * @see {@link Encoder}\n * @see {@link VariableSizeEncoder}\n */\nexport type FixedSizeEncoder<TFrom, TSize extends number = number> = BaseEncoder<TFrom> & {\n    /** The fixed size of the encoded value in bytes. */\n    readonly fixedSize: TSize;\n};\n\n/**\n * An object that can encode a value of type {@link TFrom} into a variable-size {@link ReadonlyUint8Array}.\n *\n * See {@link Encoder} to learn more about creating and composing encoders.\n *\n * @interface\n * @typeParam TFrom - The type of the value to encode.\n *\n * @example\n * ```ts\n * const encoder: VariableSizeEncoder<string>;\n * const bytes = encoder.encode('hello');\n * const size = encoder.getSizeFromValue('hello');\n * ```\n *\n * @see {@link Encoder}\n * @see {@link FixedSizeEncoder}\n */\nexport type VariableSizeEncoder<TFrom> = BaseEncoder<TFrom> & {\n    /** Returns the size of the encoded value in bytes for a given input. */\n    readonly getSizeFromValue: (value: TFrom) => number;\n    /** The maximum possible size of an encoded value in bytes, if applicable. */\n    readonly maxSize?: number;\n};\n\n/**\n * An object that can encode a value of type {@link TFrom} into a {@link ReadonlyUint8Array}.\n *\n * An `Encoder` can be either:\n * - A {@link FixedSizeEncoder}, where all encoded values have the same fixed size.\n * - A {@link VariableSizeEncoder}, where encoded values can vary in size.\n *\n * @typeParam TFrom - The type of the value to encode.\n *\n * @example\n * Encoding a value into a new byte array.\n * ```ts\n * const encoder: Encoder<string>;\n * const bytes = encoder.encode('hello');\n * ```\n *\n * @example\n * Writing the encoded value into an existing byte array.\n * ```ts\n * const encoder: Encoder<string>;\n * const bytes = new Uint8Array(100);\n * const nextOffset = encoder.write('hello', bytes, 20);\n * ```\n *\n * @remarks\n * You may create `Encoders` manually using the {@link createEncoder} function but it is more common\n * to compose multiple `Encoders` together using the various helpers of the `@solana/codecs` package.\n *\n * For instance, here's how you might create an `Encoder` for a `Person` object type that contains\n * a `name` string and an `age` number:\n *\n * ```ts\n * import { getStructEncoder, addEncoderSizePrefix, getUtf8Encoder, getU32Encoder } from '@solana/codecs';\n *\n * type Person = { name: string; age: number };\n * const getPersonEncoder = (): Encoder<Person> =>\n *     getStructEncoder([\n *         ['name', addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder())],\n *         ['age', getU32Encoder()],\n *     ]);\n * ```\n *\n * Note that composed `Encoder` types are clever enough to understand whether\n * they are fixed-size or variable-size. In the example above, `getU32Encoder()` is\n * a fixed-size encoder, while `addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder())`\n * is a variable-size encoder. This makes the final `Person` encoder a variable-size encoder.\n *\n * @see {@link FixedSizeEncoder}\n * @see {@link VariableSizeEncoder}\n * @see {@link createEncoder}\n */\nexport type Encoder<TFrom> = FixedSizeEncoder<TFrom> | VariableSizeEncoder<TFrom>;\n\n/**\n * An object that can decode a byte array into a value of type {@link TTo}.\n *\n * This is a common interface for {@link FixedSizeDecoder} and {@link VariableSizeDecoder}.\n *\n * @interface\n * @typeParam TTo - The type of the decoded value.\n *\n * @see {@link FixedSizeDecoder}\n * @see {@link VariableSizeDecoder}\n */\ntype BaseDecoder<TTo> = {\n    /** Decodes the provided byte array at the given offset (or zero) and returns the value directly. */\n    readonly decode: (bytes: ReadonlyUint8Array | Uint8Array, offset?: Offset) => TTo;\n    /**\n     * Reads the encoded value from the provided byte array at the given offset.\n     * Returns the decoded value and the offset of the next byte after the encoded value.\n     */\n    readonly read: (bytes: ReadonlyUint8Array | Uint8Array, offset: Offset) => [TTo, Offset];\n};\n\n/**\n * An object that can decode a fixed-size byte array into a value of type {@link TTo}.\n *\n * See {@link Decoder} to learn more about creating and composing decoders.\n *\n * @interface\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n *\n * @example\n * ```ts\n * const decoder: FixedSizeDecoder<number, 4>;\n * const value = decoder.decode(bytes);\n * const size = decoder.fixedSize; // 4\n * ```\n *\n * @see {@link Decoder}\n * @see {@link VariableSizeDecoder}\n */\nexport type FixedSizeDecoder<TTo, TSize extends number = number> = BaseDecoder<TTo> & {\n    /** The fixed size of the encoded value in bytes. */\n    readonly fixedSize: TSize;\n};\n\n/**\n * An object that can decode a variable-size byte array into a value of type {@link TTo}.\n *\n * See {@link Decoder} to learn more about creating and composing decoders.\n *\n * @interface\n * @typeParam TTo - The type of the decoded value.\n *\n * @example\n * ```ts\n * const decoder: VariableSizeDecoder<number>;\n * const value = decoder.decode(bytes);\n * ```\n *\n * @see {@link Decoder}\n * @see {@link VariableSizeDecoder}\n */\nexport type VariableSizeDecoder<TTo> = BaseDecoder<TTo> & {\n    /** The maximum possible size of an encoded value in bytes, if applicable. */\n    readonly maxSize?: number;\n};\n\n/**\n * An object that can decode a byte array into a value of type {@link TTo}.\n *\n * An `Decoder` can be either:\n * - A {@link FixedSizeDecoder}, where all byte arrays have the same fixed size.\n * - A {@link VariableSizeDecoder}, where byte arrays can vary in size.\n *\n * @typeParam TTo - The type of the decoded value.\n *\n * @example\n * Getting the decoded value from a byte array.\n * ```ts\n * const decoder: Decoder<string>;\n * const value = decoder.decode(bytes);\n * ```\n *\n * @example\n * Reading the decoded value from a byte array at a specific offset\n * and getting the offset of the next byte to read.\n * ```ts\n * const decoder: Decoder<string>;\n * const [value, nextOffset] = decoder.read('hello', bytes, 20);\n * ```\n *\n * @remarks\n * You may create `Decoders` manually using the {@link createDecoder} function but it is more common\n * to compose multiple `Decoders` together using the various helpers of the `@solana/codecs` package.\n *\n * For instance, here's how you might create an `Decoder` for a `Person` object type that contains\n * a `name` string and an `age` number:\n *\n * ```ts\n * import { getStructDecoder, addDecoderSizePrefix, getUtf8Decoder, getU32Decoder } from '@solana/codecs';\n *\n * type Person = { name: string; age: number };\n * const getPersonDecoder = (): Decoder<Person> =>\n *     getStructDecoder([\n *         ['name', addDecoderSizePrefix(getUtf8Decoder(), getU32Decoder())],\n *         ['age', getU32Decoder()],\n *     ]);\n * ```\n *\n * Note that composed `Decoder` types are clever enough to understand whether\n * they are fixed-size or variable-size. In the example above, `getU32Decoder()` is\n * a fixed-size decoder, while `addDecoderSizePrefix(getUtf8Decoder(), getU32Decoder())`\n * is a variable-size decoder. This makes the final `Person` decoder a variable-size decoder.\n *\n * @see {@link FixedSizeDecoder}\n * @see {@link VariableSizeDecoder}\n * @see {@link createDecoder}\n */\nexport type Decoder<TTo> = FixedSizeDecoder<TTo> | VariableSizeDecoder<TTo>;\n\n/**\n * An object that can encode and decode a value to and from a fixed-size byte array.\n *\n * See {@link Codec} to learn more about creating and composing codecs.\n *\n * @interface\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n *\n * @example\n * ```ts\n * const codec: FixedSizeCodec<number | bigint, bigint, 8>;\n * const bytes = codec.encode(42);\n * const value = codec.decode(bytes); // 42n\n * const size = codec.fixedSize; // 8\n * ```\n *\n * @see {@link Codec}\n * @see {@link VariableSizeCodec}\n */\nexport type FixedSizeCodec<TFrom, TTo extends TFrom = TFrom, TSize extends number = number> = FixedSizeDecoder<\n    TTo,\n    TSize\n> &\n    FixedSizeEncoder<TFrom, TSize>;\n\n/**\n * An object that can encode and decode a value to and from a variable-size byte array.\n *\n * See {@link Codec} to learn more about creating and composing codecs.\n *\n * @interface\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n *\n * @example\n * ```ts\n * const codec: VariableSizeCodec<number | bigint, bigint>;\n * const bytes = codec.encode(42);\n * const value = codec.decode(bytes); // 42n\n * const size = codec.getSizeFromValue(42);\n * ```\n *\n * @see {@link Codec}\n * @see {@link FixedSizeCodec}\n */\nexport type VariableSizeCodec<TFrom, TTo extends TFrom = TFrom> = VariableSizeDecoder<TTo> & VariableSizeEncoder<TFrom>;\n\n/**\n * An object that can encode and decode a value to and from a byte array.\n *\n * A `Codec` can be either:\n * - A {@link FixedSizeCodec}, where all encoded values have the same fixed size.\n * - A {@link VariableSizeCodec}, where encoded values can vary in size.\n *\n * @example\n * ```ts\n * const codec: Codec<string>;\n * const bytes = codec.encode('hello');\n * const value = codec.decode(bytes); // 'hello'\n * ```\n *\n * @remarks\n * For convenience, codecs can encode looser types than they decode.\n * That is, type {@link TFrom} can be a superset of type {@link TTo}.\n * For instance, a `Codec<bigint | number, bigint>` can encode both\n * `bigint` and `number` values, but will always decode to a `bigint`.\n *\n * ```ts\n * const codec: Codec<bigint | number, bigint>;\n * const bytes = codec.encode(42);\n * const value = codec.decode(bytes); // 42n\n * ```\n *\n * It is worth noting that codecs are the union of encoders and decoders.\n * This means that a `Codec<TFrom, TTo>` can be combined from an `Encoder<TFrom>`\n * and a `Decoder<TTo>` using the {@link combineCodec} function. This is particularly\n * useful for library authors who want to expose all three types of objects to their users.\n *\n * ```ts\n * const encoder: Encoder<bigint | number>;\n * const decoder: Decoder<bigint>;\n * const codec: Codec<bigint | number, bigint> = combineCodec(encoder, decoder);\n * ```\n *\n * Aside from combining encoders and decoders, codecs can also be created from scratch using\n * the {@link createCodec} function but it is more common to compose multiple codecs together\n * using the various helpers of the `@solana/codecs` package.\n *\n * For instance, here's how you might create a `Codec` for a `Person` object type that contains\n * a `name` string and an `age` number:\n *\n * ```ts\n * import { getStructCodec, addCodecSizePrefix, getUtf8Codec, getU32Codec } from '@solana/codecs';\n *\n * type Person = { name: string; age: number };\n * const getPersonCodec = (): Codec<Person> =>\n *     getStructCodec([\n *         ['name', addCodecSizePrefix(getUtf8Codec(), getU32Codec())],\n *         ['age', getU32Codec()],\n *     ]);\n * ```\n *\n * Note that composed `Codec` types are clever enough to understand whether\n * they are fixed-size or variable-size. In the example above, `getU32Codec()` is\n * a fixed-size codec, while `addCodecSizePrefix(getUtf8Codec(), getU32Codec())`\n * is a variable-size codec. This makes the final `Person` codec a variable-size codec.\n *\n * @see {@link FixedSizeCodec}\n * @see {@link VariableSizeCodec}\n * @see {@link combineCodec}\n * @see {@link createCodec}\n */\nexport type Codec<TFrom, TTo extends TFrom = TFrom> = FixedSizeCodec<TFrom, TTo> | VariableSizeCodec<TFrom, TTo>;\n\n/**\n * Gets the encoded size of a given value in bytes using the provided encoder.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @param value - The value to be encoded.\n * @param encoder - The encoder used to determine the encoded size.\n * @returns The size of the encoded value in bytes.\n *\n * @example\n * ```ts\n * const fixedSizeEncoder = { fixedSize: 4 };\n * getEncodedSize(123, fixedSizeEncoder); // Returns 4.\n *\n * const variableSizeEncoder = { getSizeFromValue: (value: string) => value.length };\n * getEncodedSize(\"hello\", variableSizeEncoder); // Returns 5.\n * ```\n *\n * @see {@link Encoder}\n */\nexport function getEncodedSize<TFrom>(\n    value: TFrom,\n    encoder: { fixedSize: number } | { getSizeFromValue: (value: TFrom) => number },\n): number {\n    return 'fixedSize' in encoder ? encoder.fixedSize : encoder.getSizeFromValue(value);\n}\n\n/**\n * Creates an `Encoder` by filling in the missing `encode` function using the provided `write` function and\n * either the `fixedSize` property (for {@link FixedSizeEncoder | FixedSizeEncoders}) or\n * the `getSizeFromValue` function (for {@link VariableSizeEncoder | VariableSizeEncoders}).\n *\n * Instead of manually implementing `encode`, this utility leverages the existing `write` function\n * and the size helpers to generate a complete encoder. The provided `encode` method will allocate\n * a new `Uint8Array` of the correct size and use `write` to populate it.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TSize - The fixed size of the encoded value in bytes (for fixed-size encoders).\n *\n * @param encoder - An encoder object that implements `write`, but not `encode`.\n * - If the encoder has a `fixedSize` property, it is treated as a {@link FixedSizeEncoder}.\n * - Otherwise, it is treated as a {@link VariableSizeEncoder}.\n *\n * @returns A fully functional `Encoder` with both `write` and `encode` methods.\n *\n * @example\n * Creating a custom fixed-size encoder.\n * ```ts\n * const encoder = createEncoder({\n *     fixedSize: 4,\n *     write: (value: number, bytes, offset) => {\n *         bytes.set(new Uint8Array([value]), offset);\n *         return offset + 4;\n *     },\n * });\n *\n * const bytes = encoder.encode(42);\n * // 0x2a000000\n * ```\n *\n * @example\n * Creating a custom variable-size encoder:\n * ```ts\n * const encoder = createEncoder({\n *     getSizeFromValue: (value: string) => value.length,\n *     write: (value: string, bytes, offset) => {\n *         const encodedValue = new TextEncoder().encode(value);\n *         bytes.set(encodedValue, offset);\n *         return offset + encodedValue.length;\n *     },\n * });\n *\n * const bytes = encoder.encode(\"hello\");\n * // 0x68656c6c6f\n * ```\n *\n * @remarks\n * Note that, while `createEncoder` is useful for defining more complex encoders, it is more common to compose\n * encoders together using the various helpers and primitives of the `@solana/codecs` package.\n *\n * Here are some alternative examples using codec primitives instead of `createEncoder`.\n *\n * ```ts\n * // Fixed-size encoder for unsigned 32-bit integers.\n * const encoder = getU32Encoder();\n * const bytes = encoder.encode(42);\n * // 0x2a000000\n *\n * // Variable-size encoder for 32-bytes prefixed UTF-8 strings.\n * const encoder = addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder());\n * const bytes = encoder.encode(\"hello\");\n * // 0x0500000068656c6c6f\n *\n * // Variable-size encoder for custom objects.\n * type Person = { name: string; age: number };\n * const encoder: Encoder<Person> = getStructEncoder([\n *     ['name', addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder())],\n *     ['age', getU32Encoder()],\n * ]);\n * const bytes = encoder.encode({ name: \"Bob\", age: 42 });\n * // 0x03000000426f622a000000\n * ```\n *\n * @see {@link Encoder}\n * @see {@link FixedSizeEncoder}\n * @see {@link VariableSizeEncoder}\n * @see {@link getStructEncoder}\n * @see {@link getU32Encoder}\n * @see {@link getUtf8Encoder}\n * @see {@link addEncoderSizePrefix}\n */\nexport function createEncoder<TFrom, TSize extends number>(\n    encoder: Omit<FixedSizeEncoder<TFrom, TSize>, 'encode'>,\n): FixedSizeEncoder<TFrom, TSize>;\nexport function createEncoder<TFrom>(encoder: Omit<VariableSizeEncoder<TFrom>, 'encode'>): VariableSizeEncoder<TFrom>;\nexport function createEncoder<TFrom>(\n    encoder: Omit<FixedSizeEncoder<TFrom>, 'encode'> | Omit<VariableSizeEncoder<TFrom>, 'encode'>,\n): Encoder<TFrom>;\nexport function createEncoder<TFrom>(\n    encoder: Omit<FixedSizeEncoder<TFrom>, 'encode'> | Omit<VariableSizeEncoder<TFrom>, 'encode'>,\n): Encoder<TFrom> {\n    return Object.freeze({\n        ...encoder,\n        encode: value => {\n            const bytes = new Uint8Array(getEncodedSize(value, encoder));\n            encoder.write(value, bytes, 0);\n            return bytes;\n        },\n    });\n}\n\n/**\n * Creates a `Decoder` by filling in the missing `decode` function using the provided `read` function.\n *\n * Instead of manually implementing `decode`, this utility leverages the existing `read` function\n * and the size properties to generate a complete decoder. The provided `decode` method will read\n * from a `Uint8Array` at the given offset and return the decoded value.\n *\n * If the `fixedSize` property is provided, a {@link FixedSizeDecoder} will be created, otherwise\n * a {@link VariableSizeDecoder} will be created.\n *\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes (for fixed-size decoders).\n *\n * @param decoder - A decoder object that implements `read`, but not `decode`.\n * - If the decoder has a `fixedSize` property, it is treated as a {@link FixedSizeDecoder}.\n * - Otherwise, it is treated as a {@link VariableSizeDecoder}.\n *\n * @returns A fully functional `Decoder` with both `read` and `decode` methods.\n *\n * @example\n * Creating a custom fixed-size decoder.\n * ```ts\n * const decoder = createDecoder({\n *     fixedSize: 4,\n *     read: (bytes, offset) => {\n *         const value = bytes[offset];\n *         return [value, offset + 4];\n *     },\n * });\n *\n * const value = decoder.decode(new Uint8Array([42, 0, 0, 0]));\n * // 42\n * ```\n *\n * @example\n * Creating a custom variable-size decoder:\n * ```ts\n * const decoder = createDecoder({\n *     read: (bytes, offset) => {\n *         const decodedValue = new TextDecoder().decode(bytes.subarray(offset));\n *         return [decodedValue, bytes.length];\n *     },\n * });\n *\n * const value = decoder.decode(new Uint8Array([104, 101, 108, 108, 111]));\n * // \"hello\"\n * ```\n *\n * @remarks\n * Note that, while `createDecoder` is useful for defining more complex decoders, it is more common to compose\n * decoders together using the various helpers and primitives of the `@solana/codecs` package.\n *\n * Here are some alternative examples using codec primitives instead of `createDecoder`.\n *\n * ```ts\n * // Fixed-size decoder for unsigned 32-bit integers.\n * const decoder = getU32Decoder();\n * const value = decoder.decode(new Uint8Array([42, 0, 0, 0]));\n * // 42\n *\n * // Variable-size decoder for 32-bytes prefixed UTF-8 strings.\n * const decoder = addDecoderSizePrefix(getUtf8Decoder(), getU32Decoder());\n * const value = decoder.decode(new Uint8Array([5, 0, 0, 0, 104, 101, 108, 108, 111]));\n * // \"hello\"\n *\n * // Variable-size decoder for custom objects.\n * type Person = { name: string; age: number };\n * const decoder: Decoder<Person> = getStructDecoder([\n *     ['name', addDecoderSizePrefix(getUtf8Decoder(), getU32Decoder())],\n *     ['age', getU32Decoder()],\n * ]);\n * const value = decoder.decode(new Uint8Array([3, 0, 0, 0, 66, 111, 98, 42, 0, 0, 0]));\n * // { name: \"Bob\", age: 42 }\n * ```\n *\n * @see {@link Decoder}\n * @see {@link FixedSizeDecoder}\n * @see {@link VariableSizeDecoder}\n * @see {@link getStructDecoder}\n * @see {@link getU32Decoder}\n * @see {@link getUtf8Decoder}\n * @see {@link addDecoderSizePrefix}\n */\nexport function createDecoder<TTo, TSize extends number>(\n    decoder: Omit<FixedSizeDecoder<TTo, TSize>, 'decode'>,\n): FixedSizeDecoder<TTo, TSize>;\nexport function createDecoder<TTo>(decoder: Omit<VariableSizeDecoder<TTo>, 'decode'>): VariableSizeDecoder<TTo>;\nexport function createDecoder<TTo>(\n    decoder: Omit<FixedSizeDecoder<TTo>, 'decode'> | Omit<VariableSizeDecoder<TTo>, 'decode'>,\n): Decoder<TTo>;\nexport function createDecoder<TTo>(\n    decoder: Omit<FixedSizeDecoder<TTo>, 'decode'> | Omit<VariableSizeDecoder<TTo>, 'decode'>,\n): Decoder<TTo> {\n    return Object.freeze({\n        ...decoder,\n        decode: (bytes, offset = 0) => decoder.read(bytes, offset)[0],\n    });\n}\n\n/**\n * Creates a `Codec` by filling in the missing `encode` and `decode` functions using the provided `write` and `read` functions.\n *\n * This utility combines the behavior of {@link createEncoder} and {@link createDecoder} to produce a fully functional `Codec`.\n * The `encode` method is derived from the `write` function, while the `decode` method is derived from the `read` function.\n *\n * If the `fixedSize` property is provided, a {@link FixedSizeCodec} will be created, otherwise\n * a {@link VariableSizeCodec} will be created.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes (for fixed-size codecs).\n *\n * @param codec - A codec object that implements `write` and `read`, but not `encode` or `decode`.\n * - If the codec has a `fixedSize` property, it is treated as a {@link FixedSizeCodec}.\n * - Otherwise, it is treated as a {@link VariableSizeCodec}.\n *\n * @returns A fully functional `Codec` with `write`, `read`, `encode`, and `decode` methods.\n *\n * @example\n * Creating a custom fixed-size codec.\n * ```ts\n * const codec = createCodec({\n *     fixedSize: 4,\n *     read: (bytes, offset) => {\n *         const value = bytes[offset];\n *         return [value, offset + 4];\n *     },\n *     write: (value: number, bytes, offset) => {\n *         bytes.set(new Uint8Array([value]), offset);\n *         return offset + 4;\n *     },\n * });\n *\n * const bytes = codec.encode(42);\n * // 0x2a000000\n * const value = codec.decode(bytes);\n * // 42\n * ```\n *\n * @example\n * Creating a custom variable-size codec:\n * ```ts\n * const codec = createCodec({\n *     getSizeFromValue: (value: string) => value.length,\n *     read: (bytes, offset) => {\n *         const decodedValue = new TextDecoder().decode(bytes.subarray(offset));\n *         return [decodedValue, bytes.length];\n *     },\n *     write: (value: string, bytes, offset) => {\n *         const encodedValue = new TextEncoder().encode(value);\n *         bytes.set(encodedValue, offset);\n *         return offset + encodedValue.length;\n *     },\n * });\n *\n * const bytes = codec.encode(\"hello\");\n * // 0x68656c6c6f\n * const value = codec.decode(bytes);\n * // \"hello\"\n * ```\n *\n * @remarks\n * This function effectively combines the behavior of {@link createEncoder} and {@link createDecoder}.\n * If you only need to encode or decode (but not both), consider using those functions instead.\n *\n * Here are some alternative examples using codec primitives instead of `createCodec`.\n *\n * ```ts\n * // Fixed-size codec for unsigned 32-bit integers.\n * const codec = getU32Codec();\n * const bytes = codec.encode(42);\n * // 0x2a000000\n * const value = codec.decode(bytes);\n * // 42\n *\n * // Variable-size codec for 32-bytes prefixed UTF-8 strings.\n * const codec = addCodecSizePrefix(getUtf8Codec(), getU32Codec());\n * const bytes = codec.encode(\"hello\");\n * // 0x0500000068656c6c6f\n * const value = codec.decode(bytes);\n * // \"hello\"\n *\n * // Variable-size codec for custom objects.\n * type Person = { name: string; age: number };\n * const codec: Codec<PersonInput, Person> = getStructCodec([\n *     ['name', addCodecSizePrefix(getUtf8Codec(), getU32Codec())],\n *     ['age', getU32Codec()],\n * ]);\n * const bytes = codec.encode({ name: \"Bob\", age: 42 });\n * // 0x03000000426f622a000000\n * const value = codec.decode(bytes);\n * // { name: \"Bob\", age: 42 }\n * ```\n *\n * @see {@link Codec}\n * @see {@link FixedSizeCodec}\n * @see {@link VariableSizeCodec}\n * @see {@link createEncoder}\n * @see {@link createDecoder}\n * @see {@link getStructCodec}\n * @see {@link getU32Codec}\n * @see {@link getUtf8Codec}\n * @see {@link addCodecSizePrefix}\n */\nexport function createCodec<TFrom, TTo extends TFrom = TFrom, TSize extends number = number>(\n    codec: Omit<FixedSizeCodec<TFrom, TTo, TSize>, 'decode' | 'encode'>,\n): FixedSizeCodec<TFrom, TTo, TSize>;\nexport function createCodec<TFrom, TTo extends TFrom = TFrom>(\n    codec: Omit<VariableSizeCodec<TFrom, TTo>, 'decode' | 'encode'>,\n): VariableSizeCodec<TFrom, TTo>;\nexport function createCodec<TFrom, TTo extends TFrom = TFrom>(\n    codec:\n        | Omit<FixedSizeCodec<TFrom, TTo>, 'decode' | 'encode'>\n        | Omit<VariableSizeCodec<TFrom, TTo>, 'decode' | 'encode'>,\n): Codec<TFrom, TTo>;\nexport function createCodec<TFrom, TTo extends TFrom = TFrom>(\n    codec:\n        | Omit<FixedSizeCodec<TFrom, TTo>, 'decode' | 'encode'>\n        | Omit<VariableSizeCodec<TFrom, TTo>, 'decode' | 'encode'>,\n): Codec<TFrom, TTo> {\n    return Object.freeze({\n        ...codec,\n        decode: (bytes, offset = 0) => codec.read(bytes, offset)[0],\n        encode: value => {\n            const bytes = new Uint8Array(getEncodedSize(value, codec));\n            codec.write(value, bytes, 0);\n            return bytes;\n        },\n    });\n}\n\n/**\n * Determines whether the given codec, encoder, or decoder is fixed-size.\n *\n * A fixed-size object is identified by the presence of a `fixedSize` property.\n * If this property exists, the object is considered a {@link FixedSizeCodec},\n * {@link FixedSizeEncoder}, or {@link FixedSizeDecoder}.\n * Otherwise, it is assumed to be a {@link VariableSizeCodec},\n * {@link VariableSizeEncoder}, or {@link VariableSizeDecoder}.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n * @returns `true` if the object is fixed-size, `false` otherwise.\n *\n * @example\n * Checking a fixed-size encoder.\n * ```ts\n * const encoder = getU32Encoder();\n * isFixedSize(encoder); // true\n * ```\n *\n * @example\n * Checking a variable-size encoder.\n * ```ts\n * const encoder = addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder());\n * isFixedSize(encoder); // false\n * ```\n *\n * @remarks\n * This function is commonly used to distinguish between fixed-size and variable-size objects at runtime.\n * If you need to enforce this distinction with type assertions, consider using {@link assertIsFixedSize}.\n *\n * @see {@link assertIsFixedSize}\n */\nexport function isFixedSize<TFrom, TSize extends number>(\n    encoder: FixedSizeEncoder<TFrom, TSize> | VariableSizeEncoder<TFrom>,\n): encoder is FixedSizeEncoder<TFrom, TSize>;\nexport function isFixedSize<TTo, TSize extends number>(\n    decoder: FixedSizeDecoder<TTo, TSize> | VariableSizeDecoder<TTo>,\n): decoder is FixedSizeDecoder<TTo, TSize>;\nexport function isFixedSize<TFrom, TTo extends TFrom, TSize extends number>(\n    codec: FixedSizeCodec<TFrom, TTo, TSize> | VariableSizeCodec<TFrom, TTo>,\n): codec is FixedSizeCodec<TFrom, TTo, TSize>;\nexport function isFixedSize<TSize extends number>(\n    codec: { fixedSize: TSize } | { maxSize?: number },\n): codec is { fixedSize: TSize };\nexport function isFixedSize(codec: { fixedSize: number } | { maxSize?: number }): codec is { fixedSize: number } {\n    return 'fixedSize' in codec && typeof codec.fixedSize === 'number';\n}\n\n/**\n * Asserts that the given codec, encoder, or decoder is fixed-size.\n *\n * If the object is not fixed-size (i.e., it lacks a `fixedSize` property),\n * this function throws a {@link SolanaError} with the code `SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH`.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n * @throws {SolanaError} If the object is not fixed-size.\n *\n * @example\n * Asserting a fixed-size encoder.\n * ```ts\n * const encoder = getU32Encoder();\n * assertIsFixedSize(encoder); // Passes\n * ```\n *\n * @example\n * Attempting to assert a variable-size encoder.\n * ```ts\n * const encoder = addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder());\n * assertIsFixedSize(encoder); // Throws SolanaError\n * ```\n *\n * @remarks\n * This function is the assertion-based counterpart of {@link isFixedSize}.\n * If you only need to check whether an object is fixed-size without throwing an error, use {@link isFixedSize} instead.\n *\n * @see {@link isFixedSize}\n */\nexport function assertIsFixedSize<TFrom, TSize extends number>(\n    encoder: FixedSizeEncoder<TFrom, TSize> | VariableSizeEncoder<TFrom>,\n): asserts encoder is FixedSizeEncoder<TFrom, TSize>;\nexport function assertIsFixedSize<TTo, TSize extends number>(\n    decoder: FixedSizeDecoder<TTo, TSize> | VariableSizeDecoder<TTo>,\n): asserts decoder is FixedSizeDecoder<TTo, TSize>;\nexport function assertIsFixedSize<TFrom, TTo extends TFrom, TSize extends number>(\n    codec: FixedSizeCodec<TFrom, TTo, TSize> | VariableSizeCodec<TFrom, TTo>,\n): asserts codec is FixedSizeCodec<TFrom, TTo, TSize>;\nexport function assertIsFixedSize<TSize extends number>(\n    codec: { fixedSize: TSize } | { maxSize?: number },\n): asserts codec is { fixedSize: TSize };\nexport function assertIsFixedSize(\n    codec: { fixedSize: number } | { maxSize?: number },\n): asserts codec is { fixedSize: number } {\n    if (!isFixedSize(codec)) {\n        throw new SolanaError(SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH);\n    }\n}\n\n/**\n * Determines whether the given codec, encoder, or decoder is variable-size.\n *\n * A variable-size object is identified by the absence of a `fixedSize` property.\n * If this property is missing, the object is considered a {@link VariableSizeCodec},\n * {@link VariableSizeEncoder}, or {@link VariableSizeDecoder}.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n * @returns `true` if the object is variable-size, `false` otherwise.\n *\n * @example\n * Checking a variable-size encoder.\n * ```ts\n * const encoder = addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder());\n * isVariableSize(encoder); // true\n * ```\n *\n * @example\n * Checking a fixed-size encoder.\n * ```ts\n * const encoder = getU32Encoder();\n * isVariableSize(encoder); // false\n * ```\n *\n * @remarks\n * This function is the inverse of {@link isFixedSize}.\n *\n * @see {@link isFixedSize}\n * @see {@link assertIsVariableSize}\n */\nexport function isVariableSize<TFrom>(encoder: Encoder<TFrom>): encoder is VariableSizeEncoder<TFrom>;\nexport function isVariableSize<TTo>(decoder: Decoder<TTo>): decoder is VariableSizeDecoder<TTo>;\nexport function isVariableSize<TFrom, TTo extends TFrom>(\n    codec: Codec<TFrom, TTo>,\n): codec is VariableSizeCodec<TFrom, TTo>;\nexport function isVariableSize(codec: { fixedSize: number } | { maxSize?: number }): codec is { maxSize?: number };\nexport function isVariableSize(codec: { fixedSize: number } | { maxSize?: number }): codec is { maxSize?: number } {\n    return !isFixedSize(codec);\n}\n\n/**\n * Asserts that the given codec, encoder, or decoder is variable-size.\n *\n * If the object is not variable-size (i.e., it has a `fixedSize` property),\n * this function throws a {@link SolanaError} with the code `SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH`.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n * @throws {SolanaError} If the object is not variable-size.\n *\n * @example\n * Asserting a variable-size encoder.\n * ```ts\n * const encoder = addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder());\n * assertIsVariableSize(encoder); // Passes\n * ```\n *\n * @example\n * Attempting to assert a fixed-size encoder.\n * ```ts\n * const encoder = getU32Encoder();\n * assertIsVariableSize(encoder); // Throws SolanaError\n * ```\n *\n * @remarks\n * This function is the assertion-based counterpart of {@link isVariableSize}.\n * If you only need to check whether an object is variable-size without throwing an error, use {@link isVariableSize} instead.\n *\n * Also note that this function is the inverse of {@link assertIsFixedSize}.\n *\n * @see {@link isVariableSize}\n * @see {@link assertIsFixedSize}\n */\nexport function assertIsVariableSize<TFrom>(encoder: Encoder<TFrom>): asserts encoder is VariableSizeEncoder<TFrom>;\nexport function assertIsVariableSize<TTo>(decoder: Decoder<TTo>): asserts decoder is VariableSizeDecoder<TTo>;\nexport function assertIsVariableSize<TFrom, TTo extends TFrom>(\n    codec: Codec<TFrom, TTo>,\n): asserts codec is VariableSizeCodec<TFrom, TTo>;\nexport function assertIsVariableSize(\n    codec: { fixedSize: number } | { maxSize?: number },\n): asserts codec is { maxSize?: number };\nexport function assertIsVariableSize(\n    codec: { fixedSize: number } | { maxSize?: number },\n): asserts codec is { maxSize?: number } {\n    if (!isVariableSize(codec)) {\n        throw new SolanaError(SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH);\n    }\n}\n", "import {\n    SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,\n    SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,\n    SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH,\n    SolanaError,\n} from '@solana/errors';\n\nimport {\n    Codec,\n    Decoder,\n    Encoder,\n    FixedSizeCodec,\n    FixedSizeDecoder,\n    FixedSizeEncoder,\n    isFixedSize,\n    VariableSizeCodec,\n    VariableSizeDecoder,\n    VariableSizeEncoder,\n} from './codec';\n\n/**\n * Combines an `Encoder` and a `Decoder` into a `Codec`.\n *\n * That is, given a `Encoder<TFrom>` and a `Decoder<TTo>`, this function returns a `Codec<TFrom, TTo>`.\n *\n * This allows for modular composition by keeping encoding and decoding logic separate\n * while still offering a convenient way to bundle them into a single `Codec`.\n * This is particularly useful for library maintainers who want to expose `Encoders`,\n * `Decoders`, and `Codecs` separately, enabling tree-shaking of unused logic.\n *\n * The provided `Encoder` and `Decoder` must be compatible in terms of:\n * - **Fixed Size:** If both are fixed-size, they must have the same `fixedSize` value.\n * - **Variable Size:** If either has a `maxSize` attribute, it must match the other.\n *\n * If these conditions are not met, a {@link SolanaError} will be thrown.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes (for fixed-size codecs).\n *\n * @param encoder - The `Encoder` to combine.\n * @param decoder - The `Decoder` to combine.\n * @returns A `Codec` that provides both `encode` and `decode` methods.\n *\n * @throws {SolanaError}\n * - `SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH`\n *   Thrown if the encoder and decoder have mismatched size types (fixed vs. variable).\n * - `SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH`\n *   Thrown if both are fixed-size but have different `fixedSize` values.\n * - `SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH`\n *   Thrown if the `maxSize` attributes do not match.\n *\n * @example\n * Creating a fixed-size `Codec` from an encoder and a decoder.\n * ```ts\n * const encoder = getU32Encoder();\n * const decoder = getU32Decoder();\n * const codec = combineCodec(encoder, decoder);\n *\n * const bytes = codec.encode(42); // 0x2a000000\n * const value = codec.decode(bytes); // 42\n * ```\n *\n * @example\n * Creating a variable-size `Codec` from an encoder and a decoder.\n * ```ts\n * const encoder = addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder());\n * const decoder = addDecoderSizePrefix(getUtf8Decoder(), getU32Decoder());\n * const codec = combineCodec(encoder, decoder);\n *\n * const bytes = codec.encode(\"hello\"); // 0x0500000068656c6c6f\n * const value = codec.decode(bytes); // \"hello\"\n * ```\n *\n * @remarks\n * The recommended pattern for defining codecs in libraries is to expose separate functions for the encoder, decoder, and codec.\n * This allows users to import only what they need, improving tree-shaking efficiency.\n *\n * ```ts\n * type MyType = \\/* ... *\\/;\n * const getMyTypeEncoder = (): Encoder<MyType> => { \\/* ... *\\/ };\n * const getMyTypeDecoder = (): Decoder<MyType> => { \\/* ... *\\/ };\n * const getMyTypeCodec = (): Codec<MyType> =>\n *     combineCodec(getMyTypeEncoder(), getMyTypeDecoder());\n * ```\n *\n * @see {@link Codec}\n * @see {@link Encoder}\n * @see {@link Decoder}\n */\nexport function combineCodec<TFrom, TTo extends TFrom, TSize extends number>(\n    encoder: FixedSizeEncoder<TFrom, TSize>,\n    decoder: FixedSizeDecoder<TTo, TSize>,\n): FixedSizeCodec<TFrom, TTo, TSize>;\nexport function combineCodec<TFrom, TTo extends TFrom>(\n    encoder: VariableSizeEncoder<TFrom>,\n    decoder: VariableSizeDecoder<TTo>,\n): VariableSizeCodec<TFrom, TTo>;\nexport function combineCodec<TFrom, TTo extends TFrom>(\n    encoder: Encoder<TFrom>,\n    decoder: Decoder<TTo>,\n): Codec<TFrom, TTo>;\nexport function combineCodec<TFrom, TTo extends TFrom>(\n    encoder: Encoder<TFrom>,\n    decoder: Decoder<TTo>,\n): Codec<TFrom, TTo> {\n    if (isFixedSize(encoder) !== isFixedSize(decoder)) {\n        throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);\n    }\n\n    if (isFixedSize(encoder) && isFixedSize(decoder) && encoder.fixedSize !== decoder.fixedSize) {\n        throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH, {\n            decoderFixedSize: decoder.fixedSize,\n            encoderFixedSize: encoder.fixedSize,\n        });\n    }\n\n    if (!isFixedSize(encoder) && !isFixedSize(decoder) && encoder.maxSize !== decoder.maxSize) {\n        throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH, {\n            decoderMaxSize: decoder.maxSize,\n            encoderMaxSize: encoder.maxSize,\n        });\n    }\n\n    return {\n        ...decoder,\n        ...encoder,\n        decode: decoder.decode,\n        encode: encoder.encode,\n        read: decoder.read,\n        write: encoder.write,\n    };\n}\n", "import {\n    SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,\n    SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,\n    SolanaError,\n} from '@solana/errors';\n\nimport { containsBytes } from './bytes';\nimport {\n    Codec,\n    createDecoder,\n    createEncoder,\n    Decoder,\n    Encoder,\n    FixedSizeCodec,\n    FixedSizeDecoder,\n    FixedSizeEncoder,\n    isFixedSize,\n    VariableSizeCodec,\n    VariableSizeDecoder,\n    VariableSizeEncoder,\n} from './codec';\nimport { combineCodec } from './combine-codec';\nimport { ReadonlyUint8Array } from './readonly-uint8array';\n\n/**\n * Creates an encoder that writes a `Uint8Array` sentinel after the encoded value.\n * This is useful to delimit the encoded value when being read by a decoder.\n *\n * See {@link addCodecSentinel} for more information.\n *\n * @typeParam TFrom - The type of the value to encode.\n *\n * @see {@link addCodecSentinel}\n */\nexport function addEncoderSentinel<TFrom>(\n    encoder: FixedSizeEncoder<TFrom>,\n    sentinel: ReadonlyUint8Array,\n): FixedSizeEncoder<TFrom>;\nexport function addEncoderSentinel<TFrom>(\n    encoder: Encoder<TFrom>,\n    sentinel: ReadonlyUint8Array,\n): VariableSizeEncoder<TFrom>;\nexport function addEncoderSentinel<TFrom>(encoder: Encoder<TFrom>, sentinel: ReadonlyUint8Array): Encoder<TFrom> {\n    const write = ((value, bytes, offset) => {\n        // Here we exceptionally use the `encode` function instead of the `write`\n        // function to contain the content of the encoder within its own bounds\n        // and to avoid writing the sentinel as part of the encoded value.\n        const encoderBytes = encoder.encode(value);\n        if (findSentinelIndex(encoderBytes, sentinel) >= 0) {\n            throw new SolanaError(SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL, {\n                encodedBytes: encoderBytes,\n                hexEncodedBytes: hexBytes(encoderBytes),\n                hexSentinel: hexBytes(sentinel),\n                sentinel,\n            });\n        }\n        bytes.set(encoderBytes, offset);\n        offset += encoderBytes.length;\n        bytes.set(sentinel, offset);\n        offset += sentinel.length;\n        return offset;\n    }) as Encoder<TFrom>['write'];\n\n    if (isFixedSize(encoder)) {\n        return createEncoder({ ...encoder, fixedSize: encoder.fixedSize + sentinel.length, write });\n    }\n\n    return createEncoder({\n        ...encoder,\n        ...(encoder.maxSize != null ? { maxSize: encoder.maxSize + sentinel.length } : {}),\n        getSizeFromValue: value => encoder.getSizeFromValue(value) + sentinel.length,\n        write,\n    });\n}\n\n/**\n * Creates a decoder that continues reading until\n * a given `Uint8Array` sentinel is found.\n *\n * See {@link addCodecSentinel} for more information.\n *\n * @typeParam TTo - The type of the decoded value.\n *\n * @see {@link addCodecSentinel}\n */\nexport function addDecoderSentinel<TTo>(\n    decoder: FixedSizeDecoder<TTo>,\n    sentinel: ReadonlyUint8Array,\n): FixedSizeDecoder<TTo>;\nexport function addDecoderSentinel<TTo>(decoder: Decoder<TTo>, sentinel: ReadonlyUint8Array): VariableSizeDecoder<TTo>;\nexport function addDecoderSentinel<TTo>(decoder: Decoder<TTo>, sentinel: ReadonlyUint8Array): Decoder<TTo> {\n    const read = ((bytes, offset) => {\n        const candidateBytes = offset === 0 ? bytes : bytes.slice(offset);\n        const sentinelIndex = findSentinelIndex(candidateBytes, sentinel);\n        if (sentinelIndex === -1) {\n            throw new SolanaError(SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES, {\n                decodedBytes: candidateBytes,\n                hexDecodedBytes: hexBytes(candidateBytes),\n                hexSentinel: hexBytes(sentinel),\n                sentinel,\n            });\n        }\n        const preSentinelBytes = candidateBytes.slice(0, sentinelIndex);\n        // Here we exceptionally use the `decode` function instead of the `read`\n        // function to contain the content of the decoder within its own bounds\n        // and ensure that the sentinel is not part of the decoded value.\n        return [decoder.decode(preSentinelBytes), offset + preSentinelBytes.length + sentinel.length];\n    }) as Decoder<TTo>['read'];\n\n    if (isFixedSize(decoder)) {\n        return createDecoder({ ...decoder, fixedSize: decoder.fixedSize + sentinel.length, read });\n    }\n\n    return createDecoder({\n        ...decoder,\n        ...(decoder.maxSize != null ? { maxSize: decoder.maxSize + sentinel.length } : {}),\n        read,\n    });\n}\n\n/**\n * Creates a Codec that writes a given `Uint8Array` sentinel after the encoded\n * value and, when decoding, continues reading until the sentinel is found.\n *\n * This sets a limit on variable-size codecs and tells us when to stop decoding.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n *\n * @example\n * ```ts\n * const codec = addCodecSentinel(getUtf8Codec(), new Uint8Array([255, 255]));\n * codec.encode('hello');\n * // 0x68656c6c6fffff\n * //   |        -- Our sentinel.\n * //   -- Our encoded string.\n * ```\n *\n * @remarks\n * Note that the sentinel _must not_ be present in the encoded data and\n * _must_ be present in the decoded data for this to work.\n * If this is not the case, dedicated errors will be thrown.\n *\n * ```ts\n * const sentinel = new Uint8Array([108, 108]); // 'll'\n * const codec = addCodecSentinel(getUtf8Codec(), sentinel);\n *\n * codec.encode('hello'); // Throws: sentinel is in encoded data.\n * codec.decode(new Uint8Array([1, 2, 3])); // Throws: sentinel missing in decoded data.\n * ```\n *\n * Separate {@link addEncoderSentinel} and {@link addDecoderSentinel} functions are also available.\n *\n * ```ts\n * const bytes = addEncoderSentinel(getUtf8Encoder(), sentinel).encode('hello');\n * const value = addDecoderSentinel(getUtf8Decoder(), sentinel).decode(bytes);\n * ```\n *\n * @see {@link addEncoderSentinel}\n * @see {@link addDecoderSentinel}\n */\nexport function addCodecSentinel<TFrom, TTo extends TFrom>(\n    codec: FixedSizeCodec<TFrom, TTo>,\n    sentinel: ReadonlyUint8Array,\n): FixedSizeCodec<TFrom, TTo>;\nexport function addCodecSentinel<TFrom, TTo extends TFrom>(\n    codec: Codec<TFrom, TTo>,\n    sentinel: ReadonlyUint8Array,\n): VariableSizeCodec<TFrom, TTo>;\nexport function addCodecSentinel<TFrom, TTo extends TFrom>(\n    codec: Codec<TFrom, TTo>,\n    sentinel: ReadonlyUint8Array,\n): Codec<TFrom, TTo> {\n    return combineCodec(addEncoderSentinel(codec, sentinel), addDecoderSentinel(codec, sentinel));\n}\n\nfunction findSentinelIndex(bytes: ReadonlyUint8Array, sentinel: ReadonlyUint8Array) {\n    return bytes.findIndex((byte, index, arr) => {\n        if (sentinel.length === 1) return byte === sentinel[0];\n        return containsBytes(arr, sentinel, index);\n    });\n}\n\nfunction hexBytes(bytes: ReadonlyUint8Array): string {\n    return bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\n}\n", "import {\n    SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,\n    SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,\n    SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,\n    SolanaError,\n} from '@solana/errors';\n\nimport { ReadonlyUint8Array } from './readonly-uint8array';\n\n/**\n * Asserts that a given byte array is not empty (after the optional provided offset).\n *\n * Returns void if the byte array is not empty but throws a {@link SolanaError} otherwise.\n *\n * @param codecDescription - A description of the codec used by the assertion error.\n * @param bytes - The byte array to check.\n * @param offset - The offset from which to start checking the byte array.\n * If provided, the byte array is considered empty if it has no bytes after the offset.\n *\n * @example\n * ```ts\n * const bytes = new Uint8Array([0x01, 0x02, 0x03]);\n * assertByteArrayIsNotEmptyForCodec('myCodec', bytes); // OK\n * assertByteArrayIsNotEmptyForCodec('myCodec', bytes, 1); // OK\n * assertByteArrayIsNotEmptyForCodec('myCodec', bytes, 3); // Throws\n * ```\n */\nexport function assertByteArrayIsNotEmptyForCodec(\n    codecDescription: string,\n    bytes: ReadonlyUint8Array | Uint8Array,\n    offset = 0,\n) {\n    if (bytes.length - offset <= 0) {\n        throw new SolanaError(SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY, {\n            codecDescription,\n        });\n    }\n}\n\n/**\n * Asserts that a given byte array has enough bytes to decode\n * (after the optional provided offset).\n *\n * Returns void if the byte array has at least the expected number\n * of bytes but throws a {@link SolanaError} otherwise.\n *\n * @param codecDescription - A description of the codec used by the assertion error.\n * @param expected - The minimum number of bytes expected in the byte array.\n * @param bytes - The byte array to check.\n * @param offset - The offset from which to start checking the byte array.\n *\n * @example\n * ```ts\n * const bytes = new Uint8Array([0x01, 0x02, 0x03]);\n * assertByteArrayHasEnoughBytesForCodec('myCodec', 3, bytes); // OK\n * assertByteArrayHasEnoughBytesForCodec('myCodec', 4, bytes); // Throws\n * assertByteArrayHasEnoughBytesForCodec('myCodec', 2, bytes, 1); // OK\n * assertByteArrayHasEnoughBytesForCodec('myCodec', 3, bytes, 1); // Throws\n * ```\n */\nexport function assertByteArrayHasEnoughBytesForCodec(\n    codecDescription: string,\n    expected: number,\n    bytes: ReadonlyUint8Array | Uint8Array,\n    offset = 0,\n) {\n    const bytesLength = bytes.length - offset;\n    if (bytesLength < expected) {\n        throw new SolanaError(SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH, {\n            bytesLength,\n            codecDescription,\n            expected,\n        });\n    }\n}\n\n/**\n * Asserts that a given offset is within the byte array bounds.\n * This range is between 0 and the byte array length and is inclusive.\n * An offset equals to the byte array length is considered a valid offset\n * as it allows the post-offset of codecs to signal the end of the byte array.\n *\n * @param codecDescription - A description of the codec used by the assertion error.\n * @param offset - The offset to check.\n * @param bytesLength - The length of the byte array from which the offset should be within bounds.\n *\n * @example\n * ```ts\n * const bytes = new Uint8Array([0x01, 0x02, 0x03]);\n * assertByteArrayOffsetIsNotOutOfRange('myCodec', 0, bytes.length); // OK\n * assertByteArrayOffsetIsNotOutOfRange('myCodec', 3, bytes.length); // OK\n * assertByteArrayOffsetIsNotOutOfRange('myCodec', 4, bytes.length); // Throws\n * ```\n */\nexport function assertByteArrayOffsetIsNotOutOfRange(codecDescription: string, offset: number, bytesLength: number) {\n    if (offset < 0 || offset > bytesLength) {\n        throw new SolanaError(SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE, {\n            bytesLength,\n            codecDescription,\n            offset,\n        });\n    }\n}\n", "import { assertByteArrayHasEnoughBytesForCodec } from './assertions';\nimport {\n    Codec,\n    createDecoder,\n    createEncoder,\n    Decoder,\n    Encoder,\n    FixedSizeCodec,\n    FixedSizeDecoder,\n    FixedSizeEncoder,\n    getEncodedSize,\n    isFixedSize,\n    VariableSizeCodec,\n    VariableSizeDecoder,\n    VariableSizeEncoder,\n} from './codec';\nimport { combineCodec } from './combine-codec';\n\ntype NumberEncoder = Encoder<bigint | number> | Encoder<number>;\ntype FixedSizeNumberEncoder<TSize extends number = number> =\n    | FixedSizeEncoder<bigint | number, TSize>\n    | FixedSizeEncoder<number, TSize>;\ntype NumberDecoder = Decoder<bigint> | Decoder<number>;\ntype FixedSizeNumberDecoder<TSize extends number = number> =\n    | FixedSizeDecoder<bigint, TSize>\n    | FixedSizeDecoder<number, TSize>;\ntype NumberCodec = Codec<bigint | number, bigint> | Codec<number>;\ntype FixedSizeNumberCodec<TSize extends number = number> =\n    | FixedSizeCodec<bigint | number, bigint, TSize>\n    | FixedSizeCodec<number, number, TSize>;\n\n/**\n * Stores the size of the `encoder` in bytes as a prefix using the `prefix` encoder.\n *\n * See {@link addCodecSizePrefix} for more information.\n *\n * @typeParam TFrom - The type of the value to encode.\n *\n * @see {@link addCodecSizePrefix}\n */\nexport function addEncoderSizePrefix<TFrom>(\n    encoder: FixedSizeEncoder<TFrom>,\n    prefix: FixedSizeNumberEncoder,\n): FixedSizeEncoder<TFrom>;\nexport function addEncoderSizePrefix<TFrom>(encoder: Encoder<TFrom>, prefix: NumberEncoder): VariableSizeEncoder<TFrom>;\nexport function addEncoderSizePrefix<TFrom>(encoder: Encoder<TFrom>, prefix: NumberEncoder): Encoder<TFrom> {\n    const write = ((value, bytes, offset) => {\n        // Here we exceptionally use the `encode` function instead of the `write`\n        // function to contain the content of the encoder within its own bounds.\n        const encoderBytes = encoder.encode(value);\n        offset = prefix.write(encoderBytes.length, bytes, offset);\n        bytes.set(encoderBytes, offset);\n        return offset + encoderBytes.length;\n    }) as Encoder<TFrom>['write'];\n\n    if (isFixedSize(prefix) && isFixedSize(encoder)) {\n        return createEncoder({ ...encoder, fixedSize: prefix.fixedSize + encoder.fixedSize, write });\n    }\n\n    const prefixMaxSize = isFixedSize(prefix) ? prefix.fixedSize : (prefix.maxSize ?? null);\n    const encoderMaxSize = isFixedSize(encoder) ? encoder.fixedSize : (encoder.maxSize ?? null);\n    const maxSize = prefixMaxSize !== null && encoderMaxSize !== null ? prefixMaxSize + encoderMaxSize : null;\n\n    return createEncoder({\n        ...encoder,\n        ...(maxSize !== null ? { maxSize } : {}),\n        getSizeFromValue: value => {\n            const encoderSize = getEncodedSize(value, encoder);\n            return getEncodedSize(encoderSize, prefix) + encoderSize;\n        },\n        write,\n    });\n}\n\n/**\n * Bounds the size of the nested `decoder` by reading its encoded `prefix`.\n *\n * See {@link addCodecSizePrefix} for more information.\n *\n * @typeParam TTo - The type of the decoded value.\n *\n * @see {@link addCodecSizePrefix}\n */\nexport function addDecoderSizePrefix<TTo>(\n    decoder: FixedSizeDecoder<TTo>,\n    prefix: FixedSizeNumberDecoder,\n): FixedSizeDecoder<TTo>;\nexport function addDecoderSizePrefix<TTo>(decoder: Decoder<TTo>, prefix: NumberDecoder): VariableSizeDecoder<TTo>;\nexport function addDecoderSizePrefix<TTo>(decoder: Decoder<TTo>, prefix: NumberDecoder): Decoder<TTo> {\n    const read = ((bytes, offset) => {\n        const [bigintSize, decoderOffset] = prefix.read(bytes, offset);\n        const size = Number(bigintSize);\n        offset = decoderOffset;\n        // Slice the byte array to the contained size if necessary.\n        if (offset > 0 || bytes.length > size) {\n            bytes = bytes.slice(offset, offset + size);\n        }\n        assertByteArrayHasEnoughBytesForCodec('addDecoderSizePrefix', size, bytes);\n        // Here we exceptionally use the `decode` function instead of the `read`\n        // function to contain the content of the decoder within its own bounds.\n        return [decoder.decode(bytes), offset + size];\n    }) as Decoder<TTo>['read'];\n\n    if (isFixedSize(prefix) && isFixedSize(decoder)) {\n        return createDecoder({ ...decoder, fixedSize: prefix.fixedSize + decoder.fixedSize, read });\n    }\n\n    const prefixMaxSize = isFixedSize(prefix) ? prefix.fixedSize : (prefix.maxSize ?? null);\n    const decoderMaxSize = isFixedSize(decoder) ? decoder.fixedSize : (decoder.maxSize ?? null);\n    const maxSize = prefixMaxSize !== null && decoderMaxSize !== null ? prefixMaxSize + decoderMaxSize : null;\n    return createDecoder({ ...decoder, ...(maxSize !== null ? { maxSize } : {}), read });\n}\n\n/**\n * Stores the byte size of any given codec as an encoded number prefix.\n *\n * This sets a limit on variable-size codecs and tells us when to stop decoding.\n * When encoding, the size of the encoded data is stored before the encoded data itself.\n * When decoding, the size is read first to know how many bytes to read next.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n *\n * @example\n * For example, say we want to bound a variable-size base-58 string using a `u32` size prefix.\n * Heres how you can use the `addCodecSizePrefix` function to achieve that.\n *\n * ```ts\n * const getU32Base58Codec = () => addCodecSizePrefix(getBase58Codec(), getU32Codec());\n *\n * getU32Base58Codec().encode('hello world');\n * // 0x0b00000068656c6c6f20776f726c64\n * //   |       -- Our encoded base-58 string.\n * //   -- Our encoded u32 size prefix.\n * ```\n *\n * @remarks\n * Separate {@link addEncoderSizePrefix} and {@link addDecoderSizePrefix} functions are also available.\n *\n * ```ts\n * const bytes = addEncoderSizePrefix(getBase58Encoder(), getU32Encoder()).encode('hello');\n * const value = addDecoderSizePrefix(getBase58Decoder(), getU32Decoder()).decode(bytes);\n * ```\n *\n * @see {@link addEncoderSizePrefix}\n * @see {@link addDecoderSizePrefix}\n */\nexport function addCodecSizePrefix<TFrom, TTo extends TFrom>(\n    codec: FixedSizeCodec<TFrom, TTo>,\n    prefix: FixedSizeNumberCodec,\n): FixedSizeCodec<TFrom, TTo>;\nexport function addCodecSizePrefix<TFrom, TTo extends TFrom>(\n    codec: Codec<TFrom, TTo>,\n    prefix: NumberCodec,\n): VariableSizeCodec<TFrom, TTo>;\nexport function addCodecSizePrefix<TFrom, TTo extends TFrom>(\n    codec: Codec<TFrom, TTo>,\n    prefix: NumberCodec,\n): Codec<TFrom, TTo> {\n    return combineCodec(addEncoderSizePrefix(codec, prefix), addDecoderSizePrefix(codec, prefix));\n}\n", "import { assertByteArrayHasEnoughBytesForCodec } from './assertions';\nimport { fixBytes } from './bytes';\nimport {\n    Codec,\n    createDecoder,\n    createEncoder,\n    Decoder,\n    Encoder,\n    FixedSizeCodec,\n    FixedSizeDecoder,\n    FixedSizeEncoder,\n    isFixedSize,\n    Offset,\n} from './codec';\nimport { combineCodec } from './combine-codec';\n\n/**\n * Creates a fixed-size encoder from a given encoder.\n *\n * The resulting encoder ensures that encoded values always have the specified number of bytes.\n * If the original encoded value is larger than `fixedBytes`, it is truncated.\n * If it is smaller, it is padded with trailing zeroes.\n *\n * For more details, see {@link fixCodecSize}.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n *\n * @param encoder - The encoder to wrap into a fixed-size encoder.\n * @param fixedBytes - The fixed number of bytes to write.\n * @returns A `FixedSizeEncoder` that ensures a consistent output size.\n *\n * @example\n * ```ts\n * const encoder = fixEncoderSize(getUtf8Encoder(), 4);\n * encoder.encode(\"Hello\"); // 0x48656c6c (truncated)\n * encoder.encode(\"Hi\");    // 0x48690000 (padded)\n * encoder.encode(\"Hiya\");  // 0x48697961 (same length)\n * ```\n *\n * @remarks\n * If you need a full codec with both encoding and decoding, use {@link fixCodecSize}.\n *\n * @see {@link fixCodecSize}\n * @see {@link fixDecoderSize}\n */\nexport function fixEncoderSize<TFrom, TSize extends number>(\n    encoder: Encoder<TFrom>,\n    fixedBytes: TSize,\n): FixedSizeEncoder<TFrom, TSize> {\n    return createEncoder({\n        fixedSize: fixedBytes,\n        write: (value: TFrom, bytes: Uint8Array, offset: Offset) => {\n            // Here we exceptionally use the `encode` function instead of the `write`\n            // function as using the nested `write` function on a fixed-sized byte\n            // array may result in a out-of-bounds error on the nested encoder.\n            const variableByteArray = encoder.encode(value);\n            const fixedByteArray =\n                variableByteArray.length > fixedBytes ? variableByteArray.slice(0, fixedBytes) : variableByteArray;\n            bytes.set(fixedByteArray, offset);\n            return offset + fixedBytes;\n        },\n    });\n}\n\n/**\n * Creates a fixed-size decoder from a given decoder.\n *\n * The resulting decoder always reads exactly `fixedBytes` bytes from the input.\n * If the nested decoder is also fixed-size, the bytes are truncated or padded as needed.\n *\n * For more details, see {@link fixCodecSize}.\n *\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n *\n * @param decoder - The decoder to wrap into a fixed-size decoder.\n * @param fixedBytes - The fixed number of bytes to read.\n * @returns A `FixedSizeDecoder` that ensures a consistent input size.\n *\n * @example\n * ```ts\n * const decoder = fixDecoderSize(getUtf8Decoder(), 4);\n * decoder.decode(new Uint8Array([72, 101, 108, 108, 111])); // \"Hell\" (truncated)\n * decoder.decode(new Uint8Array([72, 105, 0, 0]));          // \"Hi\" (zeroes ignored)\n * decoder.decode(new Uint8Array([72, 105, 121, 97]));       // \"Hiya\" (same length)\n * ```\n *\n * @remarks\n * If you need a full codec with both encoding and decoding, use {@link fixCodecSize}.\n *\n * @see {@link fixCodecSize}\n * @see {@link fixEncoderSize}\n */\nexport function fixDecoderSize<TTo, TSize extends number>(\n    decoder: Decoder<TTo>,\n    fixedBytes: TSize,\n): FixedSizeDecoder<TTo, TSize> {\n    return createDecoder({\n        fixedSize: fixedBytes,\n        read: (bytes, offset) => {\n            assertByteArrayHasEnoughBytesForCodec('fixCodecSize', fixedBytes, bytes, offset);\n            // Slice the byte array to the fixed size if necessary.\n            if (offset > 0 || bytes.length > fixedBytes) {\n                bytes = bytes.slice(offset, offset + fixedBytes);\n            }\n            // If the nested decoder is fixed-size, pad and truncate the byte array accordingly.\n            if (isFixedSize(decoder)) {\n                bytes = fixBytes(bytes, decoder.fixedSize);\n            }\n            // Decode the value using the nested decoder.\n            const [value] = decoder.read(bytes, 0);\n            return [value, offset + fixedBytes];\n        },\n    });\n}\n\n/**\n * Creates a fixed-size codec from a given codec.\n *\n * The resulting codec ensures that both encoding and decoding operate on a fixed number of bytes.\n * When encoding:\n * - If the encoded value is larger than `fixedBytes`, it is truncated.\n * - If it is smaller, it is padded with trailing zeroes.\n * - If it is exactly `fixedBytes`, it remains unchanged.\n *\n * When decoding:\n * - Exactly `fixedBytes` bytes are read from the input.\n * - If the nested decoder has a smaller fixed size, bytes are truncated or padded as necessary.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n *\n * @param codec - The codec to wrap into a fixed-size codec.\n * @param fixedBytes - The fixed number of bytes to read/write.\n * @returns A `FixedSizeCodec` that ensures both encoding and decoding conform to a fixed size.\n *\n * @example\n * ```ts\n * const codec = fixCodecSize(getUtf8Codec(), 4);\n *\n * const bytes1 = codec.encode(\"Hello\"); // 0x48656c6c (truncated)\n * const value1 = codec.decode(bytes1);  // \"Hell\"\n *\n * const bytes2 = codec.encode(\"Hi\");    // 0x48690000 (padded)\n * const value2 = codec.decode(bytes2);  // \"Hi\"\n *\n * const bytes3 = codec.encode(\"Hiya\");  // 0x48697961 (same length)\n * const value3 = codec.decode(bytes3);  // \"Hiya\"\n * ```\n *\n * @remarks\n * If you only need to enforce a fixed size for encoding, use {@link fixEncoderSize}.\n * If you only need to enforce a fixed size for decoding, use {@link fixDecoderSize}.\n *\n * ```ts\n * const bytes = fixEncoderSize(getUtf8Encoder(), 4).encode(\"Hiya\");\n * const value = fixDecoderSize(getUtf8Decoder(), 4).decode(bytes);\n * ```\n *\n * @see {@link fixEncoderSize}\n * @see {@link fixDecoderSize}\n */\nexport function fixCodecSize<TFrom, TTo extends TFrom, TSize extends number>(\n    codec: Codec<TFrom, TTo>,\n    fixedBytes: TSize,\n): FixedSizeCodec<TFrom, TTo, TSize> {\n    return combineCodec(fixEncoderSize(codec, fixedBytes), fixDecoderSize(codec, fixedBytes));\n}\n", "import { assertByteArrayOffsetIsNotOutOfRange } from './assertions';\nimport { Codec, createDecoder, createEncoder, Decoder, Encoder, Offset } from './codec';\nimport { combineCodec } from './combine-codec';\nimport { ReadonlyUint8Array } from './readonly-uint8array';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype AnyEncoder = Encoder<any>;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype AnyDecoder = Decoder<any>;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype AnyCodec = Codec<any>;\n\n/**\n * Configuration object for modifying the offset of an encoder, decoder, or codec.\n *\n * This type defines optional functions for adjusting the **pre-offset** (before encoding/decoding)\n * and the **post-offset** (after encoding/decoding). These functions allow precise control\n * over where data is written or read within a byte array.\n *\n * @property preOffset - A function that modifies the offset before encoding or decoding.\n * @property postOffset - A function that modifies the offset after encoding or decoding.\n *\n * @example\n * Moving the pre-offset forward by 2 bytes.\n * ```ts\n * const config: OffsetConfig = {\n *     preOffset: ({ preOffset }) => preOffset + 2,\n * };\n * ```\n *\n * @example\n * Moving the post-offset forward by 2 bytes.\n * ```ts\n * const config: OffsetConfig = {\n *     postOffset: ({ postOffset }) => postOffset + 2,\n * };\n * ```\n *\n * @example\n * Using both pre-offset and post-offset together.\n * ```ts\n * const config: OffsetConfig = {\n *     preOffset: ({ preOffset }) => preOffset + 2,\n *     postOffset: ({ postOffset }) => postOffset + 4,\n * };\n * ```\n *\n * @see {@link offsetEncoder}\n * @see {@link offsetDecoder}\n * @see {@link offsetCodec}\n */\ntype OffsetConfig = {\n    postOffset?: PostOffsetFunction;\n    preOffset?: PreOffsetFunction;\n};\n\n/**\n * Scope provided to the `preOffset` and `postOffset` functions,\n * containing contextual information about the current encoding or decoding process.\n *\n * The pre-offset function modifies where encoding or decoding begins,\n * while the post-offset function modifies where the next operation continues.\n *\n * @property bytes - The entire byte array being encoded or decoded.\n * @property preOffset - The original offset before encoding or decoding starts.\n * @property wrapBytes - A helper function that wraps offsets around the byte array length.\n *\n * @example\n * Using `wrapBytes` to wrap a negative offset to the end of the byte array.\n * ```ts\n * const config: OffsetConfig = {\n *     preOffset: ({ wrapBytes }) => wrapBytes(-4), // Moves to last 4 bytes\n * };\n * ```\n *\n * @example\n * Adjusting the offset dynamically based on the byte array size.\n * ```ts\n * const config: OffsetConfig = {\n *     preOffset: ({ bytes }) => bytes.length > 10 ? 4 : 2,\n * };\n * ```\n *\n * @see {@link PreOffsetFunction}\n * @see {@link PostOffsetFunction}\n */\ntype PreOffsetFunctionScope = {\n    /** The entire byte array. */\n    bytes: ReadonlyUint8Array | Uint8Array;\n    /** The original offset prior to encode or decode. */\n    preOffset: Offset;\n    /** Wraps the offset to the byte array length. */\n    wrapBytes: (offset: Offset) => Offset;\n};\n\n/**\n * A function that modifies the pre-offset before encoding or decoding.\n *\n * This function is used to adjust the starting position before writing\n * or reading data in a byte array.\n *\n * @param scope - The current encoding or decoding context.\n * @returns The new offset at which encoding or decoding should start.\n *\n * @example\n * Skipping the first 2 bytes before writing or reading.\n * ```ts\n * const preOffset: PreOffsetFunction = ({ preOffset }) => preOffset + 2;\n * ```\n *\n * @example\n * Wrapping the offset to ensure it stays within bounds.\n * ```ts\n * const preOffset: PreOffsetFunction = ({ wrapBytes, preOffset }) => wrapBytes(preOffset + 10);\n * ```\n *\n * @see {@link OffsetConfig}\n * @see {@link PreOffsetFunctionScope}\n */\ntype PreOffsetFunction = (scope: PreOffsetFunctionScope) => Offset;\n\n/**\n * A function that modifies the post-offset after encoding or decoding.\n *\n * This function adjusts where the next encoder or decoder should start\n * after the current operation has completed.\n *\n * @param scope - The current encoding or decoding context, including the modified pre-offset\n * and the original post-offset.\n * @returns The new offset at which the next operation should begin.\n *\n * @example\n * Moving the post-offset forward by 4 bytes.\n * ```ts\n * const postOffset: PostOffsetFunction = ({ postOffset }) => postOffset + 4;\n * ```\n *\n * @example\n * Wrapping the post-offset within the byte array length.\n * ```ts\n * const postOffset: PostOffsetFunction = ({ wrapBytes, postOffset }) => wrapBytes(postOffset);\n * ```\n *\n * @example\n * Ensuring a minimum spacing of 8 bytes between values.\n * ```ts\n * const postOffset: PostOffsetFunction = ({ postOffset, newPreOffset }) =>\n *     Math.max(postOffset, newPreOffset + 8);\n * ```\n *\n * @see {@link OffsetConfig}\n * @see {@link PreOffsetFunctionScope}\n */\ntype PostOffsetFunction = (\n    scope: PreOffsetFunctionScope & {\n        /** The modified offset used to encode or decode. */\n        newPreOffset: Offset;\n        /** The original offset returned by the encoder or decoder. */\n        postOffset: Offset;\n    },\n) => Offset;\n\n/**\n * Moves the offset of a given encoder before and/or after encoding.\n *\n * This function allows an encoder to write its encoded value at a different offset\n * than the one originally provided. It supports both pre-offset adjustments\n * (before encoding) and post-offset adjustments (after encoding).\n *\n * The pre-offset function determines where encoding should start, while the\n * post-offset function adjusts where the next encoder should continue writing.\n *\n * For more details, see {@link offsetCodec}.\n *\n * @typeParam TFrom - The type of the value to encode.\n *\n * @param encoder - The encoder to adjust.\n * @param config - An object specifying how the offset should be modified.\n * @returns A new encoder with adjusted offsets.\n *\n * @example\n * Moving the pre-offset forward by 2 bytes.\n * ```ts\n * const encoder = offsetEncoder(getU32Encoder(), {\n *     preOffset: ({ preOffset }) => preOffset + 2,\n * });\n * const bytes = new Uint8Array(10);\n * encoder.write(42, bytes, 0); // Actually written at offset 2\n * ```\n *\n * @example\n * Moving the post-offset forward by 2 bytes.\n * ```ts\n * const encoder = offsetEncoder(getU32Encoder(), {\n *     postOffset: ({ postOffset }) => postOffset + 2,\n * });\n * const bytes = new Uint8Array(10);\n * const nextOffset = encoder.write(42, bytes, 0); // Next encoder starts at offset 6 instead of 4\n * ```\n *\n * @example\n * Using `wrapBytes` to ensure an offset wraps around the byte array length.\n * ```ts\n * const encoder = offsetEncoder(getU32Encoder(), {\n *     preOffset: ({ wrapBytes }) => wrapBytes(-4), // Moves offset to last 4 bytes of the array\n * });\n * const bytes = new Uint8Array(10);\n * encoder.write(42, bytes, 0); // Writes at bytes.length - 4\n * ```\n *\n * @remarks\n * If you need both encoding and decoding offsets to be adjusted, use {@link offsetCodec}.\n *\n * @see {@link offsetCodec}\n * @see {@link offsetDecoder}\n */\nexport function offsetEncoder<TEncoder extends AnyEncoder>(encoder: TEncoder, config: OffsetConfig): TEncoder {\n    return createEncoder({\n        ...encoder,\n        write: (value, bytes, preOffset) => {\n            const wrapBytes = (offset: Offset) => modulo(offset, bytes.length);\n            const newPreOffset = config.preOffset ? config.preOffset({ bytes, preOffset, wrapBytes }) : preOffset;\n            assertByteArrayOffsetIsNotOutOfRange('offsetEncoder', newPreOffset, bytes.length);\n            const postOffset = encoder.write(value, bytes, newPreOffset);\n            const newPostOffset = config.postOffset\n                ? config.postOffset({ bytes, newPreOffset, postOffset, preOffset, wrapBytes })\n                : postOffset;\n            assertByteArrayOffsetIsNotOutOfRange('offsetEncoder', newPostOffset, bytes.length);\n            return newPostOffset;\n        },\n    }) as TEncoder;\n}\n\n/**\n * Moves the offset of a given decoder before and/or after decoding.\n *\n * This function allows a decoder to read its input from a different offset\n * than the one originally provided. It supports both pre-offset adjustments\n * (before decoding) and post-offset adjustments (after decoding).\n *\n * The pre-offset function determines where decoding should start, while the\n * post-offset function adjusts where the next decoder should continue reading.\n *\n * For more details, see {@link offsetCodec}.\n *\n * @typeParam TTo - The type of the decoded value.\n *\n * @param decoder - The decoder to adjust.\n * @param config - An object specifying how the offset should be modified.\n * @returns A new decoder with adjusted offsets.\n *\n * @example\n * Moving the pre-offset forward by 2 bytes.\n * ```ts\n * const decoder = offsetDecoder(getU32Decoder(), {\n *     preOffset: ({ preOffset }) => preOffset + 2,\n * });\n * const bytes = new Uint8Array([0, 0, 42, 0]); // Value starts at offset 2\n * decoder.read(bytes, 0); // Actually reads from offset 2\n * ```\n *\n * @example\n * Moving the post-offset forward by 2 bytes.\n * ```ts\n * const decoder = offsetDecoder(getU32Decoder(), {\n *     postOffset: ({ postOffset }) => postOffset + 2,\n * });\n * const bytes = new Uint8Array([42, 0, 0, 0]);\n * const [value, nextOffset] = decoder.read(bytes, 0); // Next decoder starts at offset 6 instead of 4\n * ```\n *\n * @example\n * Using `wrapBytes` to read from the last 4 bytes of an array.\n * ```ts\n * const decoder = offsetDecoder(getU32Decoder(), {\n *     preOffset: ({ wrapBytes }) => wrapBytes(-4), // Moves offset to last 4 bytes of the array\n * });\n * const bytes = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 42]); // Value stored at the last 4 bytes\n * decoder.read(bytes, 0); // Reads from bytes.length - 4\n * ```\n *\n * @remarks\n * If you need both encoding and decoding offsets to be adjusted, use {@link offsetCodec}.\n *\n * @see {@link offsetCodec}\n * @see {@link offsetEncoder}\n */\nexport function offsetDecoder<TDecoder extends AnyDecoder>(decoder: TDecoder, config: OffsetConfig): TDecoder {\n    return createDecoder({\n        ...decoder,\n        read: (bytes, preOffset) => {\n            const wrapBytes = (offset: Offset) => modulo(offset, bytes.length);\n            const newPreOffset = config.preOffset ? config.preOffset({ bytes, preOffset, wrapBytes }) : preOffset;\n            assertByteArrayOffsetIsNotOutOfRange('offsetDecoder', newPreOffset, bytes.length);\n            const [value, postOffset] = decoder.read(bytes, newPreOffset);\n            const newPostOffset = config.postOffset\n                ? config.postOffset({ bytes, newPreOffset, postOffset, preOffset, wrapBytes })\n                : postOffset;\n            assertByteArrayOffsetIsNotOutOfRange('offsetDecoder', newPostOffset, bytes.length);\n            return [value, newPostOffset];\n        },\n    }) as TDecoder;\n}\n\n/**\n * Moves the offset of a given codec before and/or after encoding and decoding.\n *\n * This function allows a codec to encode and decode values at custom offsets\n * within a byte array. It modifies both the **pre-offset** (where encoding/decoding starts)\n * and the **post-offset** (where the next operation should continue).\n *\n * This is particularly useful when working with structured binary formats\n * that require skipping reserved bytes, inserting padding, or aligning fields at\n * specific locations.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n *\n * @param codec - The codec to adjust.\n * @param config - An object specifying how the offset should be modified.\n * @returns A new codec with adjusted offsets.\n *\n * @example\n * Moving the pre-offset forward by 2 bytes when encoding and decoding.\n * ```ts\n * const codec = offsetCodec(getU32Codec(), {\n *     preOffset: ({ preOffset }) => preOffset + 2,\n * });\n * const bytes = new Uint8Array(10);\n * codec.write(42, bytes, 0); // Actually written at offset 2\n * codec.read(bytes, 0);      // Actually read from offset 2\n * ```\n *\n * @example\n * Moving the post-offset forward by 2 bytes when encoding and decoding.\n * ```ts\n * const codec = offsetCodec(getU32Codec(), {\n *     postOffset: ({ postOffset }) => postOffset + 2,\n * });\n * const bytes = new Uint8Array(10);\n * codec.write(42, bytes, 0);\n * // Next encoding starts at offset 6 instead of 4\n * codec.read(bytes, 0);\n * // Next decoding starts at offset 6 instead of 4\n * ```\n *\n * @example\n * Using `wrapBytes` to loop around negative offsets.\n * ```ts\n * const codec = offsetCodec(getU32Codec(), {\n *     preOffset: ({ wrapBytes }) => wrapBytes(-4), // Moves offset to last 4 bytes\n * });\n * const bytes = new Uint8Array(10);\n * codec.write(42, bytes, 0); // Writes at bytes.length - 4\n * codec.read(bytes, 0); // Reads from bytes.length - 4\n * ```\n *\n * @remarks\n * If you only need to adjust offsets for encoding, use {@link offsetEncoder}.\n * If you only need to adjust offsets for decoding, use {@link offsetDecoder}.\n *\n * ```ts\n * const bytes = new Uint8Array(10);\n * offsetEncoder(getU32Encoder(), { preOffset: ({ preOffset }) => preOffset + 2 }).write(42, bytes, 0);\n * const [value] = offsetDecoder(getU32Decoder(), { preOffset: ({ preOffset }) => preOffset + 2 }).read(bytes, 0);\n * ```\n *\n * @see {@link offsetEncoder}\n * @see {@link offsetDecoder}\n */\nexport function offsetCodec<TCodec extends AnyCodec>(codec: TCodec, config: OffsetConfig): TCodec {\n    return combineCodec(offsetEncoder(codec, config), offsetDecoder(codec, config)) as TCodec;\n}\n\n/** A modulo function that handles negative dividends and zero divisors. */\nfunction modulo(dividend: number, divisor: number) {\n    if (divisor === 0) return 0;\n    return ((dividend % divisor) + divisor) % divisor;\n}\n", "import { SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH, SolanaError } from '@solana/errors';\n\nimport {\n    Codec,\n    createDecoder,\n    createEncoder,\n    Decoder,\n    Encoder,\n    FixedSizeCodec,\n    FixedSizeDecoder,\n    FixedSizeEncoder,\n    isFixedSize,\n} from './codec';\nimport { combineCodec } from './combine-codec';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype AnyEncoder = Encoder<any>;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype AnyDecoder = Decoder<any>;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype AnyCodec = Codec<any>;\n\n/**\n * Updates the size of a given encoder.\n *\n * This function modifies the size of an encoder using a provided transformation function.\n * For fixed-size encoders, it updates the `fixedSize` property, and for variable-size\n * encoders, it adjusts the size calculation based on the encoded value.\n *\n * If the new size is negative, an error will be thrown.\n *\n * For more details, see {@link resizeCodec}.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TSize - The original fixed size of the encoded value.\n * @typeParam TNewSize - The new fixed size after resizing.\n *\n * @param encoder - The encoder whose size will be updated.\n * @param resize - A function that takes the current size and returns the new size.\n * @returns A new encoder with the updated size.\n *\n * @example\n * Increasing the size of a `u16` encoder by 2 bytes.\n * ```ts\n * const encoder = resizeEncoder(getU16Encoder(), size => size + 2);\n * encoder.encode(0xffff); // 0xffff0000 (two extra bytes added)\n * ```\n *\n * @example\n * Shrinking a `u32` encoder to only use 2 bytes.\n * ```ts\n * const encoder = resizeEncoder(getU32Encoder(), () => 2);\n * encoder.fixedSize; // 2\n * ```\n *\n * @see {@link resizeCodec}\n * @see {@link resizeDecoder}\n */\nexport function resizeEncoder<TFrom, TSize extends number, TNewSize extends number>(\n    encoder: FixedSizeEncoder<TFrom, TSize>,\n    resize: (size: TSize) => TNewSize,\n): FixedSizeEncoder<TFrom, TNewSize>;\nexport function resizeEncoder<TEncoder extends AnyEncoder>(\n    encoder: TEncoder,\n    resize: (size: number) => number,\n): TEncoder;\nexport function resizeEncoder<TEncoder extends AnyEncoder>(\n    encoder: TEncoder,\n    resize: (size: number) => number,\n): TEncoder {\n    if (isFixedSize(encoder)) {\n        const fixedSize = resize(encoder.fixedSize);\n        if (fixedSize < 0) {\n            throw new SolanaError(SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH, {\n                bytesLength: fixedSize,\n                codecDescription: 'resizeEncoder',\n            });\n        }\n        return createEncoder({ ...encoder, fixedSize }) as TEncoder;\n    }\n    return createEncoder({\n        ...encoder,\n        getSizeFromValue: value => {\n            const newSize = resize(encoder.getSizeFromValue(value));\n            if (newSize < 0) {\n                throw new SolanaError(SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH, {\n                    bytesLength: newSize,\n                    codecDescription: 'resizeEncoder',\n                });\n            }\n            return newSize;\n        },\n    }) as TEncoder;\n}\n\n/**\n * Updates the size of a given decoder.\n *\n * This function modifies the size of a decoder using a provided transformation function.\n * For fixed-size decoders, it updates the `fixedSize` property to reflect the new size.\n * Variable-size decoders remain unchanged, as their size is determined dynamically.\n *\n * If the new size is negative, an error will be thrown.\n *\n * For more details, see {@link resizeCodec}.\n *\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The original fixed size of the decoded value.\n * @typeParam TNewSize - The new fixed size after resizing.\n *\n * @param decoder - The decoder whose size will be updated.\n * @param resize - A function that takes the current size and returns the new size.\n * @returns A new decoder with the updated size.\n *\n * @example\n * Expanding a `u16` decoder to read 4 bytes instead of 2.\n * ```ts\n * const decoder = resizeDecoder(getU16Decoder(), size => size + 2);\n * decoder.fixedSize; // 4\n * ```\n *\n * @example\n * Shrinking a `u32` decoder to only read 2 bytes.\n * ```ts\n * const decoder = resizeDecoder(getU32Decoder(), () => 2);\n * decoder.fixedSize; // 2\n * ```\n *\n * @see {@link resizeCodec}\n * @see {@link resizeEncoder}\n */\nexport function resizeDecoder<TFrom, TSize extends number, TNewSize extends number>(\n    decoder: FixedSizeDecoder<TFrom, TSize>,\n    resize: (size: TSize) => TNewSize,\n): FixedSizeDecoder<TFrom, TNewSize>;\nexport function resizeDecoder<TDecoder extends AnyDecoder>(\n    decoder: TDecoder,\n    resize: (size: number) => number,\n): TDecoder;\nexport function resizeDecoder<TDecoder extends AnyDecoder>(\n    decoder: TDecoder,\n    resize: (size: number) => number,\n): TDecoder {\n    if (isFixedSize(decoder)) {\n        const fixedSize = resize(decoder.fixedSize);\n        if (fixedSize < 0) {\n            throw new SolanaError(SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH, {\n                bytesLength: fixedSize,\n                codecDescription: 'resizeDecoder',\n            });\n        }\n        return createDecoder({ ...decoder, fixedSize }) as TDecoder;\n    }\n    return decoder;\n}\n\n/**\n * Updates the size of a given codec.\n *\n * This function modifies the size of both the codec using a provided\n * transformation function. It is useful for adjusting the allocated byte size for\n * encoding and decoding without altering the underlying data structure.\n *\n * If the new size is negative, an error will be thrown.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The original fixed size of the encoded/decoded value (for fixed-size codecs).\n * @typeParam TNewSize - The new fixed size after resizing (for fixed-size codecs).\n *\n * @param codec - The codec whose size will be updated.\n * @param resize - A function that takes the current size and returns the new size.\n * @returns A new codec with the updated size.\n *\n * @example\n * Expanding a `u16` codec from 2 to 4 bytes.\n * ```ts\n * const codec = resizeCodec(getU16Codec(), size => size + 2);\n * const bytes = codec.encode(0xffff); // 0xffff0000 (two extra bytes added)\n * const value = codec.decode(bytes);  // 0xffff (reads original two bytes)\n * ```\n *\n * @example\n * Shrinking a `u32` codec to only use 2 bytes.\n * ```ts\n * const codec = resizeCodec(getU32Codec(), () => 2);\n * codec.fixedSize; // 2\n * ```\n *\n * @remarks\n * If you only need to resize an encoder, use {@link resizeEncoder}.\n * If you only need to resize a decoder, use {@link resizeDecoder}.\n *\n * ```ts\n * const bytes = resizeEncoder(getU32Encoder(), (size) => size + 2).encode(0xffff);\n * const value = resizeDecoder(getU32Decoder(), (size) => size + 2).decode(bytes);\n * ```\n *\n * @see {@link resizeEncoder}\n * @see {@link resizeDecoder}\n */\nexport function resizeCodec<TFrom, TTo extends TFrom, TSize extends number, TNewSize extends number>(\n    codec: FixedSizeCodec<TFrom, TTo, TSize>,\n    resize: (size: TSize) => TNewSize,\n): FixedSizeCodec<TFrom, TTo, TNewSize>;\nexport function resizeCodec<TCodec extends AnyCodec>(codec: TCodec, resize: (size: number) => number): TCodec;\nexport function resizeCodec<TCodec extends AnyCodec>(codec: TCodec, resize: (size: number) => number): TCodec {\n    return combineCodec(resizeEncoder(codec, resize), resizeDecoder(codec, resize)) as TCodec;\n}\n", "import { Codec, Decoder, Encoder, Offset } from './codec';\nimport { combineCodec } from './combine-codec';\nimport { offsetDecoder, offsetEncoder } from './offset-codec';\nimport { resizeDecoder, resizeEncoder } from './resize-codec';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype AnyEncoder = Encoder<any>;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype AnyDecoder = Decoder<any>;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype AnyCodec = Codec<any>;\n\n/**\n * Adds left padding to the given encoder, shifting the encoded value forward\n * by `offset` bytes whilst increasing the size of the encoder accordingly.\n *\n * For more details, see {@link padLeftCodec}.\n *\n * @typeParam TFrom - The type of the value to encode.\n *\n * @param encoder - The encoder to pad.\n * @param offset - The number of padding bytes to add before encoding.\n * @returns A new encoder with left padding applied.\n *\n * @example\n * ```ts\n * const encoder = padLeftEncoder(getU16Encoder(), 2);\n * const bytes = encoder.encode(0xffff); // 0x0000ffff (0xffff written at offset 2)\n * ```\n *\n * @see {@link padLeftCodec}\n * @see {@link padLeftDecoder}\n */\nexport function padLeftEncoder<TEncoder extends AnyEncoder>(encoder: TEncoder, offset: Offset): TEncoder {\n    return offsetEncoder(\n        resizeEncoder(encoder, size => size + offset),\n        { preOffset: ({ preOffset }) => preOffset + offset },\n    );\n}\n\n/**\n * Adds right padding to the given encoder, extending the encoded value by `offset`\n * bytes whilst increasing the size of the encoder accordingly.\n *\n * For more details, see {@link padRightCodec}.\n *\n * @typeParam TFrom - The type of the value to encode.\n *\n * @param encoder - The encoder to pad.\n * @param offset - The number of padding bytes to add after encoding.\n * @returns A new encoder with right padding applied.\n *\n * @example\n * ```ts\n * const encoder = padRightEncoder(getU16Encoder(), 2);\n * const bytes = encoder.encode(0xffff); // 0xffff0000 (two extra bytes added at the end)\n * ```\n *\n * @see {@link padRightCodec}\n * @see {@link padRightDecoder}\n */\nexport function padRightEncoder<TEncoder extends AnyEncoder>(encoder: TEncoder, offset: Offset): TEncoder {\n    return offsetEncoder(\n        resizeEncoder(encoder, size => size + offset),\n        { postOffset: ({ postOffset }) => postOffset + offset },\n    );\n}\n\n/**\n * Adds left padding to the given decoder, shifting the decoding position forward\n * by `offset` bytes whilst increasing the size of the decoder accordingly.\n *\n * For more details, see {@link padLeftCodec}.\n *\n * @typeParam TTo - The type of the decoded value.\n *\n * @param decoder - The decoder to pad.\n * @param offset - The number of padding bytes to skip before decoding.\n * @returns A new decoder with left padding applied.\n *\n * @example\n * ```ts\n * const decoder = padLeftDecoder(getU16Decoder(), 2);\n * const value = decoder.decode(new Uint8Array([0, 0, 0x12, 0x34])); // 0xffff (reads from offset 2)\n * ```\n *\n * @see {@link padLeftCodec}\n * @see {@link padLeftEncoder}\n */\nexport function padLeftDecoder<TDecoder extends AnyDecoder>(decoder: TDecoder, offset: Offset): TDecoder {\n    return offsetDecoder(\n        resizeDecoder(decoder, size => size + offset),\n        { preOffset: ({ preOffset }) => preOffset + offset },\n    );\n}\n\n/**\n * Adds right padding to the given decoder, extending the post-offset by `offset`\n * bytes whilst increasing the size of the decoder accordingly.\n *\n * For more details, see {@link padRightCodec}.\n *\n * @typeParam TTo - The type of the decoded value.\n *\n * @param decoder - The decoder to pad.\n * @param offset - The number of padding bytes to skip after decoding.\n * @returns A new decoder with right padding applied.\n *\n * @example\n * ```ts\n * const decoder = padRightDecoder(getU16Decoder(), 2);\n * const value = decoder.decode(new Uint8Array([0x12, 0x34, 0, 0])); // 0xffff (ignores trailing bytes)\n * ```\n *\n * @see {@link padRightCodec}\n * @see {@link padRightEncoder}\n */\nexport function padRightDecoder<TDecoder extends AnyDecoder>(decoder: TDecoder, offset: Offset): TDecoder {\n    return offsetDecoder(\n        resizeDecoder(decoder, size => size + offset),\n        { postOffset: ({ postOffset }) => postOffset + offset },\n    );\n}\n\n/**\n * Adds left padding to the given codec, shifting the encoding and decoding positions\n * forward by `offset` bytes whilst increasing the size of the codec accordingly.\n *\n * This ensures that values are read and written at a later position in the byte array,\n * while the padding bytes remain unused.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n *\n * @param codec - The codec to pad.\n * @param offset - The number of padding bytes to add before encoding and decoding.\n * @returns A new codec with left padding applied.\n *\n * @example\n * ```ts\n * const codec = padLeftCodec(getU16Codec(), 2);\n * const bytes = codec.encode(0xffff); // 0x0000ffff (0xffff written at offset 2)\n * const value = codec.decode(bytes);  // 0xffff (reads from offset 2)\n * ```\n *\n * @remarks\n * If you only need to apply padding for encoding, use {@link padLeftEncoder}.\n * If you only need to apply padding for decoding, use {@link padLeftDecoder}.\n *\n * ```ts\n * const bytes = padLeftEncoder(getU16Encoder(), 2).encode(0xffff);\n * const value = padLeftDecoder(getU16Decoder(), 2).decode(bytes);\n * ```\n *\n * @see {@link padLeftEncoder}\n * @see {@link padLeftDecoder}\n */\nexport function padLeftCodec<TCodec extends AnyCodec>(codec: TCodec, offset: Offset): TCodec {\n    return combineCodec(padLeftEncoder(codec, offset), padLeftDecoder(codec, offset)) as TCodec;\n}\n\n/**\n * Adds right padding to the given codec, extending the encoded and decoded value\n * by `offset` bytes whilst increasing the size of the codec accordingly.\n *\n * The extra bytes remain unused, ensuring that the next operation starts further\n * along the byte array.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n *\n * @param codec - The codec to pad.\n * @param offset - The number of padding bytes to add after encoding and decoding.\n * @returns A new codec with right padding applied.\n *\n * @example\n * ```ts\n * const codec = padRightCodec(getU16Codec(), 2);\n * const bytes = codec.encode(0xffff); // 0xffff0000 (two extra bytes added)\n * const value = codec.decode(bytes);  // 0xffff (ignores padding bytes)\n * ```\n *\n * @remarks\n * If you only need to apply padding for encoding, use {@link padRightEncoder}.\n * If you only need to apply padding for decoding, use {@link padRightDecoder}.\n *\n * ```ts\n * const bytes = padRightEncoder(getU16Encoder(), 2).encode(0xffff);\n * const value = padRightDecoder(getU16Decoder(), 2).decode(bytes);\n * ```\n *\n * @see {@link padRightEncoder}\n * @see {@link padRightDecoder}\n */\nexport function padRightCodec<TCodec extends AnyCodec>(codec: TCodec, offset: Offset): TCodec {\n    return combineCodec(padRightEncoder(codec, offset), padRightDecoder(codec, offset)) as TCodec;\n}\n", "import {\n    assertIsFixedSize,\n    createDecoder,\n    createEncoder,\n    FixedSizeCodec,\n    FixedSizeDecoder,\n    FixedSizeEncoder,\n} from './codec';\nimport { combineCodec } from './combine-codec';\nimport { ReadonlyUint8Array } from './readonly-uint8array';\n\nfunction copySourceToTargetInReverse(\n    source: ReadonlyUint8Array,\n    target_WILL_MUTATE: Uint8Array,\n    sourceOffset: number,\n    sourceLength: number,\n    targetOffset: number = 0,\n) {\n    while (sourceOffset < --sourceLength) {\n        const leftValue = source[sourceOffset];\n        target_WILL_MUTATE[sourceOffset + targetOffset] = source[sourceLength];\n        target_WILL_MUTATE[sourceLength + targetOffset] = leftValue;\n        sourceOffset++;\n    }\n    if (sourceOffset === sourceLength) {\n        target_WILL_MUTATE[sourceOffset + targetOffset] = source[sourceOffset];\n    }\n}\n\n/**\n * Reverses the bytes of a fixed-size encoder.\n *\n * Given a `FixedSizeEncoder`, this function returns a new `FixedSizeEncoder` that\n * reverses the bytes within the fixed-size byte array when encoding.\n *\n * This can be useful to modify endianness or for other byte-order transformations.\n *\n * For more details, see {@link reverseCodec}.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TSize - The fixed size of the encoded value in bytes.\n *\n * @param encoder - The fixed-size encoder to reverse.\n * @returns A new encoder that writes bytes in reverse order.\n *\n * @example\n * Encoding a `u16` value in reverse order.\n * ```ts\n * const encoder = reverseEncoder(getU16Encoder({ endian: Endian.Big }));\n * const bytes = encoder.encode(0x1234); // 0x3412 (bytes are flipped)\n * ```\n *\n * @see {@link reverseCodec}\n * @see {@link reverseDecoder}\n */\nexport function reverseEncoder<TFrom, TSize extends number>(\n    encoder: FixedSizeEncoder<TFrom, TSize>,\n): FixedSizeEncoder<TFrom, TSize> {\n    assertIsFixedSize(encoder);\n    return createEncoder({\n        ...encoder,\n        write: (value: TFrom, bytes, offset) => {\n            const newOffset = encoder.write(value, bytes, offset);\n            copySourceToTargetInReverse(\n                bytes /* source */,\n                bytes /* target_WILL_MUTATE */,\n                offset /* sourceOffset */,\n                offset + encoder.fixedSize /* sourceLength */,\n            );\n            return newOffset;\n        },\n    });\n}\n\n/**\n * Reverses the bytes of a fixed-size decoder.\n *\n * Given a `FixedSizeDecoder`, this function returns a new `FixedSizeDecoder` that\n * reverses the bytes within the fixed-size byte array before decoding.\n *\n * This can be useful to modify endianness or for other byte-order transformations.\n *\n * For more details, see {@link reverseCodec}.\n *\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the decoded value in bytes.\n *\n * @param decoder - The fixed-size decoder to reverse.\n * @returns A new decoder that reads bytes in reverse order.\n *\n * @example\n * Decoding a reversed `u16` value.\n * ```ts\n * const decoder = reverseDecoder(getU16Decoder({ endian: Endian.Big }));\n * const value = decoder.decode(new Uint8Array([0x34, 0x12])); // 0x1234 (bytes are flipped back)\n * ```\n *\n * @see {@link reverseCodec}\n * @see {@link reverseEncoder}\n */\nexport function reverseDecoder<TTo, TSize extends number>(\n    decoder: FixedSizeDecoder<TTo, TSize>,\n): FixedSizeDecoder<TTo, TSize> {\n    assertIsFixedSize(decoder);\n    return createDecoder({\n        ...decoder,\n        read: (bytes, offset) => {\n            const reversedBytes = bytes.slice();\n            copySourceToTargetInReverse(\n                bytes /* source */,\n                reversedBytes /* target_WILL_MUTATE */,\n                offset /* sourceOffset */,\n                offset + decoder.fixedSize /* sourceLength */,\n            );\n            return decoder.read(reversedBytes, offset);\n        },\n    });\n}\n\n/**\n * Reverses the bytes of a fixed-size codec.\n *\n * Given a `FixedSizeCodec`, this function returns a new `FixedSizeCodec` that\n * reverses the bytes within the fixed-size byte array during encoding and decoding.\n *\n * This can be useful to modify endianness or for other byte-order transformations.\n *\n * @typeParam TFrom - The type of the value to encode.\n * @typeParam TTo - The type of the decoded value.\n * @typeParam TSize - The fixed size of the encoded/decoded value in bytes.\n *\n * @param codec - The fixed-size codec to reverse.\n * @returns A new codec that encodes and decodes bytes in reverse order.\n *\n * @example\n * Reversing a `u16` codec.\n * ```ts\n * const codec = reverseCodec(getU16Codec({ endian: Endian.Big }));\n * const bytes = codec.encode(0x1234); // 0x3412 (bytes are flipped)\n * const value = codec.decode(bytes);  // 0x1234 (bytes are flipped back)\n * ```\n *\n * @remarks\n * If you only need to reverse an encoder, use {@link reverseEncoder}.\n * If you only need to reverse a decoder, use {@link reverseDecoder}.\n *\n * ```ts\n * const bytes = reverseEncoder(getU16Encoder()).encode(0x1234);\n * const value = reverseDecoder(getU16Decoder()).decode(bytes);\n * ```\n *\n * @see {@link reverseEncoder}\n * @see {@link reverseDecoder}\n */\nexport function reverseCodec<TFrom, TTo extends TFrom, TSize extends number>(\n    codec: FixedSizeCodec<TFrom, TTo, TSize>,\n): FixedSizeCodec<TFrom, TTo, TSize> {\n    return combineCodec(reverseEncoder(codec), reverseDecoder(codec));\n}\n", "import {\n    Codec,\n    createCodec,\n    createDecoder,\n    createEncoder,\n    Decoder,\n    Encoder,\n    FixedSizeCodec,\n    FixedSizeDecoder,\n    FixedSizeEncoder,\n    isVariableSize,\n    VariableSizeCodec,\n    VariableSizeDecoder,\n    VariableSizeEncoder,\n} from './codec';\nimport { ReadonlyUint8Array } from './readonly-uint8array';\n\n/**\n * Transforms an encoder by mapping its input values.\n *\n * This function takes an existing `Encoder<A>` and returns an `Encoder<B>`, allowing values of type `B`\n * to be converted into values of type `A` before encoding. The transformation is applied via the `unmap` function.\n *\n * This is useful for handling type conversions, applying default values, or structuring data before encoding.\n *\n * For more details, see {@link transformCodec}.\n *\n * @typeParam TOldFrom - The original type expected by the encoder.\n * @typeParam TNewFrom - The new type that will be transformed before encoding.\n *\n * @param encoder - The encoder to transform.\n * @param unmap - A function that converts values of `TNewFrom` into `TOldFrom` before encoding.\n * @returns A new encoder that accepts `TNewFrom` values and transforms them before encoding.\n *\n * @example\n * Encoding a string by counting its characters and storing the length as a `u32`.\n * ```ts\n * const encoder = transformEncoder(getU32Encoder(), (value: string) => value.length);\n * encoder.encode(\"hello\"); // 0x05000000 (stores length 5)\n * ```\n *\n * @see {@link transformCodec}\n * @see {@link transformDecoder}\n */\nexport function transformEncoder<TOldFrom, TNewFrom, TSize extends number>(\n    encoder: FixedSizeEncoder<TOldFrom, TSize>,\n    unmap: (value: TNewFrom) => TOldFrom,\n): FixedSizeEncoder<TNewFrom, TSize>;\nexport function transformEncoder<TOldFrom, TNewFrom>(\n    encoder: VariableSizeEncoder<TOldFrom>,\n    unmap: (value: TNewFrom) => TOldFrom,\n): VariableSizeEncoder<TNewFrom>;\nexport function transformEncoder<TOldFrom, TNewFrom>(\n    encoder: Encoder<TOldFrom>,\n    unmap: (value: TNewFrom) => TOldFrom,\n): Encoder<TNewFrom>;\nexport function transformEncoder<TOldFrom, TNewFrom>(\n    encoder: Encoder<TOldFrom>,\n    unmap: (value: TNewFrom) => TOldFrom,\n): Encoder<TNewFrom> {\n    return createEncoder({\n        ...(isVariableSize(encoder)\n            ? { ...encoder, getSizeFromValue: (value: TNewFrom) => encoder.getSizeFromValue(unmap(value)) }\n            : encoder),\n        write: (value: TNewFrom, bytes, offset) => encoder.write(unmap(value), bytes, offset),\n    });\n}\n\n/**\n * Transforms a decoder by mapping its output values.\n *\n * This function takes an existing `Decoder<A>` and returns a `Decoder<B>`, allowing values of type `A`\n * to be converted into values of type `B` after decoding. The transformation is applied via the `map` function.\n *\n * This is useful for post-processing, type conversions, or enriching decoded data.\n *\n * For more details, see {@link transformCodec}.\n *\n * @typeParam TOldTo - The original type returned by the decoder.\n * @typeParam TNewTo - The new type that will be transformed after decoding.\n *\n * @param decoder - The decoder to transform.\n * @param map - A function that converts values of `TOldTo` into `TNewTo` after decoding.\n * @returns A new decoder that decodes into `TNewTo`.\n *\n * @example\n * Decoding a stored `u32` length into a string of `'x'` characters.\n * ```ts\n * const decoder = transformDecoder(getU32Decoder(), (length) => 'x'.repeat(length));\n * decoder.decode(new Uint8Array([0x05, 0x00, 0x00, 0x00])); // \"xxxxx\"\n * ```\n *\n * @see {@link transformCodec}\n * @see {@link transformEncoder}\n */\nexport function transformDecoder<TOldTo, TNewTo, TSize extends number>(\n    decoder: FixedSizeDecoder<TOldTo, TSize>,\n    map: (value: TOldTo, bytes: ReadonlyUint8Array | Uint8Array, offset: number) => TNewTo,\n): FixedSizeDecoder<TNewTo, TSize>;\nexport function transformDecoder<TOldTo, TNewTo>(\n    decoder: VariableSizeDecoder<TOldTo>,\n    map: (value: TOldTo, bytes: ReadonlyUint8Array | Uint8Array, offset: number) => TNewTo,\n): VariableSizeDecoder<TNewTo>;\nexport function transformDecoder<TOldTo, TNewTo>(\n    decoder: Decoder<TOldTo>,\n    map: (value: TOldTo, bytes: ReadonlyUint8Array | Uint8Array, offset: number) => TNewTo,\n): Decoder<TNewTo>;\nexport function transformDecoder<TOldTo, TNewTo>(\n    decoder: Decoder<TOldTo>,\n    map: (value: TOldTo, bytes: ReadonlyUint8Array | Uint8Array, offset: number) => TNewTo,\n): Decoder<TNewTo> {\n    return createDecoder({\n        ...decoder,\n        read: (bytes: ReadonlyUint8Array | Uint8Array, offset) => {\n            const [value, newOffset] = decoder.read(bytes, offset);\n            return [map(value, bytes, offset), newOffset];\n        },\n    });\n}\n\n/**\n * Transforms a codec by mapping its input and output values.\n *\n * This function takes an existing `Codec<A, B>` and returns a `Codec<C, D>`, allowing:\n * - Values of type `C` to be transformed into `A` before encoding.\n * - Values of type `B` to be transformed into `D` after decoding.\n *\n * This is useful for adapting codecs to work with different representations, handling default values, or\n * converting between primitive and structured types.\n *\n * @typeParam TOldFrom - The original type expected by the codec.\n * @typeParam TNewFrom - The new type that will be transformed before encoding.\n * @typeParam TOldTo - The original type returned by the codec.\n * @typeParam TNewTo - The new type that will be transformed after decoding.\n *\n * @param codec - The codec to transform.\n * @param unmap - A function that converts values of `TNewFrom` into `TOldFrom` before encoding.\n * @param map - A function that converts values of `TOldTo` into `TNewTo` after decoding (optional).\n * @returns A new codec that encodes `TNewFrom` and decodes into `TNewTo`.\n *\n * @example\n * Mapping a `u32` codec to encode string lengths and decode them into `'x'` characters.\n * ```ts\n * const codec = transformCodec(\n *     getU32Codec(),\n *     (value: string) => value.length, // Encode string length\n *     (length) => 'x'.repeat(length)  // Decode length into a string of 'x's\n * );\n *\n * const bytes = codec.encode(\"hello\"); // 0x05000000 (stores length 5)\n * const value = codec.decode(bytes);   // \"xxxxx\"\n * ```\n *\n * @remarks\n * If only input transformation is needed, use {@link transformEncoder}.\n * If only output transformation is needed, use {@link transformDecoder}.\n *\n * ```ts\n * const bytes = transformEncoder(getU32Encoder(), (value: string) => value.length).encode(\"hello\");\n * const value = transformDecoder(getU32Decoder(), (length) => 'x'.repeat(length)).decode(bytes);\n * ```\n *\n * @see {@link transformEncoder}\n * @see {@link transformDecoder}\n */\nexport function transformCodec<TOldFrom, TNewFrom, TTo extends TNewFrom & TOldFrom, TSize extends number>(\n    codec: FixedSizeCodec<TOldFrom, TTo, TSize>,\n    unmap: (value: TNewFrom) => TOldFrom,\n): FixedSizeCodec<TNewFrom, TTo, TSize>;\nexport function transformCodec<TOldFrom, TNewFrom, TTo extends TNewFrom & TOldFrom>(\n    codec: VariableSizeCodec<TOldFrom, TTo>,\n    unmap: (value: TNewFrom) => TOldFrom,\n): VariableSizeCodec<TNewFrom, TTo>;\nexport function transformCodec<TOldFrom, TNewFrom, TTo extends TNewFrom & TOldFrom>(\n    codec: Codec<TOldFrom, TTo>,\n    unmap: (value: TNewFrom) => TOldFrom,\n): Codec<TNewFrom, TTo>;\nexport function transformCodec<\n    TOldFrom,\n    TNewFrom,\n    TOldTo extends TOldFrom,\n    TNewTo extends TNewFrom,\n    TSize extends number,\n>(\n    codec: FixedSizeCodec<TOldFrom, TOldTo, TSize>,\n    unmap: (value: TNewFrom) => TOldFrom,\n    map: (value: TOldTo, bytes: ReadonlyUint8Array | Uint8Array, offset: number) => TNewTo,\n): FixedSizeCodec<TNewFrom, TNewTo, TSize>;\nexport function transformCodec<TOldFrom, TNewFrom, TOldTo extends TOldFrom, TNewTo extends TNewFrom>(\n    codec: VariableSizeCodec<TOldFrom, TOldTo>,\n    unmap: (value: TNewFrom) => TOldFrom,\n    map: (value: TOldTo, bytes: ReadonlyUint8Array | Uint8Array, offset: number) => TNewTo,\n): VariableSizeCodec<TNewFrom, TNewTo>;\nexport function transformCodec<TOldFrom, TNewFrom, TOldTo extends TOldFrom, TNewTo extends TNewFrom>(\n    codec: Codec<TOldFrom, TOldTo>,\n    unmap: (value: TNewFrom) => TOldFrom,\n    map: (value: TOldTo, bytes: ReadonlyUint8Array | Uint8Array, offset: number) => TNewTo,\n): Codec<TNewFrom, TNewTo>;\nexport function transformCodec<TOldFrom, TNewFrom, TOldTo extends TOldFrom, TNewTo extends TNewFrom>(\n    codec: Codec<TOldFrom, TOldTo>,\n    unmap: (value: TNewFrom) => TOldFrom,\n    map?: (value: TOldTo, bytes: ReadonlyUint8Array | Uint8Array, offset: number) => TNewTo,\n): Codec<TNewFrom, TNewTo> {\n    return createCodec({\n        ...transformEncoder(codec, unmap),\n        read: map ? transformDecoder(codec, map).read : (codec.read as unknown as Decoder<TNewTo>['read']),\n    });\n}\n", "import { SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE, SolanaError } from '@solana/errors';\n\n/**\n * Ensures that a given number falls within a specified range.\n *\n * If the number is outside the allowed range, an error is thrown.\n * This function is primarily used to validate values before encoding them in a codec.\n *\n * @param codecDescription - A string describing the codec that is performing the validation.\n * @param min - The minimum allowed value (inclusive).\n * @param max - The maximum allowed value (inclusive).\n * @param value - The number to validate.\n *\n * @throws {@link SolanaError} if the value is out of range.\n *\n * @example\n * Validating a number within range.\n * ```ts\n * assertNumberIsBetweenForCodec('u8', 0, 255, 42); // Passes\n * ```\n *\n * @example\n * Throwing an error for an out-of-range value.\n * ```ts\n * assertNumberIsBetweenForCodec('u8', 0, 255, 300); // Throws\n * ```\n */\nexport function assertNumberIsBetweenForCodec(\n    codecDescription: string,\n    min: bigint | number,\n    max: bigint | number,\n    value: bigint | number,\n) {\n    if (value < min || value > max) {\n        throw new SolanaError(SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE, {\n            codecDescription,\n            max,\n            min,\n            value,\n        });\n    }\n}\n", "import { Codec, Decoder, Encoder, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n/**\n * Represents an encoder for numbers and bigints.\n *\n * This type allows encoding values that are either `number` or `bigint`.\n * Depending on the specific implementation, the encoded output may have a fixed or variable size.\n *\n * @see {@link FixedSizeNumberEncoder}\n */\nexport type NumberEncoder = Encoder<bigint | number>;\n\n/**\n * Represents a fixed-size encoder for numbers and bigints.\n *\n * This encoder serializes values using an exact number of bytes, defined by `TSize`.\n *\n * @typeParam TSize - The number of bytes used for encoding.\n *\n * @see {@link NumberEncoder}\n */\nexport type FixedSizeNumberEncoder<TSize extends number = number> = FixedSizeEncoder<bigint | number, TSize>;\n\n/**\n * Represents a decoder for numbers and bigints.\n *\n * This type supports decoding values as either `number` or `bigint`, depending on the implementation.\n *\n * @see {@link FixedSizeNumberDecoder}\n */\nexport type NumberDecoder = Decoder<bigint> | Decoder<number>;\n\n/**\n * Represents a fixed-size decoder for numbers and bigints.\n *\n * This decoder reads a fixed number of bytes (`TSize`) and converts them into a `number` or `bigint`.\n *\n * @typeParam TSize - The number of bytes expected for decoding.\n *\n * @see {@link NumberDecoder}\n */\nexport type FixedSizeNumberDecoder<TSize extends number = number> =\n    | FixedSizeDecoder<bigint, TSize>\n    | FixedSizeDecoder<number, TSize>;\n\n/**\n * Represents a codec for encoding and decoding numbers and bigints.\n *\n * - The encoded value can be either a `number` or a `bigint`.\n * - The decoded value will always be either a `number` or `bigint`, depending on the implementation.\n *\n * @see {@link FixedSizeNumberCodec}\n */\nexport type NumberCodec = Codec<bigint | number, bigint> | Codec<bigint | number, number>;\n\n/**\n * Represents a fixed-size codec for encoding and decoding numbers and bigints.\n *\n * This codec uses a specific number of bytes (`TSize`) for serialization.\n * The encoded value can be either a `number` or `bigint`, but the decoded value will always be a `number` or `bigint`,\n * depending on the implementation.\n *\n * @typeParam TSize - The number of bytes used for encoding and decoding.\n *\n * @see {@link NumberCodec}\n */\nexport type FixedSizeNumberCodec<TSize extends number = number> =\n    | FixedSizeCodec<bigint | number, bigint, TSize>\n    | FixedSizeCodec<bigint | number, number, TSize>;\n\n/**\n * Configuration options for number codecs that use more than one byte.\n *\n * This configuration applies to all number codecs except `u8` and `i8`,\n * allowing the user to specify the endianness of serialization.\n */\nexport type NumberCodecConfig = {\n    /**\n     * Specifies whether numbers should be encoded in little-endian or big-endian format.\n     *\n     * @defaultValue `Endian.Little`\n     */\n    endian?: Endian;\n};\n\n/**\n * Defines the byte order used for number serialization.\n *\n * - `Little`: The least significant byte is stored first.\n * - `Big`: The most significant byte is stored first.\n */\nexport enum Endian {\n    Little,\n    Big,\n}\n", "import {\n    assertByteArrayHasEnoughBytesForCodec,\n    assertByteArrayIsNotEmptyForCodec,\n    createDecoder,\n    createEncoder,\n    FixedSizeDecoder,\n    FixedSizeEncoder,\n    Offset,\n    ReadonlyUint8Array,\n} from '@solana/codecs-core';\n\nimport { assertNumberIsBetweenForCodec } from './assertions';\nimport { Endian, NumberCodecConfig } from './common';\n\ntype NumberFactorySharedInput<TSize extends number> = {\n    config?: NumberCodecConfig;\n    name: string;\n    size: TSize;\n};\n\ntype NumberFactoryEncoderInput<TFrom, TSize extends number> = NumberFactorySharedInput<TSize> & {\n    range?: [bigint | number, bigint | number];\n    set: (view: DataView, value: TFrom, littleEndian?: boolean) => void;\n};\n\ntype NumberFactoryDecoderInput<TTo, TSize extends number> = NumberFactorySharedInput<TSize> & {\n    get: (view: DataView, littleEndian?: boolean) => TTo;\n};\n\nfunction isLittleEndian(config?: NumberCodecConfig): boolean {\n    return config?.endian === Endian.Big ? false : true;\n}\n\nexport function numberEncoderFactory<TFrom extends bigint | number, TSize extends number>(\n    input: NumberFactoryEncoderInput<TFrom, TSize>,\n): FixedSizeEncoder<TFrom, TSize> {\n    return createEncoder({\n        fixedSize: input.size,\n        write(value: TFrom, bytes: Uint8Array, offset: Offset): Offset {\n            if (input.range) {\n                assertNumberIsBetweenForCodec(input.name, input.range[0], input.range[1], value);\n            }\n            const arrayBuffer = new ArrayBuffer(input.size);\n            input.set(new DataView(arrayBuffer), value, isLittleEndian(input.config));\n            bytes.set(new Uint8Array(arrayBuffer), offset);\n            return offset + input.size;\n        },\n    });\n}\n\nexport function numberDecoderFactory<TTo extends bigint | number, TSize extends number>(\n    input: NumberFactoryDecoderInput<TTo, TSize>,\n): FixedSizeDecoder<TTo, TSize> {\n    return createDecoder({\n        fixedSize: input.size,\n        read(bytes, offset = 0): [TTo, number] {\n            assertByteArrayIsNotEmptyForCodec(input.name, bytes, offset);\n            assertByteArrayHasEnoughBytesForCodec(input.name, input.size, bytes, offset);\n            const view = new DataView(toArrayBuffer(bytes, offset, input.size));\n            return [input.get(view, isLittleEndian(input.config)), offset + input.size];\n        },\n    });\n}\n\n/**\n * Helper function to ensure that the ArrayBuffer is converted properly from a Uint8Array\n * Source: https://stackoverflow.com/questions/37228285/uint8array-to-arraybuffer\n */\nfunction toArrayBuffer(bytes: ReadonlyUint8Array | Uint8Array, offset?: number, length?: number): ArrayBuffer {\n    const bytesOffset = bytes.byteOffset + (offset ?? 0);\n    const bytesLength = length ?? bytes.byteLength;\n    return bytes.buffer.slice(bytesOffset, bytesOffset + bytesLength);\n}\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { NumberCodecConfig } from './common';\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 32-bit floating-point numbers (`f32`).\n *\n * This encoder serializes `f32` values using 4 bytes.\n * Floating-point values may lose precision when encoded.\n *\n * For more details, see {@link getF32Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeEncoder<number, 4>` for encoding `f32` values.\n *\n * @example\n * Encoding an `f32` value.\n * ```ts\n * const encoder = getF32Encoder();\n * const bytes = encoder.encode(-1.5); // 0x0000c0bf\n * ```\n *\n * @see {@link getF32Codec}\n */\nexport const getF32Encoder = (config: NumberCodecConfig = {}): FixedSizeEncoder<bigint | number, 4> =>\n    numberEncoderFactory({\n        config,\n        name: 'f32',\n        set: (view, value, le) => view.setFloat32(0, Number(value), le),\n        size: 4,\n    });\n\n/**\n * Returns a decoder for 32-bit floating-point numbers (`f32`).\n *\n * This decoder deserializes `f32` values from 4 bytes.\n * Some precision may be lost during decoding due to floating-point representation.\n *\n * For more details, see {@link getF32Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeDecoder<number, 4>` for decoding `f32` values.\n *\n * @example\n * Decoding an `f32` value.\n * ```ts\n * const decoder = getF32Decoder();\n * const value = decoder.decode(new Uint8Array([0x00, 0x00, 0xc0, 0xbf])); // -1.5\n * ```\n *\n * @see {@link getF32Codec}\n */\nexport const getF32Decoder = (config: NumberCodecConfig = {}): FixedSizeDecoder<number, 4> =>\n    numberDecoderFactory({\n        config,\n        get: (view, le) => view.getFloat32(0, le),\n        name: 'f32',\n        size: 4,\n    });\n\n/**\n * Returns a codec for encoding and decoding 32-bit floating-point numbers (`f32`).\n *\n * This codec serializes `f32` values using 4 bytes.\n * Due to the IEEE 754 floating-point representation, some precision loss may occur.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeCodec<number, number, 4>` for encoding and decoding `f32` values.\n *\n * @example\n * Encoding and decoding an `f32` value.\n * ```ts\n * const codec = getF32Codec();\n * const bytes = codec.encode(-1.5); // 0x0000c0bf\n * const value = codec.decode(bytes); // -1.5\n * ```\n *\n * @example\n * Using big-endian encoding.\n * ```ts\n * const codec = getF32Codec({ endian: Endian.Big });\n * const bytes = codec.encode(-1.5); // 0xbfc00000\n * ```\n *\n * @remarks\n * `f32` values follow the IEEE 754 single-precision floating-point standard.\n * Precision loss may occur for certain values.\n *\n * - If you need higher precision, consider using {@link getF64Codec}.\n * - If you need integer values, consider using {@link getI32Codec} or {@link getU32Codec}.\n *\n * Separate {@link getF32Encoder} and {@link getF32Decoder} functions are available.\n *\n * ```ts\n * const bytes = getF32Encoder().encode(-1.5);\n * const value = getF32Decoder().decode(bytes);\n * ```\n *\n * @see {@link getF32Encoder}\n * @see {@link getF32Decoder}\n */\nexport const getF32Codec = (config: NumberCodecConfig = {}): FixedSizeCodec<bigint | number, number, 4> =>\n    combineCodec(getF32Encoder(config), getF32Decoder(config));\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { NumberCodecConfig } from './common';\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 64-bit floating-point numbers (`f64`).\n *\n * This encoder serializes `f64` values using 8 bytes.\n * Floating-point values may lose precision when encoded.\n *\n * For more details, see {@link getF64Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeEncoder<number, 8>` for encoding `f64` values.\n *\n * @example\n * Encoding an `f64` value.\n * ```ts\n * const encoder = getF64Encoder();\n * const bytes = encoder.encode(-1.5); // 0x000000000000f8bf\n * ```\n *\n * @see {@link getF64Codec}\n */\nexport const getF64Encoder = (config: NumberCodecConfig = {}): FixedSizeEncoder<bigint | number, 8> =>\n    numberEncoderFactory({\n        config,\n        name: 'f64',\n        set: (view, value, le) => view.setFloat64(0, Number(value), le),\n        size: 8,\n    });\n\n/**\n * Returns a decoder for 64-bit floating-point numbers (`f64`).\n *\n * This decoder deserializes `f64` values from 8 bytes.\n * Some precision may be lost during decoding due to floating-point representation.\n *\n * For more details, see {@link getF64Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeDecoder<number, 8>` for decoding `f64` values.\n *\n * @example\n * Decoding an `f64` value.\n * ```ts\n * const decoder = getF64Decoder();\n * const value = decoder.decode(new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf8, 0xbf])); // -1.5\n * ```\n *\n * @see {@link getF64Codec}\n */\nexport const getF64Decoder = (config: NumberCodecConfig = {}): FixedSizeDecoder<number, 8> =>\n    numberDecoderFactory({\n        config,\n        get: (view, le) => view.getFloat64(0, le),\n        name: 'f64',\n        size: 8,\n    });\n\n/**\n * Returns a codec for encoding and decoding 64-bit floating-point numbers (`f64`).\n *\n * This codec serializes `f64` values using 8 bytes.\n * Due to the IEEE 754 floating-point representation, some precision loss may occur.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeCodec<number, number, 8>` for encoding and decoding `f64` values.\n *\n * @example\n * Encoding and decoding an `f64` value.\n * ```ts\n * const codec = getF64Codec();\n * const bytes = codec.encode(-1.5); // 0x000000000000f8bf\n * const value = codec.decode(bytes); // -1.5\n * ```\n *\n * @example\n * Using big-endian encoding.\n * ```ts\n * const codec = getF64Codec({ endian: Endian.Big });\n * const bytes = codec.encode(-1.5); // 0xbff8000000000000\n * ```\n *\n * @remarks\n * `f64` values follow the IEEE 754 double-precision floating-point standard.\n * Precision loss may still occur but is significantly lower than `f32`.\n *\n * - If you need smaller floating-point values, consider using {@link getF32Codec}.\n * - If you need integer values, consider using {@link getI64Codec} or {@link getU64Codec}.\n *\n * Separate {@link getF64Encoder} and {@link getF64Decoder} functions are available.\n *\n * ```ts\n * const bytes = getF64Encoder().encode(-1.5);\n * const value = getF64Decoder().decode(bytes);\n * ```\n *\n * @see {@link getF64Encoder}\n * @see {@link getF64Decoder}\n */\nexport const getF64Codec = (config: NumberCodecConfig = {}): FixedSizeCodec<bigint | number, number, 8> =>\n    combineCodec(getF64Encoder(config), getF64Decoder(config));\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { NumberCodecConfig } from './common';\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 128-bit signed integers (`i128`).\n *\n * This encoder serializes `i128` values using 16 bytes.\n * Values can be provided as either `number` or `bigint`.\n *\n * For more details, see {@link getI128Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeEncoder<number | bigint, 16>` for encoding `i128` values.\n *\n * @example\n * Encoding an `i128` value.\n * ```ts\n * const encoder = getI128Encoder();\n * const bytes = encoder.encode(-42n); // 0xd6ffffffffffffffffffffffffffffff\n * ```\n *\n * @see {@link getI128Codec}\n */\nexport const getI128Encoder = (config: NumberCodecConfig = {}): FixedSizeEncoder<bigint | number, 16> =>\n    numberEncoderFactory({\n        config,\n        name: 'i128',\n        range: [-BigInt('0x7fffffffffffffffffffffffffffffff') - 1n, BigInt('0x7fffffffffffffffffffffffffffffff')],\n        set: (view, value, le) => {\n            const leftOffset = le ? 8 : 0;\n            const rightOffset = le ? 0 : 8;\n            const rightMask = 0xffffffffffffffffn;\n            view.setBigInt64(leftOffset, BigInt(value) >> 64n, le);\n            view.setBigUint64(rightOffset, BigInt(value) & rightMask, le);\n        },\n        size: 16,\n    });\n\n/**\n * Returns a decoder for 128-bit signed integers (`i128`).\n *\n * This decoder deserializes `i128` values from 16 bytes.\n * The decoded value is always a `bigint`.\n *\n * For more details, see {@link getI128Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeDecoder<bigint, 16>` for decoding `i128` values.\n *\n * @example\n * Decoding an `i128` value.\n * ```ts\n * const decoder = getI128Decoder();\n * const value = decoder.decode(new Uint8Array([\n *   0xd6, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n *   0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff\n * ])); // -42n\n * ```\n *\n * @see {@link getI128Codec}\n */\nexport const getI128Decoder = (config: NumberCodecConfig = {}): FixedSizeDecoder<bigint, 16> =>\n    numberDecoderFactory({\n        config,\n        get: (view, le) => {\n            const leftOffset = le ? 8 : 0;\n            const rightOffset = le ? 0 : 8;\n            const left = view.getBigInt64(leftOffset, le);\n            const right = view.getBigUint64(rightOffset, le);\n            return (left << 64n) + right;\n        },\n        name: 'i128',\n        size: 16,\n    });\n\n/**\n * Returns a codec for encoding and decoding 128-bit signed integers (`i128`).\n *\n * This codec serializes `i128` values using 16 bytes.\n * Values can be provided as either `number` or `bigint`, but the decoded value is always a `bigint`.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeCodec<number | bigint, bigint, 16>` for encoding and decoding `i128` values.\n *\n * @example\n * Encoding and decoding an `i128` value.\n * ```ts\n * const codec = getI128Codec();\n * const bytes = codec.encode(-42n); // 0xd6ffffffffffffffffffffffffffffff\n * const value = codec.decode(bytes); // -42n\n * ```\n *\n * @example\n * Using big-endian encoding.\n * ```ts\n * const codec = getI128Codec({ endian: Endian.Big });\n * const bytes = codec.encode(-42n); // 0xffffffffffffffffffffffffffffd6\n * ```\n *\n * @remarks\n * This codec supports values between `-2^127` and `2^127 - 1`.\n * Since JavaScript `number` cannot safely represent values beyond `2^53 - 1`, the decoded value is always a `bigint`.\n *\n * - If you need a smaller signed integer, consider using {@link getI64Codec} or {@link getI32Codec}.\n * - If you need a larger signed integer, consider using a custom codec.\n * - If you need unsigned integers, consider using {@link getU128Codec}.\n *\n * Separate {@link getI128Encoder} and {@link getI128Decoder} functions are available.\n *\n * ```ts\n * const bytes = getI128Encoder().encode(-42);\n * const value = getI128Decoder().decode(bytes);\n * ```\n *\n * @see {@link getI128Encoder}\n * @see {@link getI128Decoder}\n */\nexport const getI128Codec = (config: NumberCodecConfig = {}): FixedSizeCodec<bigint | number, bigint, 16> =>\n    combineCodec(getI128Encoder(config), getI128Decoder(config));\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { NumberCodecConfig } from './common';\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 16-bit signed integers (`i16`).\n *\n * This encoder serializes `i16` values using 2 bytes.\n * Values can be provided as either `number` or `bigint`.\n *\n * For more details, see {@link getI16Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeEncoder<number | bigint, 2>` for encoding `i16` values.\n *\n * @example\n * Encoding an `i16` value.\n * ```ts\n * const encoder = getI16Encoder();\n * const bytes = encoder.encode(-42); // 0xd6ff\n * ```\n *\n * @see {@link getI16Codec}\n */\nexport const getI16Encoder = (config: NumberCodecConfig = {}): FixedSizeEncoder<bigint | number, 2> =>\n    numberEncoderFactory({\n        config,\n        name: 'i16',\n        range: [-Number('0x7fff') - 1, Number('0x7fff')],\n        set: (view, value, le) => view.setInt16(0, Number(value), le),\n        size: 2,\n    });\n\n/**\n * Returns a decoder for 16-bit signed integers (`i16`).\n *\n * This decoder deserializes `i16` values from 2 bytes.\n * The decoded value is always a `number`.\n *\n * For more details, see {@link getI16Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeDecoder<number, 2>` for decoding `i16` values.\n *\n * @example\n * Decoding an `i16` value.\n * ```ts\n * const decoder = getI16Decoder();\n * const value = decoder.decode(new Uint8Array([0xd6, 0xff])); // -42\n * ```\n *\n * @see {@link getI16Codec}\n */\nexport const getI16Decoder = (config: NumberCodecConfig = {}): FixedSizeDecoder<number, 2> =>\n    numberDecoderFactory({\n        config,\n        get: (view, le) => view.getInt16(0, le),\n        name: 'i16',\n        size: 2,\n    });\n\n/**\n * Returns a codec for encoding and decoding 16-bit signed integers (`i16`).\n *\n * This codec serializes `i16` values using 2 bytes.\n * Values can be provided as either `number` or `bigint`, but the decoded value is always a `number`.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeCodec<number | bigint, number, 2>` for encoding and decoding `i16` values.\n *\n * @example\n * Encoding and decoding an `i16` value.\n * ```ts\n * const codec = getI16Codec();\n * const bytes = codec.encode(-42); // 0xd6ff\n * const value = codec.decode(bytes); // -42\n * ```\n *\n * @example\n * Using big-endian encoding.\n * ```ts\n * const codec = getI16Codec({ endian: Endian.Big });\n * const bytes = codec.encode(-42); // 0xffd6\n * ```\n *\n * @remarks\n * This codec supports values between `-2^15` (`-32,768`) and `2^15 - 1` (`32,767`).\n *\n * - If you need a smaller signed integer, consider using {@link getI8Codec}.\n * - If you need a larger signed integer, consider using {@link getI32Codec}.\n * - If you need unsigned integers, consider using {@link getU16Codec}.\n *\n * Separate {@link getI16Encoder} and {@link getI16Decoder} functions are available.\n *\n * ```ts\n * const bytes = getI16Encoder().encode(-42);\n * const value = getI16Decoder().decode(bytes);\n * ```\n *\n * @see {@link getI16Encoder}\n * @see {@link getI16Decoder}\n */\nexport const getI16Codec = (config: NumberCodecConfig = {}): FixedSizeCodec<bigint | number, number, 2> =>\n    combineCodec(getI16Encoder(config), getI16Decoder(config));\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { NumberCodecConfig } from './common';\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 32-bit signed integers (`i32`).\n *\n * This encoder serializes `i32` values using 4 bytes.\n * Values can be provided as either `number` or `bigint`.\n *\n * For more details, see {@link getI32Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeEncoder<number | bigint, 4>` for encoding `i32` values.\n *\n * @example\n * Encoding an `i32` value.\n * ```ts\n * const encoder = getI32Encoder();\n * const bytes = encoder.encode(-42); // 0xd6ffffff\n * ```\n *\n * @see {@link getI32Codec}\n */\nexport const getI32Encoder = (config: NumberCodecConfig = {}): FixedSizeEncoder<bigint | number, 4> =>\n    numberEncoderFactory({\n        config,\n        name: 'i32',\n        range: [-Number('0x7fffffff') - 1, Number('0x7fffffff')],\n        set: (view, value, le) => view.setInt32(0, Number(value), le),\n        size: 4,\n    });\n\n/**\n * Returns a decoder for 32-bit signed integers (`i32`).\n *\n * This decoder deserializes `i32` values from 4 bytes.\n * The decoded value is always a `number`.\n *\n * For more details, see {@link getI32Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeDecoder<number, 4>` for decoding `i32` values.\n *\n * @example\n * Decoding an `i32` value.\n * ```ts\n * const decoder = getI32Decoder();\n * const value = decoder.decode(new Uint8Array([0xd6, 0xff, 0xff, 0xff])); // -42\n * ```\n *\n * @see {@link getI32Codec}\n */\nexport const getI32Decoder = (config: NumberCodecConfig = {}): FixedSizeDecoder<number, 4> =>\n    numberDecoderFactory({\n        config,\n        get: (view, le) => view.getInt32(0, le),\n        name: 'i32',\n        size: 4,\n    });\n\n/**\n * Returns a codec for encoding and decoding 32-bit signed integers (`i32`).\n *\n * This codec serializes `i32` values using 4 bytes.\n * Values can be provided as either `number` or `bigint`, but the decoded value is always a `number`.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeCodec<number | bigint, number, 4>` for encoding and decoding `i32` values.\n *\n * @example\n * Encoding and decoding an `i32` value.\n * ```ts\n * const codec = getI32Codec();\n * const bytes = codec.encode(-42); // 0xd6ffffff\n * const value = codec.decode(bytes); // -42\n * ```\n *\n * @example\n * Using big-endian encoding.\n * ```ts\n * const codec = getI32Codec({ endian: Endian.Big });\n * const bytes = codec.encode(-42); // 0xffffffd6\n * ```\n *\n * @remarks\n * This codec supports values between `-2^31` (`-2,147,483,648`) and `2^31 - 1` (`2,147,483,647`).\n *\n * - If you need a smaller signed integer, consider using {@link getI16Codec} or {@link getI8Codec}.\n * - If you need a larger signed integer, consider using {@link getI64Codec}.\n * - If you need unsigned integers, consider using {@link getU32Codec}.\n *\n * Separate {@link getI32Encoder} and {@link getI32Decoder} functions are available.\n *\n * ```ts\n * const bytes = getI32Encoder().encode(-42);\n * const value = getI32Decoder().decode(bytes);\n * ```\n *\n * @see {@link getI32Encoder}\n * @see {@link getI32Decoder}\n */\nexport const getI32Codec = (config: NumberCodecConfig = {}): FixedSizeCodec<bigint | number, number, 4> =>\n    combineCodec(getI32Encoder(config), getI32Decoder(config));\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { NumberCodecConfig } from './common';\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 64-bit signed integers (`i64`).\n *\n * This encoder serializes `i64` values using 8 bytes.\n * Values can be provided as either `number` or `bigint`.\n *\n * For more details, see {@link getI64Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeEncoder<number | bigint, 8>` for encoding `i64` values.\n *\n * @example\n * Encoding an `i64` value.\n * ```ts\n * const encoder = getI64Encoder();\n * const bytes = encoder.encode(-42n); // 0xd6ffffffffffffff\n * ```\n *\n * @see {@link getI64Codec}\n */\nexport const getI64Encoder = (config: NumberCodecConfig = {}): FixedSizeEncoder<bigint | number, 8> =>\n    numberEncoderFactory({\n        config,\n        name: 'i64',\n        range: [-BigInt('0x7fffffffffffffff') - 1n, BigInt('0x7fffffffffffffff')],\n        set: (view, value, le) => view.setBigInt64(0, BigInt(value), le),\n        size: 8,\n    });\n\n/**\n * Returns a decoder for 64-bit signed integers (`i64`).\n *\n * This decoder deserializes `i64` values from 8 bytes.\n * The decoded value is always a `bigint`.\n *\n * For more details, see {@link getI64Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeDecoder<bigint, 8>` for decoding `i64` values.\n *\n * @example\n * Decoding an `i64` value.\n * ```ts\n * const decoder = getI64Decoder();\n * const value = decoder.decode(new Uint8Array([\n *   0xd6, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff\n * ])); // -42n\n * ```\n *\n * @see {@link getI64Codec}\n */\nexport const getI64Decoder = (config: NumberCodecConfig = {}): FixedSizeDecoder<bigint, 8> =>\n    numberDecoderFactory({\n        config,\n        get: (view, le) => view.getBigInt64(0, le),\n        name: 'i64',\n        size: 8,\n    });\n\n/**\n * Returns a codec for encoding and decoding 64-bit signed integers (`i64`).\n *\n * This codec serializes `i64` values using 8 bytes.\n * Values can be provided as either `number` or `bigint`, but the decoded value is always a `bigint`.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeCodec<number | bigint, bigint, 8>` for encoding and decoding `i64` values.\n *\n * @example\n * Encoding and decoding an `i64` value.\n * ```ts\n * const codec = getI64Codec();\n * const bytes = codec.encode(-42n); // 0xd6ffffffffffffff\n * const value = codec.decode(bytes); // -42n\n * ```\n *\n * @example\n * Using big-endian encoding.\n * ```ts\n * const codec = getI64Codec({ endian: Endian.Big });\n * const bytes = codec.encode(-42n); // 0xffffffffffffffd6\n * ```\n *\n * @remarks\n * This codec supports values between `-2^63` and `2^63 - 1`.\n * Since JavaScript `number` cannot safely represent values beyond `2^53 - 1`, the decoded value is always a `bigint`.\n *\n * - If you need a smaller signed integer, consider using {@link getI32Codec} or {@link getI16Codec}.\n * - If you need a larger signed integer, consider using {@link getI128Codec}.\n * - If you need unsigned integers, consider using {@link getU64Codec}.\n *\n * Separate {@link getI64Encoder} and {@link getI64Decoder} functions are available.\n *\n * ```ts\n * const bytes = getI64Encoder().encode(-42);\n * const value = getI64Decoder().decode(bytes);\n * ```\n *\n * @see {@link getI64Encoder}\n * @see {@link getI64Decoder}\n */\nexport const getI64Codec = (config: NumberCodecConfig = {}): FixedSizeCodec<bigint | number, bigint, 8> =>\n    combineCodec(getI64Encoder(config), getI64Decoder(config));\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 8-bit signed integers (`i8`).\n *\n * This encoder serializes `i8` values using 1 byte.\n * Values can be provided as either `number` or `bigint`.\n *\n * For more details, see {@link getI8Codec}.\n *\n * @returns A `FixedSizeEncoder<number | bigint, 1>` for encoding `i8` values.\n *\n * @example\n * Encoding an `i8` value.\n * ```ts\n * const encoder = getI8Encoder();\n * const bytes = encoder.encode(-42); // 0xd6\n * ```\n *\n * @see {@link getI8Codec}\n */\nexport const getI8Encoder = (): FixedSizeEncoder<bigint | number, 1> =>\n    numberEncoderFactory({\n        name: 'i8',\n        range: [-Number('0x7f') - 1, Number('0x7f')],\n        set: (view, value) => view.setInt8(0, Number(value)),\n        size: 1,\n    });\n\n/**\n * Returns a decoder for 8-bit signed integers (`i8`).\n *\n * This decoder deserializes `i8` values from 1 byte.\n * The decoded value is always a `number`.\n *\n * For more details, see {@link getI8Codec}.\n *\n * @returns A `FixedSizeDecoder<number, 1>` for decoding `i8` values.\n *\n * @example\n * Decoding an `i8` value.\n * ```ts\n * const decoder = getI8Decoder();\n * const value = decoder.decode(new Uint8Array([0xd6])); // -42\n * ```\n *\n * @see {@link getI8Codec}\n */\nexport const getI8Decoder = (): FixedSizeDecoder<number, 1> =>\n    numberDecoderFactory({\n        get: view => view.getInt8(0),\n        name: 'i8',\n        size: 1,\n    });\n\n/**\n * Returns a codec for encoding and decoding 8-bit signed integers (`i8`).\n *\n * This codec serializes `i8` values using 1 byte.\n * Values can be provided as either `number` or `bigint`, but the decoded value is always a `number`.\n *\n * @returns A `FixedSizeCodec<number | bigint, number, 1>` for encoding and decoding `i8` values.\n *\n * @example\n * Encoding and decoding an `i8` value.\n * ```ts\n * const codec = getI8Codec();\n * const bytes = codec.encode(-42); // 0xd6\n * const value = codec.decode(bytes); // -42\n * ```\n *\n * @remarks\n * This codec supports values between `-2^7` (`-128`) and `2^7 - 1` (`127`).\n *\n * - If you need a larger signed integer, consider using {@link getI16Codec}.\n * - If you need an unsigned integer, consider using {@link getU8Codec}.\n *\n * Separate {@link getI8Encoder} and {@link getI8Decoder} functions are available.\n *\n * ```ts\n * const bytes = getI8Encoder().encode(-42);\n * const value = getI8Decoder().decode(bytes);\n * ```\n *\n * @see {@link getI8Encoder}\n * @see {@link getI8Decoder}\n */\nexport const getI8Codec = (): FixedSizeCodec<bigint | number, number, 1> =>\n    combineCodec(getI8Encoder(), getI8Decoder());\n", "import {\n    combineCodec,\n    createDecoder,\n    createEncoder,\n    Offset,\n    ReadonlyUint8Array,\n    VariableSizeCodec,\n    VariableSizeDecoder,\n    VariableSizeEncoder,\n} from '@solana/codecs-core';\n\nimport { assertNumberIsBetweenForCodec } from './assertions';\n\n/**\n * Returns an encoder for `shortU16` values.\n *\n * This encoder serializes `shortU16` values using **1 to 3 bytes**.\n * Smaller values use fewer bytes, while larger values take up more space.\n *\n * For more details, see {@link getShortU16Codec}.\n *\n * @returns A `VariableSizeEncoder<number | bigint>` for encoding `shortU16` values.\n *\n * @example\n * Encoding a `shortU16` value.\n * ```ts\n * const encoder = getShortU16Encoder();\n * encoder.encode(42);    // 0x2a\n * encoder.encode(128);   // 0x8001\n * encoder.encode(16384); // 0x808001\n * ```\n *\n * @see {@link getShortU16Codec}\n */\nexport const getShortU16Encoder = (): VariableSizeEncoder<bigint | number> =>\n    createEncoder({\n        getSizeFromValue: (value: bigint | number): number => {\n            if (value <= 0b01111111) return 1;\n            if (value <= 0b0011111111111111) return 2;\n            return 3;\n        },\n        maxSize: 3,\n        write: (value: bigint | number, bytes: Uint8Array, offset: Offset): Offset => {\n            assertNumberIsBetweenForCodec('shortU16', 0, 65535, value);\n            const shortU16Bytes = [0];\n            for (let ii = 0; ; ii += 1) {\n                // Shift the bits of the value over such that the next 7 bits are at the right edge.\n                const alignedValue = Number(value) >> (ii * 7);\n                if (alignedValue === 0) {\n                    // No more bits to consume.\n                    break;\n                }\n                // Extract those 7 bits using a mask.\n                const nextSevenBits = 0b1111111 & alignedValue;\n                shortU16Bytes[ii] = nextSevenBits;\n                if (ii > 0) {\n                    // Set the continuation bit of the previous slice.\n                    shortU16Bytes[ii - 1] |= 0b10000000;\n                }\n            }\n            bytes.set(shortU16Bytes, offset);\n            return offset + shortU16Bytes.length;\n        },\n    });\n\n/**\n * Returns a decoder for `shortU16` values.\n *\n * This decoder deserializes `shortU16` values from **1 to 3 bytes**.\n * The number of bytes used depends on the encoded value.\n *\n * For more details, see {@link getShortU16Codec}.\n *\n * @returns A `VariableSizeDecoder<number>` for decoding `shortU16` values.\n *\n * @example\n * Decoding a `shortU16` value.\n * ```ts\n * const decoder = getShortU16Decoder();\n * decoder.decode(new Uint8Array([0x2a]));             // 42\n * decoder.decode(new Uint8Array([0x80, 0x01]));       // 128\n * decoder.decode(new Uint8Array([0x80, 0x80, 0x01])); // 16384\n * ```\n *\n * @see {@link getShortU16Codec}\n */\nexport const getShortU16Decoder = (): VariableSizeDecoder<number> =>\n    createDecoder({\n        maxSize: 3,\n        read: (bytes: ReadonlyUint8Array | Uint8Array, offset): [number, Offset] => {\n            let value = 0;\n            let byteCount = 0;\n            while (++byteCount) {\n                const byteIndex = byteCount - 1;\n                const currentByte = bytes[offset + byteIndex];\n                const nextSevenBits = 0b1111111 & currentByte;\n                // Insert the next group of seven bits into the correct slot of the output value.\n                value |= nextSevenBits << (byteIndex * 7);\n                if ((currentByte & 0b10000000) === 0) {\n                    // This byte does not have its continuation bit set. We're done.\n                    break;\n                }\n            }\n            return [value, offset + byteCount];\n        },\n    });\n\n/**\n * Returns a codec for encoding and decoding `shortU16` values.\n *\n * It serializes unsigned integers using **1 to 3 bytes** based on the encoded value.\n * The larger the value, the more bytes it uses.\n *\n * - If the value is `<= 0x7f` (127), it is stored in a **single byte**\n *   and the first bit is set to `0` to indicate the end of the value.\n * - Otherwise, the first bit is set to `1` to indicate that the value continues in the next byte, which follows the same pattern.\n * - This process repeats until the value is fully encoded in up to 3 bytes. The third and last byte, if needed, uses all 8 bits to store the remaining value.\n *\n * In other words, the encoding scheme follows this structure:\n *\n * ```txt\n * 0XXXXXXX                   <- Values 0 to 127 (1 byte)\n * 1XXXXXXX 0XXXXXXX          <- Values 128 to 16,383 (2 bytes)\n * 1XXXXXXX 1XXXXXXX XXXXXXXX <- Values 16,384 to 4,194,303 (3 bytes)\n * ```\n *\n * @returns A `VariableSizeCodec<number | bigint, number>` for encoding and decoding `shortU16` values.\n *\n * @example\n * Encoding and decoding `shortU16` values.\n * ```ts\n * const codec = getShortU16Codec();\n * const bytes1 = codec.encode(42);    // 0x2a\n * const bytes2 = codec.encode(128);   // 0x8001\n * const bytes3 = codec.encode(16384); // 0x808001\n *\n * codec.decode(bytes1); // 42\n * codec.decode(bytes2); // 128\n * codec.decode(bytes3); // 16384\n * ```\n *\n * @remarks\n * This codec efficiently stores small numbers, making it useful for transactions and compact representations.\n *\n * If you need a fixed-size `u16` codec, consider using {@link getU16Codec}.\n *\n * Separate {@link getShortU16Encoder} and {@link getShortU16Decoder} functions are available.\n *\n * ```ts\n * const bytes = getShortU16Encoder().encode(42);\n * const value = getShortU16Decoder().decode(bytes);\n * ```\n *\n * @see {@link getShortU16Encoder}\n * @see {@link getShortU16Decoder}\n */\nexport const getShortU16Codec = (): VariableSizeCodec<bigint | number, number> =>\n    combineCodec(getShortU16Encoder(), getShortU16Decoder());\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { NumberCodecConfig } from './common';\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 128-bit unsigned integers (`u128`).\n *\n * This encoder serializes `u128` values using sixteen bytes in little-endian format by default.\n * You may specify big-endian storage using the `endian` option.\n *\n * For more details, see {@link getU128Codec}.\n *\n * @param config - Optional settings for endianness.\n * @returns A `FixedSizeEncoder<number | bigint, 16>` for encoding `u128` values.\n *\n * @example\n * Encoding a `u128` value.\n * ```ts\n * const encoder = getU128Encoder();\n * const bytes = encoder.encode(42n); // 0x2a000000000000000000000000000000\n * ```\n *\n * @see {@link getU128Codec}\n */\nexport const getU128Encoder = (config: NumberCodecConfig = {}): FixedSizeEncoder<bigint | number, 16> =>\n    numberEncoderFactory({\n        config,\n        name: 'u128',\n        range: [0n, BigInt('0xffffffffffffffffffffffffffffffff')],\n        set: (view, value, le) => {\n            const leftOffset = le ? 8 : 0;\n            const rightOffset = le ? 0 : 8;\n            const rightMask = 0xffffffffffffffffn;\n            view.setBigUint64(leftOffset, BigInt(value) >> 64n, le);\n            view.setBigUint64(rightOffset, BigInt(value) & rightMask, le);\n        },\n        size: 16,\n    });\n\n/**\n * Returns a decoder for 128-bit unsigned integers (`u128`).\n *\n * This decoder deserializes `u128` values from sixteen bytes in little-endian format by default.\n * You may specify big-endian storage using the `endian` option.\n *\n * For more details, see {@link getU128Codec}.\n *\n * @param config - Optional settings for endianness.\n * @returns A `FixedSizeDecoder<bigint, 16>` for decoding `u128` values.\n *\n * @example\n * Decoding a `u128` value.\n * ```ts\n * const decoder = getU128Decoder();\n * const value = decoder.decode(new Uint8Array([0x2a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00])); // 42n\n * ```\n *\n * @see {@link getU128Codec}\n */\nexport const getU128Decoder = (config: NumberCodecConfig = {}): FixedSizeDecoder<bigint, 16> =>\n    numberDecoderFactory({\n        config,\n        get: (view, le) => {\n            const leftOffset = le ? 8 : 0;\n            const rightOffset = le ? 0 : 8;\n            const left = view.getBigUint64(leftOffset, le);\n            const right = view.getBigUint64(rightOffset, le);\n            return (left << 64n) + right;\n        },\n        name: 'u128',\n        size: 16,\n    });\n\n/**\n * Returns a codec for encoding and decoding 128-bit unsigned integers (`u128`).\n *\n * This codec serializes `u128` values using 16 bytes.\n * Values can be provided as either `number` or `bigint`, but the decoded value is always a `bigint`.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeCodec<number | bigint, bigint, 16>` for encoding and decoding `u128` values.\n *\n * @example\n * Encoding and decoding a `u128` value.\n * ```ts\n * const codec = getU128Codec();\n * const bytes = codec.encode(42); // 0x2a000000000000000000000000000000\n * const value = codec.decode(bytes); // 42n\n * ```\n *\n * @example\n * Using big-endian encoding.\n * ```ts\n * const codec = getU128Codec({ endian: Endian.Big });\n * const bytes = codec.encode(42); // 0x0000000000000000000000000000002a\n * ```\n *\n * @remarks\n * This codec supports values between `0` and `2^128 - 1`.\n * Since JavaScript `number` cannot safely represent values beyond `2^53 - 1`, the decoded value is always a `bigint`.\n *\n * - If you need a smaller unsigned integer, consider using {@link getU64Codec} or {@link getU32Codec}.\n * - If you need signed integers, consider using {@link getI128Codec}.\n *\n * Separate {@link getU128Encoder} and {@link getU128Decoder} functions are available.\n *\n * ```ts\n * const bytes = getU128Encoder().encode(42);\n * const value = getU128Decoder().decode(bytes);\n * ```\n *\n * @see {@link getU128Encoder}\n * @see {@link getU128Decoder}\n */\nexport const getU128Codec = (config: NumberCodecConfig = {}): FixedSizeCodec<bigint | number, bigint, 16> =>\n    combineCodec(getU128Encoder(config), getU128Decoder(config));\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { NumberCodecConfig } from './common';\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 16-bit unsigned integers (`u16`).\n *\n * This encoder serializes `u16` values using two bytes in little-endian format by default.\n * You may specify big-endian storage using the `endian` option.\n *\n * For more details, see {@link getU16Codec}.\n *\n * @param config - Optional settings for endianness.\n * @returns A `FixedSizeEncoder<number | bigint, 2>` for encoding `u16` values.\n *\n * @example\n * Encoding a `u16` value.\n * ```ts\n * const encoder = getU16Encoder();\n * const bytes = encoder.encode(42); // 0x2a00\n * ```\n *\n * @see {@link getU16Codec}\n */\nexport const getU16Encoder = (config: NumberCodecConfig = {}): FixedSizeEncoder<bigint | number, 2> =>\n    numberEncoderFactory({\n        config,\n        name: 'u16',\n        range: [0, Number('0xffff')],\n        set: (view, value, le) => view.setUint16(0, Number(value), le),\n        size: 2,\n    });\n\n/**\n * Returns a decoder for 16-bit unsigned integers (`u16`).\n *\n * This decoder deserializes `u16` values from two bytes in little-endian format by default.\n * You may specify big-endian storage using the `endian` option.\n *\n * For more details, see {@link getU16Codec}.\n *\n * @param config - Optional settings for endianness.\n * @returns A `FixedSizeDecoder<number, 2>` for decoding `u16` values.\n *\n * @example\n * Decoding a `u16` value.\n * ```ts\n * const decoder = getU16Decoder();\n * const value = decoder.decode(new Uint8Array([0x2a, 0x00])); // 42\n * ```\n *\n * @see {@link getU16Codec}\n */\nexport const getU16Decoder = (config: NumberCodecConfig = {}): FixedSizeDecoder<number, 2> =>\n    numberDecoderFactory({\n        config,\n        get: (view, le) => view.getUint16(0, le),\n        name: 'u16',\n        size: 2,\n    });\n\n/**\n * Returns a codec for encoding and decoding 16-bit unsigned integers (`u16`).\n *\n * This codec serializes `u16` values using two bytes in little-endian format by default.\n * You may specify big-endian storage using the `endian` option.\n *\n * @param config - Optional settings for endianness.\n * @returns A `FixedSizeCodec<number | bigint, number, 2>` for encoding and decoding `u16` values.\n *\n * @example\n * Encoding and decoding a `u16` value.\n * ```ts\n * const codec = getU16Codec();\n * const bytes = codec.encode(42); // 0x2a00 (little-endian)\n * const value = codec.decode(bytes); // 42\n * ```\n *\n * @example\n * Storing values in big-endian format.\n * ```ts\n * const codec = getU16Codec({ endian: Endian.Big });\n * const bytes = codec.encode(42); // 0x002a\n * ```\n *\n * @remarks\n * This codec supports values between `0` and `2^16 - 1`.\n * If you need a larger range, consider using {@link getU32Codec} or {@link getU64Codec}.\n * For signed integers, use {@link getI16Codec}.\n *\n * Separate {@link getU16Encoder} and {@link getU16Decoder} functions are available.\n *\n * ```ts\n * const bytes = getU16Encoder().encode(42);\n * const value = getU16Decoder().decode(bytes);\n * ```\n *\n * @see {@link getU16Encoder}\n * @see {@link getU16Decoder}\n */\nexport const getU16Codec = (config: NumberCodecConfig = {}): FixedSizeCodec<bigint | number, number, 2> =>\n    combineCodec(getU16Encoder(config), getU16Decoder(config));\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { NumberCodecConfig } from './common';\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 32-bit unsigned integers (`u32`).\n *\n * This encoder serializes `u32` values using four bytes in little-endian format by default.\n * You may specify big-endian storage using the `endian` option.\n *\n * For more details, see {@link getU32Codec}.\n *\n * @param config - Optional settings for endianness.\n * @returns A `FixedSizeEncoder<bigint | number, 4>` for encoding `u32` values.\n *\n * @example\n * Encoding a `u32` value.\n * ```ts\n * const encoder = getU32Encoder();\n * const bytes = encoder.encode(42); // 0x2a000000\n * ```\n *\n * @see {@link getU32Codec}\n */\nexport const getU32Encoder = (config: NumberCodecConfig = {}): FixedSizeEncoder<bigint | number, 4> =>\n    numberEncoderFactory({\n        config,\n        name: 'u32',\n        range: [0, Number('0xffffffff')],\n        set: (view, value, le) => view.setUint32(0, Number(value), le),\n        size: 4,\n    });\n\n/**\n * Returns a decoder for 32-bit unsigned integers (`u32`).\n *\n * This decoder deserializes `u32` values from four bytes in little-endian format by default.\n * You may specify big-endian storage using the `endian` option.\n *\n * For more details, see {@link getU32Codec}.\n *\n * @param config - Optional settings for endianness.\n * @returns A `FixedSizeDecoder<number, 4>` for decoding `u32` values.\n *\n * @example\n * Decoding a `u32` value.\n * ```ts\n * const decoder = getU32Decoder();\n * const value = decoder.decode(new Uint8Array([0x2a, 0x00, 0x00, 0x00])); // 42\n * ```\n *\n * @see {@link getU32Codec}\n */\nexport const getU32Decoder = (config: NumberCodecConfig = {}): FixedSizeDecoder<number, 4> =>\n    numberDecoderFactory({\n        config,\n        get: (view, le) => view.getUint32(0, le),\n        name: 'u32',\n        size: 4,\n    });\n\n/**\n * Returns a codec for encoding and decoding 32-bit unsigned integers (`u32`).\n *\n * This codec serializes `u32` values using four bytes in little-endian format by default.\n * You may specify big-endian storage using the `endian` option.\n *\n * @param config - Optional settings for endianness.\n * @returns A `FixedSizeCodec<bigint | number, number, 4>` for encoding and decoding `u32` values.\n *\n * @example\n * Encoding and decoding a `u32` value.\n * ```ts\n * const codec = getU32Codec();\n * const bytes = codec.encode(42); // 0x2a000000 (little-endian)\n * const value = codec.decode(bytes); // 42\n * ```\n *\n * @example\n * Storing values in big-endian format.\n * ```ts\n * const codec = getU32Codec({ endian: Endian.Big });\n * const bytes = codec.encode(42); // 0x0000002a\n * ```\n *\n * @remarks\n * This codec only supports values between `0` and `2^32 - 1`.\n * If you need a larger range, consider using {@link getU64Codec} or {@link getU128Codec}.\n * For signed integers, use {@link getI32Codec}.\n *\n * Separate {@link getU32Encoder} and {@link getU32Decoder} functions are available.\n *\n * ```ts\n * const bytes = getU32Encoder().encode(42);\n * const value = getU32Decoder().decode(bytes);\n * ```\n *\n * @see {@link getU32Encoder}\n * @see {@link getU32Decoder}\n */\nexport const getU32Codec = (config: NumberCodecConfig = {}): FixedSizeCodec<bigint | number, number, 4> =>\n    combineCodec(getU32Encoder(config), getU32Decoder(config));\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { NumberCodecConfig } from './common';\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 64-bit unsigned integers (`u64`).\n *\n * This encoder serializes `u64` values using 8 bytes.\n * Values can be provided as either `number` or `bigint`.\n *\n * For more details, see {@link getU64Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeEncoder<number | bigint, 8>` for encoding `u64` values.\n *\n * @example\n * Encoding a `u64` value.\n * ```ts\n * const encoder = getU64Encoder();\n * const bytes = encoder.encode(42); // 0x2a00000000000000\n * ```\n *\n * @see {@link getU64Codec}\n */\nexport const getU64Encoder = (config: NumberCodecConfig = {}): FixedSizeEncoder<bigint | number, 8> =>\n    numberEncoderFactory({\n        config,\n        name: 'u64',\n        range: [0n, BigInt('0xffffffffffffffff')],\n        set: (view, value, le) => view.setBigUint64(0, BigInt(value), le),\n        size: 8,\n    });\n\n/**\n * Returns a decoder for 64-bit unsigned integers (`u64`).\n *\n * This decoder deserializes `u64` values from 8 bytes.\n * The decoded value is always a `bigint`.\n *\n * For more details, see {@link getU64Codec}.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeDecoder<bigint, 8>` for decoding `u64` values.\n *\n * @example\n * Decoding a `u64` value.\n * ```ts\n * const decoder = getU64Decoder();\n * const value = decoder.decode(new Uint8Array([0x2a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00])); // 42n\n * ```\n *\n * @see {@link getU64Codec}\n */\nexport const getU64Decoder = (config: NumberCodecConfig = {}): FixedSizeDecoder<bigint, 8> =>\n    numberDecoderFactory({\n        config,\n        get: (view, le) => view.getBigUint64(0, le),\n        name: 'u64',\n        size: 8,\n    });\n\n/**\n * Returns a codec for encoding and decoding 64-bit unsigned integers (`u64`).\n *\n * This codec serializes `u64` values using 8 bytes.\n * Values can be provided as either `number` or `bigint`, but the decoded value is always a `bigint`.\n *\n * @param config - Optional configuration to specify endianness (little by default).\n * @returns A `FixedSizeCodec<number | bigint, bigint, 8>` for encoding and decoding `u64` values.\n *\n * @example\n * Encoding and decoding a `u64` value.\n * ```ts\n * const codec = getU64Codec();\n * const bytes = codec.encode(42); // 0x2a00000000000000\n * const value = codec.decode(bytes); // 42n\n * ```\n *\n * @example\n * Using big-endian encoding.\n * ```ts\n * const codec = getU64Codec({ endian: Endian.Big });\n * const bytes = codec.encode(42); // 0x000000000000002a\n * ```\n *\n * @remarks\n * This codec supports values between `0` and `2^64 - 1`.\n * Since JavaScript `number` cannot safely represent values beyond `2^53 - 1`, the decoded value is always a `bigint`.\n *\n * - If you need a smaller unsigned integer, consider using {@link getU32Codec} or {@link getU16Codec}.\n * - If you need a larger unsigned integer, consider using {@link getU128Codec}.\n * - If you need signed integers, consider using {@link getI64Codec}.\n *\n * Separate {@link getU64Encoder} and {@link getU64Decoder} functions are available.\n *\n * ```ts\n * const bytes = getU64Encoder().encode(42);\n * const value = getU64Decoder().decode(bytes);\n * ```\n *\n * @see {@link getU64Encoder}\n * @see {@link getU64Decoder}\n */\nexport const getU64Codec = (config: NumberCodecConfig = {}): FixedSizeCodec<bigint | number, bigint, 8> =>\n    combineCodec(getU64Encoder(config), getU64Decoder(config));\n", "import { combineCodec, FixedSizeCodec, FixedSizeDecoder, FixedSizeEncoder } from '@solana/codecs-core';\n\nimport { numberDecoderFactory, numberEncoderFactory } from './utils';\n\n/**\n * Returns an encoder for 8-bit unsigned integers (`u8`).\n *\n * This encoder serializes `u8` values using a single byte.\n *\n * For more details, see {@link getU8Codec}.\n *\n * @returns A `FixedSizeEncoder<number | bigint, 1>` for encoding `u8` values.\n *\n * @example\n * Encoding a `u8` value.\n * ```ts\n * const encoder = getU8Encoder();\n * const bytes = encoder.encode(42); // 0x2a\n * ```\n *\n * @see {@link getU8Codec}\n */\nexport const getU8Encoder = (): FixedSizeEncoder<bigint | number, 1> =>\n    numberEncoderFactory({\n        name: 'u8',\n        range: [0, Number('0xff')],\n        set: (view, value) => view.setUint8(0, Number(value)),\n        size: 1,\n    });\n\n/**\n * Returns a decoder for 8-bit unsigned integers (`u8`).\n *\n * This decoder deserializes `u8` values from a single byte.\n *\n * For more details, see {@link getU8Codec}.\n *\n * @returns A `FixedSizeDecoder<number, 1>` for decoding `u8` values.\n *\n * @example\n * Decoding a `u8` value.\n * ```ts\n * const decoder = getU8Decoder();\n * const value = decoder.decode(new Uint8Array([0xff])); // 255\n * ```\n *\n * @see {@link getU8Codec}\n */\nexport const getU8Decoder = (): FixedSizeDecoder<number, 1> =>\n    numberDecoderFactory({\n        get: view => view.getUint8(0),\n        name: 'u8',\n        size: 1,\n    });\n\n/**\n * Returns a codec for encoding and decoding 8-bit unsigned integers (`u8`).\n *\n * This codec serializes `u8` values using a single byte.\n *\n * @returns A `FixedSizeCodec<number | bigint, number, 1>` for encoding and decoding `u8` values.\n *\n * @example\n * Encoding and decoding a `u8` value.\n * ```ts\n * const codec = getU8Codec();\n * const bytes = codec.encode(255); // 0xff\n * const value = codec.decode(bytes); // 255\n * ```\n *\n * @remarks\n * This codec supports values between `0` and `2^8 - 1` (0 to 255).\n * If you need larger integers, consider using {@link getU16Codec}, {@link getU32Codec}, or {@link getU64Codec}.\n * For signed integers, use {@link getI8Codec}.\n *\n * Separate {@link getU8Encoder} and {@link getU8Decoder} functions are available.\n *\n * ```ts\n * const bytes = getU8Encoder().encode(42);\n * const value = getU8Decoder().decode(bytes);\n * ```\n *\n * @see {@link getU8Encoder}\n * @see {@link getU8Decoder}\n */\nexport const getU8Codec = (): FixedSizeCodec<bigint | number, number, 1> =>\n    combineCodec(getU8Encoder(), getU8Decoder());\n", null, null, null, null, null, null, null, "// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}", "export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;", "import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;", "import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;", "import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;", "import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;", "import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}", "/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;", "import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;", "import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;", "// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;", "import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;", "export default '00000000-0000-0000-0000-000000000000';", "import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;", "export { default as v1 } from './v1.js';\nexport { default as v3 } from './v3.js';\nexport { default as v4 } from './v4.js';\nexport { default as v5 } from './v5.js';\nexport { default as NIL } from './nil.js';\nexport { default as version } from './version.js';\nexport { default as validate } from './validate.js';\nexport { default as stringify } from './stringify.js';\nexport { default as parse } from './parse.js';", "'use strict';\n\nconst uuid = require('uuid').v4;\n\n/**\n *  Generates a JSON-RPC 1.0 or 2.0 request\n *  @param {String} method Name of method to call\n *  @param {Array|Object} params Array of parameters passed to the method as specified, or an object of parameter names and corresponding value\n *  @param {String|Number|null} [id] Request ID can be a string, number, null for explicit notification or left out for automatic generation\n *  @param {Object} [options]\n *  @param {Number} [options.version=2] JSON-RPC version to use (1 or 2)\n *  @param {Boolean} [options.notificationIdNull=false] When true, version 2 requests will set id to null instead of omitting it\n *  @param {Function} [options.generator] Passed the request, and the options object and is expected to return a request ID\n *  @throws {TypeError} If any of the parameters are invalid\n *  @return {Object} A JSON-RPC 1.0 or 2.0 request\n *  @memberOf Utils\n */\nconst generateRequest = function(method, params, id, options) {\n  if(typeof method !== 'string') {\n    throw new TypeError(method + ' must be a string');\n  }\n\n  options = options || {};\n\n  // check valid version provided\n  const version = typeof options.version === 'number' ? options.version : 2;\n  if (version !== 1 && version !== 2) {\n    throw new TypeError(version + ' must be 1 or 2');\n  }\n\n  const request = {\n    method: method\n  };\n\n  if(version === 2) {\n    request.jsonrpc = '2.0';\n  }\n\n  if(params) {\n    // params given, but invalid?\n    if(typeof params !== 'object' && !Array.isArray(params)) {\n      throw new TypeError(params + ' must be an object, array or omitted');\n    }\n    request.params = params;\n  }\n\n  // if id was left out, generate one (null means explicit notification)\n  if(typeof(id) === 'undefined') {\n    const generator = typeof options.generator === 'function' ? options.generator : function() { return uuid(); };\n    request.id = generator(request, options);\n  } else if (version === 2 && id === null) {\n    // we have a version 2 notification\n    if (options.notificationIdNull) {\n      request.id = null; // id will not be set at all unless option provided\n    }\n  } else {\n    request.id = id;\n  }\n\n  return request;\n};\n\nmodule.exports = generateRequest;\n", "'use strict';\n\nconst uuid = require('uuid').v4;\nconst generateRequest = require('../../generateRequest');\n\n/**\n * Constructor for a Jayson Browser Client that does not depend any node.js core libraries\n * @class ClientBrowser\n * @param {Function} callServer Method that calls the server, receives the stringified request and a regular node-style callback\n * @param {Object} [options]\n * @param {Function} [options.reviver] Reviver function for JSON\n * @param {Function} [options.replacer] Replacer function for JSON\n * @param {Number} [options.version=2] JSON-RPC version to use (1|2)\n * @param {Function} [options.generator] Function to use for generating request IDs\n *  @param {Boolean} [options.notificationIdNull=false] When true, version 2 requests will set id to null instead of omitting it\n * @return {ClientBrowser}\n */\nconst ClientBrowser = function(callServer, options) {\n  if(!(this instanceof ClientBrowser)) {\n    return new ClientBrowser(callServer, options);\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  this.options = {\n    reviver: typeof options.reviver !== 'undefined' ? options.reviver : null,\n    replacer: typeof options.replacer !== 'undefined' ? options.replacer : null,\n    generator: typeof options.generator !== 'undefined' ? options.generator : function() { return uuid(); },\n    version: typeof options.version !== 'undefined' ? options.version : 2,\n    notificationIdNull: typeof options.notificationIdNull === 'boolean' ? options.notificationIdNull : false,\n  };\n\n  this.callServer = callServer;\n};\n\nmodule.exports = ClientBrowser;\n\n/**\n *  Creates a request and dispatches it if given a callback.\n *  @param {String|Array} method A batch request if passed an Array, or a method name if passed a String\n *  @param {Array|Object} [params] Parameters for the method\n *  @param {String|Number} [id] Optional id. If undefined an id will be generated. If null it creates a notification request\n *  @param {Function} [callback] Request callback. If specified, executes the request rather than only returning it.\n *  @throws {TypeError} Invalid parameters\n *  @return {Object} JSON-RPC 1.0 or 2.0 compatible request\n */\nClientBrowser.prototype.request = function(method, params, id, callback) {\n  const self = this;\n  let request = null;\n\n  // is this a batch request?\n  const isBatch = Array.isArray(method) && typeof params === 'function';\n\n  if (this.options.version === 1 && isBatch) {\n    throw new TypeError('JSON-RPC 1.0 does not support batching');\n  }\n\n  // is this a raw request?\n  const isRaw = !isBatch && method && typeof method === 'object' && typeof params === 'function';\n\n  if(isBatch || isRaw) {\n    callback = params;\n    request = method;\n  } else {\n    if(typeof id === 'function') {\n      callback = id;\n      // specifically undefined because \"null\" is a notification request\n      id = undefined;\n    }\n\n    const hasCallback = typeof callback === 'function';\n\n    try {\n      request = generateRequest(method, params, id, {\n        generator: this.options.generator,\n        version: this.options.version,\n        notificationIdNull: this.options.notificationIdNull,\n      });\n    } catch(err) {\n      if(hasCallback) {\n        callback(err);\n        return;\n      }\n      throw err;\n    }\n\n    // no callback means we should just return a raw request\n    if(!hasCallback) {\n      return request;\n    }\n\n  }\n\n  let message;\n  try {\n    message = JSON.stringify(request, this.options.replacer);\n  } catch(err) {\n    callback(err);\n    return;\n  }\n\n  this.callServer(message, function(err, response) {\n    self._parseResponse(err, response, callback);\n  });\n\n  // always return the raw request\n  return request;\n};\n\n/**\n * Parses a response from a server\n * @param {Object} err Error to pass on that is unrelated to the actual response\n * @param {String} responseText JSON-RPC 1.0 or 2.0 response\n * @param {Function} callback Callback that will receive different arguments depending on the amount of parameters\n * @private\n */\nClientBrowser.prototype._parseResponse = function(err, responseText, callback) {\n  if(err) {\n    callback(err);\n    return;\n  }\n\n  if(!responseText) {\n    // empty response text, assume that is correct because it could be a\n    // notification which jayson does not give any body for\n    callback();\n    return;\n  }\n\n  let response;\n  try {\n    response = JSON.parse(responseText, this.options.reviver);\n  } catch(err) {\n    callback(err);\n    return;\n  }\n\n  if(callback.length === 3) {\n    // if callback length is 3, we split callback arguments on error and response\n\n    // is batch response?\n    if(Array.isArray(response)) {\n\n      // necessary to split strictly on validity according to spec here\n      const isError = function(res) {\n        return typeof res.error !== 'undefined';\n      };\n\n      const isNotError = function (res) {\n        return !isError(res);\n      };\n\n      callback(null, response.filter(isError), response.filter(isNotError));\n      return;\n    } else {\n\n      // split regardless of validity\n      callback(null, response.error, response.result);\n      return;\n    }\n  \n  }\n\n  callback(null, response);\n};\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "/**\n * WebSocket implements a browser-side WebSocket specification.\n * @module Client\n */\n\n\"use strict\"\n\nimport { EventEmitter } from \"eventemitter3\"\n\nimport {\n    BrowserWebSocketType,\n    NodeWebSocketType,\n    IWSClientAdditionalOptions,\n} from \"./client.types.js\"\n\nexport type WebSocketBrowserOptions = {\n    /**\n     * One or more protocols passed to the websocket constructor\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/WebSocket\n     */\n    protocols?: string | string[]\n}\n\nclass WebSocketBrowserImpl extends EventEmitter\n{\n    socket: BrowserWebSocketType\n\n    /** Instantiate a WebSocket class\n   * @constructor\n   * @param {String} address - url to a websocket server\n   * @param {WebSocketBrowserOptions} options - websocket options\n   * @return {WebSocketBrowserImpl} - returns a WebSocket instance\n   */\n    constructor(address: string, options: WebSocketBrowserOptions)\n    {\n        super()\n\n        this.socket = new window.WebSocket(address, options.protocols)\n\n        this.socket.onopen = () => this.emit(\"open\")\n        this.socket.onmessage = (event) => this.emit(\"message\", event.data)\n        this.socket.onerror = (error) => this.emit(\"error\", error)\n        this.socket.onclose = (event) =>\n        {\n            this.emit(\"close\", event.code, event.reason)\n        }\n    }\n\n    /**\n   * Sends data through a websocket connection\n   * @method\n   * @param {(String|Object)} data - data to be sent via websocket\n   * @param {Object} optionsOrCallback - ws options\n   * @param {Function} callback - a callback called once the data is sent\n   * @return {Undefined}\n   */\n    send(\n        data: Parameters<BrowserWebSocketType[\"send\"]>[0],\n        optionsOrCallback: (\n      error?: Error\n    ) => void | Parameters<NodeWebSocketType[\"send\"]>[1],\n        callback?: () => void\n    )\n    {\n        const cb = callback || optionsOrCallback\n\n        try\n        {\n            this.socket.send(data)\n            cb()\n        }\n        catch (error)\n        {\n            cb(error)\n        }\n    }\n\n    /**\n   * Closes an underlying socket\n   * @method\n   * @param {Number} code - status code explaining why the connection is being closed\n   * @param {String} reason - a description why the connection is closing\n   * @return {Undefined}\n   * @throws {Error}\n   */\n    close(code?: number, reason?: string)\n    {\n        this.socket.close(code, reason)\n    }\n\n    addEventListener<K extends keyof WebSocketEventMap>(\n        type: K,\n        listener: (ev: WebSocketEventMap[K]) => any,\n        options?: boolean | AddEventListenerOptions\n    ): void\n    {\n        this.socket.addEventListener(type, listener, options)\n    }\n}\n\n/**\n * factory method for common WebSocket instance\n * @method\n * @param {String} address - url to a websocket server\n * @param {(Object)} options - websocket options\n * @return {Undefined}\n */\nexport function WebSocket(\n    address: string,\n    options: IWSClientAdditionalOptions & WebSocketBrowserOptions\n)\n{\n    return new WebSocketBrowserImpl(address, options)\n}\n", "\"use strict\"\n\nexport interface DataPack<\n  T,\n  R extends string | ArrayBufferLike | Blob | ArrayBufferView\n> {\n  encode(value: T): R;\n  decode(value: R): T;\n}\n\nexport class DefaultDataPack implements DataPack<Object, string>\n{\n    encode(value: Object): string\n    {\n        return JSON.stringify(value)\n    }\n\n    decode(value: string): Object\n    {\n        return JSON.parse(value)\n    }\n}\n", "/**\n * \"Client\" wraps \"ws\" or a browser-implemented \"WebSocket\" library\n * according to the environment providing JSON RPC 2.0 support on top.\n * @module Client\n */\n\n\"use strict\"\n\nimport NodeWebSocket from \"ws\"\nimport { EventEmitter } from \"eventemitter3\"\nimport {\n    ICommonWebSocket,\n    IWSClientAdditionalOptions,\n    NodeWebSocketType,\n    ICommonWebSocketFactory,\n} from \"./client/client.types.js\"\n\nimport { DataPack, DefaultDataPack } from \"./utils.js\"\n\ninterface IQueueElement {\n  promise: [\n    Parameters<ConstructorParameters<typeof Promise>[0]>[0],\n    Parameters<ConstructorParameters<typeof Promise>[0]>[1]\n  ];\n  timeout?: ReturnType<typeof setTimeout>;\n}\n\nexport interface IQueue {\n  [x: number | string]: IQueueElement;\n}\n\nexport interface IWSRequestParams {\n  [x: string]: any;\n  [x: number]: any;\n}\n\nexport class CommonClient extends EventEmitter\n{\n    private address: string\n    private rpc_id: number | string\n    private queue: IQueue\n    private options: IWSClientAdditionalOptions & NodeWebSocket.ClientOptions\n    private autoconnect: boolean\n    private ready: boolean\n    private reconnect: boolean\n    private reconnect_timer_id: NodeJS.Timeout\n    private reconnect_interval: number\n    private max_reconnects: number\n    private rest_options: IWSClientAdditionalOptions &\n    NodeWebSocket.ClientOptions\n    private current_reconnects: number\n    private generate_request_id: (\n    method: string,\n    params: object | Array<any>\n  ) => number | string\n    private socket: ICommonWebSocket\n    private webSocketFactory: ICommonWebSocketFactory\n    private dataPack: DataPack<object, string>\n\n    /**\n   * Instantiate a Client class.\n   * @constructor\n   * @param {webSocketFactory} webSocketFactory - factory method for WebSocket\n   * @param {String} address - url to a websocket server\n   * @param {Object} options - ws options object with reconnect parameters\n   * @param {Function} generate_request_id - custom generation request Id\n   * @param {DataPack} dataPack - data pack contains encoder and decoder\n   * @return {CommonClient}\n   */\n    constructor(\n        webSocketFactory: ICommonWebSocketFactory,\n        address = \"ws://localhost:8080\",\n        {\n            autoconnect = true,\n            reconnect = true,\n            reconnect_interval = 1000,\n            max_reconnects = 5,\n            ...rest_options\n        } = {},\n        generate_request_id?: (\n      method: string,\n      params: object | Array<any>\n    ) => number | string,\n        dataPack?: DataPack<object, string>\n    )\n    {\n        super()\n\n        this.webSocketFactory = webSocketFactory\n\n        this.queue = {}\n        this.rpc_id = 0\n\n        this.address = address\n        this.autoconnect = autoconnect\n        this.ready = false\n        this.reconnect = reconnect\n        this.reconnect_timer_id = undefined\n        this.reconnect_interval = reconnect_interval\n        this.max_reconnects = max_reconnects\n        this.rest_options = rest_options\n        this.current_reconnects = 0\n        this.generate_request_id = generate_request_id || (() => typeof this.rpc_id === \"number\"\n            ? ++this.rpc_id\n            : Number(this.rpc_id) + 1)\n\n        if (!dataPack) this.dataPack = new DefaultDataPack()\n        else this.dataPack = dataPack\n\n        if (this.autoconnect)\n            this._connect(this.address, {\n                autoconnect: this.autoconnect,\n                reconnect: this.reconnect,\n                reconnect_interval: this.reconnect_interval,\n                max_reconnects: this.max_reconnects,\n                ...this.rest_options,\n            })\n    }\n\n    /**\n   * Connects to a defined server if not connected already.\n   * @method\n   * @return {Undefined}\n   */\n    connect()\n    {\n        if (this.socket) return\n\n        this._connect(this.address, {\n            autoconnect: this.autoconnect,\n            reconnect: this.reconnect,\n            reconnect_interval: this.reconnect_interval,\n            max_reconnects: this.max_reconnects,\n            ...this.rest_options,\n        })\n    }\n\n    /**\n   * Calls a registered RPC method on server.\n   * @method\n   * @param {String} method - RPC method name\n   * @param {Object|Array} params - optional method parameters\n   * @param {Number} timeout - RPC reply timeout value\n   * @param {Object} ws_opts - options passed to ws\n   * @return {Promise}\n   */\n    call(\n        method: string,\n        params?: IWSRequestParams,\n        timeout?: number,\n        ws_opts?: Parameters<NodeWebSocketType[\"send\"]>[1]\n    )\n    {\n        if (!ws_opts && \"object\" === typeof timeout)\n        {\n            ws_opts = timeout\n            timeout = null\n        }\n\n        return new Promise((resolve, reject) =>\n        {\n            if (!this.ready) return reject(new Error(\"socket not ready\"))\n\n            const rpc_id = this.generate_request_id(method, params)\n\n            const message = {\n                jsonrpc: \"2.0\",\n                method: method,\n                params: params || undefined,\n                id: rpc_id,\n            }\n\n            this.socket.send(this.dataPack.encode(message), ws_opts, (error) =>\n            {\n                if (error) return reject(error)\n\n                this.queue[rpc_id] = { promise: [resolve, reject] }\n\n                if (timeout)\n                {\n                    this.queue[rpc_id].timeout = setTimeout(() =>\n                    {\n                        delete this.queue[rpc_id]\n                        reject(new Error(\"reply timeout\"))\n                    }, timeout)\n                }\n            })\n        })\n    }\n\n    /**\n   * Logins with the other side of the connection.\n   * @method\n   * @param {Object} params - Login credentials object\n   * @return {Promise}\n   */\n    async login(params: IWSRequestParams)\n    {\n        const resp = await this.call(\"rpc.login\", params)\n\n        if (!resp) throw new Error(\"authentication failed\")\n\n        return resp\n    }\n\n    /**\n   * Fetches a list of client's methods registered on server.\n   * @method\n   * @return {Array}\n   */\n    async listMethods()\n    {\n        return await this.call(\"__listMethods\")\n    }\n\n    /**\n   * Sends a JSON-RPC 2.0 notification to server.\n   * @method\n   * @param {String} method - RPC method name\n   * @param {Object} params - optional method parameters\n   * @return {Promise}\n   */\n    notify(method: string, params?: IWSRequestParams)\n    {\n        return new Promise<void>((resolve, reject) =>\n        {\n            if (!this.ready) return reject(new Error(\"socket not ready\"))\n\n            const message = {\n                jsonrpc: \"2.0\",\n                method: method,\n                params,\n            }\n\n            this.socket.send(this.dataPack.encode(message), (error) =>\n            {\n                if (error) return reject(error)\n\n                resolve()\n            })\n        })\n    }\n\n    /**\n   * Subscribes for a defined event.\n   * @method\n   * @param {String|Array} event - event name\n   * @return {Undefined}\n   * @throws {Error}\n   */\n    async subscribe(event: string | Array<string>)\n    {\n        if (typeof event === \"string\") event = [event]\n\n        const result = await this.call(\"rpc.on\", event)\n\n        if (typeof event === \"string\" && result[event] !== \"ok\")\n            throw new Error(\n                \"Failed subscribing to an event '\" + event + \"' with: \" + result[event]\n            )\n\n        return result\n    }\n\n    /**\n   * Unsubscribes from a defined event.\n   * @method\n   * @param {String|Array} event - event name\n   * @return {Undefined}\n   * @throws {Error}\n   */\n    async unsubscribe(event: string | Array<string>)\n    {\n        if (typeof event === \"string\") event = [event]\n\n        const result = await this.call(\"rpc.off\", event)\n\n        if (typeof event === \"string\" && result[event] !== \"ok\")\n            throw new Error(\"Failed unsubscribing from an event with: \" + result)\n\n        return result\n    }\n\n    /**\n   * Closes a WebSocket connection gracefully.\n   * @method\n   * @param {Number} code - socket close code\n   * @param {String} data - optional data to be sent before closing\n   * @return {Undefined}\n   */\n    close(code?: number, data?: string)\n    {\n        if (this.socket) this.socket.close(code || 1000, data)\n    }\n\n    /**\n   * Enable / disable automatic reconnection.\n   * @method\n   * @param {Boolean} reconnect - enable / disable reconnection\n   * @return {Undefined}\n   */\n    setAutoReconnect(reconnect: boolean)\n    {\n        this.reconnect = reconnect\n    }\n\n    /**\n   * Set the interval between reconnection attempts.\n   * @method\n   * @param {Number} interval - reconnection interval in milliseconds\n   * @return {Undefined}\n   */\n    setReconnectInterval(interval: number)\n    {\n        this.reconnect_interval = interval\n    }\n\n    /**\n   * Set the maximum number of reconnection attempts.\n   * @method\n   * @param {Number} max_reconnects - maximum reconnection attempts\n   * @return {Undefined}\n   */\n    setMaxReconnects(max_reconnects: number)\n    {\n        this.max_reconnects = max_reconnects\n    }\n\n    /**\n   * Get the current number of reconnection attempts made.\n   * @method\n   * @return {Number} current reconnection attempts\n   */\n    getCurrentReconnects()\n    {\n        return this.current_reconnects\n    }\n\n    /**\n   * Get the maximum number of reconnection attempts.\n   * @method\n   * @return {Number} maximum reconnection attempts\n   */\n    getMaxReconnects()\n    {\n        return this.max_reconnects\n    }\n\n    /**\n   * Check if the client is currently attempting to reconnect.\n   * @method\n   * @return {Boolean} true if reconnection is in progress\n   */\n    isReconnecting()\n    {\n        return this.reconnect_timer_id !== undefined\n    }\n\n    /**\n   * Check if the client will attempt to reconnect on the next close event.\n   * @method\n   * @return {Boolean} true if reconnection will be attempted\n   */\n    willReconnect()\n    {\n        return this.reconnect &&\n            (this.max_reconnects === 0 || this.current_reconnects < this.max_reconnects)\n    }\n\n    /**\n   * Connection/Message handler.\n   * @method\n   * @private\n   * @param {String} address - WebSocket API address\n   * @param {Object} options - ws options object\n   * @return {Undefined}\n   */\n    private _connect(\n        address: string,\n        options: IWSClientAdditionalOptions & NodeWebSocket.ClientOptions\n    )\n    {\n        clearTimeout(this.reconnect_timer_id)\n        this.socket = this.webSocketFactory(address, options)\n\n        this.socket.addEventListener(\"open\", () =>\n        {\n            this.ready = true\n            this.emit(\"open\")\n            this.current_reconnects = 0\n        })\n\n        this.socket.addEventListener(\"message\", ({ data: message }) =>\n        {\n            if (message instanceof ArrayBuffer)\n                message = Buffer.from(message).toString()\n\n            try\n            {\n                message = this.dataPack.decode(message)\n            }\n            catch (error)\n            {\n                return\n            }\n\n            // check if any listeners are attached and forward event\n            if (message.notification && this.listeners(message.notification).length)\n            {\n                if (!Object.keys(message.params).length)\n                    return this.emit(message.notification)\n\n                const args = [message.notification]\n\n                if (message.params.constructor === Object) args.push(message.params)\n                // using for-loop instead of unshift/spread because performance is better\n                else\n                    for (let i = 0; i < message.params.length; i++)\n                        args.push(message.params[i])\n\n                // run as microtask so that pending queue messages are resolved first\n                // eslint-disable-next-line prefer-spread\n                return Promise.resolve().then(() =>\n                {\n                    // eslint-disable-next-line prefer-spread\n                    this.emit.apply(this, args)\n                })\n            }\n\n            if (!this.queue[message.id])\n            {\n                // general JSON RPC 2.0 events\n                if (message.method)\n                {\n                    // run as microtask so that pending queue messages are resolved first\n                    return Promise.resolve().then(() =>\n                    {\n                        this.emit(message.method, message?.params)\n                    })\n                }\n\n                return\n            }\n\n            // reject early since server's response is invalid\n            if (\"error\" in message === \"result\" in message)\n                this.queue[message.id].promise[1](\n                    new Error(\n                        \"Server response malformed. Response must include either \\\"result\\\"\" +\n              \" or \\\"error\\\", but not both.\"\n                    )\n                )\n\n            if (this.queue[message.id].timeout)\n                clearTimeout(this.queue[message.id].timeout)\n\n            if (message.error) this.queue[message.id].promise[1](message.error)\n            else this.queue[message.id].promise[0](message.result)\n\n            delete this.queue[message.id]\n        })\n\n        this.socket.addEventListener(\"error\", (error) => this.emit(\"error\", error))\n\n        this.socket.addEventListener(\"close\", ({ code, reason }) =>\n        {\n            if (this.ready)\n            // Delay close event until internal state is updated\n                setTimeout(() => this.emit(\"close\", code, reason), 0)\n\n            this.ready = false\n            this.socket = undefined\n\n            if (code === 1000) return\n\n            this.current_reconnects++\n\n            if (\n                this.reconnect &&\n        (this.max_reconnects > this.current_reconnects ||\n          this.max_reconnects === 0)\n            )\n                this.reconnect_timer_id = setTimeout(\n                    () => this._connect(address, options),\n                    this.reconnect_interval\n                )\n            else if (this.reconnect && this.max_reconnects > 0 &&\n                this.current_reconnects >= this.max_reconnects)\n            {\n                // Emit event when max reconnects reached, after close event\n                setTimeout(() => this.emit(\"max_reconnects_reached\", code, reason), 1)\n            }\n        })\n    }\n}\n", "\"use strict\"\n\nimport { WebSocket, WebSocketBrowserOptions } from \"./lib/client/websocket.browser.js\"\nimport { CommonClient } from \"./lib/client.js\"\nimport { IWSClientAdditionalOptions } from \"./lib/client/client.types.js\"\n\nexport class Client extends CommonClient\n{\n    constructor(\n        address = \"ws://localhost:8080\",\n        {\n            autoconnect = true,\n            reconnect = true,\n            reconnect_interval = 1000,\n            max_reconnects = 5,\n            ...rest_options\n        }: IWSClientAdditionalOptions & WebSocketBrowserOptions = {},\n        generate_request_id?: (\n      method: string,\n      params: object | Array<any>\n    ) => number | string\n    )\n    {\n        super(\n            WebSocket,\n            address,\n            {\n                autoconnect,\n                reconnect,\n                reconnect_interval,\n                max_reconnects,\n                ...rest_options,\n            },\n            generate_request_id\n        )\n    }\n}\n\nexport * from \"./lib/client.js\"\nexport * from \"./lib/client/websocket.browser.js\"\nexport * from \"./lib/client/client.types.js\"\nexport * from \"./lib/utils.js\"\n", "/**\n * SHA3 (keccak) hash function, based on a new \"Sponge function\" design.\n * Different from older hashes, the internal state is bigger than output size.\n *\n * Check out [FIPS-202](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf),\n * [Website](https://keccak.team/keccak.html),\n * [the differences between SHA-3 and Keccak](https://crypto.stackexchange.com/questions/15727/what-are-the-key-differences-between-the-draft-sha-3-standard-and-the-keccak-sub).\n *\n * Check out `sha3-addons` module for cSHAKE, k12, and others.\n * @module\n */\nimport { rotlBH, rotlBL, rotlSH, rotlSL, split } from './_u64.ts';\n// prettier-ignore\nimport {\n  abytes, aexists, anumber, aoutput,\n  clean, createHasher, createXOFer, Hash,\n  swap32IfBE,\n  toBytes, u32,\n  type CHash, type CHashXO, type HashXOF, type Input\n} from './utils.ts';\n\n// No __PURE__ annotations in sha3 header:\n// EVERYTHING is in fact used on every export.\n// Various per round constants calculations\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _7n = BigInt(7);\nconst _256n = BigInt(256);\nconst _0x71n = BigInt(0x71);\nconst SHA3_PI: number[] = [];\nconst SHA3_ROTL: number[] = [];\nconst _SHA3_IOTA: bigint[] = [];\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n  // Pi\n  [x, y] = [y, (2 * x + 3 * y) % 5];\n  SHA3_PI.push(2 * (5 * y + x));\n  // Rotational\n  SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n  // Iota\n  let t = _0n;\n  for (let j = 0; j < 7; j++) {\n    R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n    if (R & _2n) t ^= _1n << ((_1n << /* @__PURE__ */ BigInt(j)) - _1n);\n  }\n  _SHA3_IOTA.push(t);\n}\nconst IOTAS = split(_SHA3_IOTA, true);\nconst SHA3_IOTA_H = IOTAS[0];\nconst SHA3_IOTA_L = IOTAS[1];\n\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h: number, l: number, s: number) => (s > 32 ? rotlBH(h, l, s) : rotlSH(h, l, s));\nconst rotlL = (h: number, l: number, s: number) => (s > 32 ? rotlBL(h, l, s) : rotlSL(h, l, s));\n\n/** `keccakf1600` internal function, additionally allows to adjust round count. */\nexport function keccakP(s: Uint32Array, rounds: number = 24): void {\n  const B = new Uint32Array(5 * 2);\n  // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n  for (let round = 24 - rounds; round < 24; round++) {\n    // Theta \u03B8\n    for (let x = 0; x < 10; x++) B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n    for (let x = 0; x < 10; x += 2) {\n      const idx1 = (x + 8) % 10;\n      const idx0 = (x + 2) % 10;\n      const B0 = B[idx0];\n      const B1 = B[idx0 + 1];\n      const Th = rotlH(B0, B1, 1) ^ B[idx1];\n      const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n      for (let y = 0; y < 50; y += 10) {\n        s[x + y] ^= Th;\n        s[x + y + 1] ^= Tl;\n      }\n    }\n    // Rho (\u03C1) and Pi (\u03C0)\n    let curH = s[2];\n    let curL = s[3];\n    for (let t = 0; t < 24; t++) {\n      const shift = SHA3_ROTL[t];\n      const Th = rotlH(curH, curL, shift);\n      const Tl = rotlL(curH, curL, shift);\n      const PI = SHA3_PI[t];\n      curH = s[PI];\n      curL = s[PI + 1];\n      s[PI] = Th;\n      s[PI + 1] = Tl;\n    }\n    // Chi (\u03C7)\n    for (let y = 0; y < 50; y += 10) {\n      for (let x = 0; x < 10; x++) B[x] = s[y + x];\n      for (let x = 0; x < 10; x++) s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n    }\n    // Iota (\u03B9)\n    s[0] ^= SHA3_IOTA_H[round];\n    s[1] ^= SHA3_IOTA_L[round];\n  }\n  clean(B);\n}\n\n/** Keccak sponge function. */\nexport class Keccak extends Hash<Keccak> implements HashXOF<Keccak> {\n  protected state: Uint8Array;\n  protected pos = 0;\n  protected posOut = 0;\n  protected finished = false;\n  protected state32: Uint32Array;\n  protected destroyed = false;\n\n  public blockLen: number;\n  public suffix: number;\n  public outputLen: number;\n  protected enableXOF = false;\n  protected rounds: number;\n\n  // NOTE: we accept arguments in bytes instead of bits here.\n  constructor(\n    blockLen: number,\n    suffix: number,\n    outputLen: number,\n    enableXOF = false,\n    rounds: number = 24\n  ) {\n    super();\n    this.blockLen = blockLen;\n    this.suffix = suffix;\n    this.outputLen = outputLen;\n    this.enableXOF = enableXOF;\n    this.rounds = rounds;\n    // Can be passed from user as dkLen\n    anumber(outputLen);\n    // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n    // 0 < blockLen < 200\n    if (!(0 < blockLen && blockLen < 200))\n      throw new Error('only keccak-f1600 function is supported');\n    this.state = new Uint8Array(200);\n    this.state32 = u32(this.state);\n  }\n  clone(): Keccak {\n    return this._cloneInto();\n  }\n  protected keccak(): void {\n    swap32IfBE(this.state32);\n    keccakP(this.state32, this.rounds);\n    swap32IfBE(this.state32);\n    this.posOut = 0;\n    this.pos = 0;\n  }\n  update(data: Input): this {\n    aexists(this);\n    data = toBytes(data);\n    abytes(data);\n    const { blockLen, state } = this;\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      for (let i = 0; i < take; i++) state[this.pos++] ^= data[pos++];\n      if (this.pos === blockLen) this.keccak();\n    }\n    return this;\n  }\n  protected finish(): void {\n    if (this.finished) return;\n    this.finished = true;\n    const { state, suffix, pos, blockLen } = this;\n    // Do the padding\n    state[pos] ^= suffix;\n    if ((suffix & 0x80) !== 0 && pos === blockLen - 1) this.keccak();\n    state[blockLen - 1] ^= 0x80;\n    this.keccak();\n  }\n  protected writeInto(out: Uint8Array): Uint8Array {\n    aexists(this, false);\n    abytes(out);\n    this.finish();\n    const bufferOut = this.state;\n    const { blockLen } = this;\n    for (let pos = 0, len = out.length; pos < len; ) {\n      if (this.posOut >= blockLen) this.keccak();\n      const take = Math.min(blockLen - this.posOut, len - pos);\n      out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n      this.posOut += take;\n      pos += take;\n    }\n    return out;\n  }\n  xofInto(out: Uint8Array): Uint8Array {\n    // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n    if (!this.enableXOF) throw new Error('XOF is not possible for this instance');\n    return this.writeInto(out);\n  }\n  xof(bytes: number): Uint8Array {\n    anumber(bytes);\n    return this.xofInto(new Uint8Array(bytes));\n  }\n  digestInto(out: Uint8Array): Uint8Array {\n    aoutput(out, this);\n    if (this.finished) throw new Error('digest() was already called');\n    this.writeInto(out);\n    this.destroy();\n    return out;\n  }\n  digest(): Uint8Array {\n    return this.digestInto(new Uint8Array(this.outputLen));\n  }\n  destroy(): void {\n    this.destroyed = true;\n    clean(this.state);\n  }\n  _cloneInto(to?: Keccak): Keccak {\n    const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n    to ||= new Keccak(blockLen, suffix, outputLen, enableXOF, rounds);\n    to.state32.set(this.state32);\n    to.pos = this.pos;\n    to.posOut = this.posOut;\n    to.finished = this.finished;\n    to.rounds = rounds;\n    // Suffix can change in cSHAKE\n    to.suffix = suffix;\n    to.outputLen = outputLen;\n    to.enableXOF = enableXOF;\n    to.destroyed = this.destroyed;\n    return to;\n  }\n}\n\nconst gen = (suffix: number, blockLen: number, outputLen: number) =>\n  createHasher(() => new Keccak(blockLen, suffix, outputLen));\n\n/** SHA3-224 hash function. */\nexport const sha3_224: CHash = /* @__PURE__ */ (() => gen(0x06, 144, 224 / 8))();\n/** SHA3-256 hash function. Different from keccak-256. */\nexport const sha3_256: CHash = /* @__PURE__ */ (() => gen(0x06, 136, 256 / 8))();\n/** SHA3-384 hash function. */\nexport const sha3_384: CHash = /* @__PURE__ */ (() => gen(0x06, 104, 384 / 8))();\n/** SHA3-512 hash function. */\nexport const sha3_512: CHash = /* @__PURE__ */ (() => gen(0x06, 72, 512 / 8))();\n\n/** keccak-224 hash function. */\nexport const keccak_224: CHash = /* @__PURE__ */ (() => gen(0x01, 144, 224 / 8))();\n/** keccak-256 hash function. Different from SHA3-256. */\nexport const keccak_256: CHash = /* @__PURE__ */ (() => gen(0x01, 136, 256 / 8))();\n/** keccak-384 hash function. */\nexport const keccak_384: CHash = /* @__PURE__ */ (() => gen(0x01, 104, 384 / 8))();\n/** keccak-512 hash function. */\nexport const keccak_512: CHash = /* @__PURE__ */ (() => gen(0x01, 72, 512 / 8))();\n\nexport type ShakeOpts = { dkLen?: number };\n\nconst genShake = (suffix: number, blockLen: number, outputLen: number) =>\n  createXOFer<HashXOF<Keccak>, ShakeOpts>(\n    (opts: ShakeOpts = {}) =>\n      new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true)\n  );\n\n/** SHAKE128 XOF with 128-bit security. */\nexport const shake128: CHashXO = /* @__PURE__ */ (() => genShake(0x1f, 168, 128 / 8))();\n/** SHAKE256 XOF with 256-bit security. */\nexport const shake256: CHashXO = /* @__PURE__ */ (() => genShake(0x1f, 136, 256 / 8))();\n", "/**\n * HMAC: RFC2104 message authentication code.\n * @module\n */\nimport { abytes, aexists, ahash, clean, Hash, toBytes, type CHash, type Input } from './utils.ts';\n\nexport class HMAC<T extends Hash<T>> extends Hash<HMAC<T>> {\n  oHash: T;\n  iHash: T;\n  blockLen: number;\n  outputLen: number;\n  private finished = false;\n  private destroyed = false;\n\n  constructor(hash: CHash, _key: Input) {\n    super();\n    ahash(hash);\n    const key = toBytes(_key);\n    this.iHash = hash.create() as T;\n    if (typeof this.iHash.update !== 'function')\n      throw new Error('Expected instance of class which extends utils.Hash');\n    this.blockLen = this.iHash.blockLen;\n    this.outputLen = this.iHash.outputLen;\n    const blockLen = this.blockLen;\n    const pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n    this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    this.oHash = hash.create() as T;\n    // Undo internal XOR && apply outer XOR\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n    this.oHash.update(pad);\n    clean(pad);\n  }\n  update(buf: Input): this {\n    aexists(this);\n    this.iHash.update(buf);\n    return this;\n  }\n  digestInto(out: Uint8Array): void {\n    aexists(this);\n    abytes(out, this.outputLen);\n    this.finished = true;\n    this.iHash.digestInto(out);\n    this.oHash.update(out);\n    this.oHash.digestInto(out);\n    this.destroy();\n  }\n  digest(): Uint8Array {\n    const out = new Uint8Array(this.oHash.outputLen);\n    this.digestInto(out);\n    return out;\n  }\n  _cloneInto(to?: HMAC<T>): HMAC<T> {\n    // Create new instance without calling constructor since key already in state and we don't know it.\n    to ||= Object.create(Object.getPrototypeOf(this), {});\n    const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n    to = to as this;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    to.blockLen = blockLen;\n    to.outputLen = outputLen;\n    to.oHash = oHash._cloneInto(to.oHash);\n    to.iHash = iHash._cloneInto(to.iHash);\n    return to;\n  }\n  clone(): HMAC<T> {\n    return this._cloneInto();\n  }\n  destroy(): void {\n    this.destroyed = true;\n    this.oHash.destroy();\n    this.iHash.destroy();\n  }\n}\n\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n * @example\n * import { hmac } from '@noble/hashes/hmac';\n * import { sha256 } from '@noble/hashes/sha2';\n * const mac1 = hmac(sha256, 'key', 'message');\n */\nexport const hmac: {\n  (hash: CHash, key: Input, message: Input): Uint8Array;\n  create(hash: CHash, key: Input): HMAC<any>;\n} = (hash: CHash, key: Input, message: Input): Uint8Array =>\n  new HMAC<any>(hash, key).update(message).digest();\nhmac.create = (hash: CHash, key: Input) => new HMAC<any>(hash, key);\n", "/**\n * Short Weierstrass curve methods. The formula is: y\u00B2 = x\u00B3 + ax + b.\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac as nobleHmac } from '@noble/hashes/hmac.js';\nimport { ahash } from '@noble/hashes/utils';\nimport {\n  _validateObject,\n  _abool2 as abool,\n  _abytes2 as abytes,\n  aInRange,\n  bitLen,\n  bitMask,\n  bytesToHex,\n  bytesToNumberBE,\n  concatBytes,\n  createHmacDrbg,\n  ensureBytes,\n  hexToBytes,\n  inRange,\n  isBytes,\n  memoized,\n  numberToHexUnpadded,\n  randomBytes as randomBytesWeb,\n  type CHash,\n  type Hex,\n  type PrivKey,\n} from '../utils.ts';\nimport {\n  _createCurveFields,\n  mulEndoUnsafe,\n  negateCt,\n  normalizeZ,\n  pippenger,\n  wNAF,\n  type AffinePoint,\n  type BasicCurve,\n  type CurveLengths,\n  type CurvePoint,\n  type CurvePointCons,\n} from './curve.ts';\nimport {\n  Field,\n  FpInvertBatch,\n  getMinHashLength,\n  mapHashToField,\n  nLength,\n  validateField,\n  type IField,\n  type NLength,\n} from './modular.ts';\n\nexport type { AffinePoint };\nexport type HmacFnSync = (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array;\n\ntype EndoBasis = [[bigint, bigint], [bigint, bigint]];\n/**\n * When Weierstrass curve has `a=0`, it becomes Koblitz curve.\n * Koblitz curves allow using **efficiently-computable GLV endomorphism \u03C8**.\n * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n *\n * Endomorphism consists of beta, lambda and splitScalar:\n *\n * 1. GLV endomorphism \u03C8 transforms a point: `P = (x, y) \u21A6 \u03C8(P) = (\u03B2\u00B7x mod p, y)`\n * 2. GLV scalar decomposition transforms a scalar: `k \u2261 k\u2081 + k\u2082\u00B7\u03BB (mod n)`\n * 3. Then these are combined: `k\u00B7P = k\u2081\u00B7P + k\u2082\u00B7\u03C8(P)`\n * 4. Two 128-bit point-by-scalar multiplications + one point addition is faster than\n *    one 256-bit multiplication.\n *\n * where\n * * beta: \u03B2 \u2208 F\u209A with \u03B2\u00B3 = 1, \u03B2 \u2260 1\n * * lambda: \u03BB \u2208 F\u2099 with \u03BB\u00B3 = 1, \u03BB \u2260 1\n * * splitScalar decomposes k \u21A6 k\u2081, k\u2082, by using reduced basis vectors.\n *   Gauss lattice reduction calculates them from initial basis vectors `(n, 0), (-\u03BB, 0)`\n *\n * Check out `test/misc/endomorphism.js` and\n * [gist](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).\n */\nexport type EndomorphismOpts = {\n  beta: bigint;\n  basises?: EndoBasis;\n  splitScalar?: (k: bigint) => { k1neg: boolean; k1: bigint; k2neg: boolean; k2: bigint };\n};\n\n// We construct basis in such way that den is always positive and equals n, but num sign depends on basis (not on secret value)\nconst divNearest = (num: bigint, den: bigint) => (num + (num >= 0 ? den : -den) / _2n) / den;\n\nexport type ScalarEndoParts = { k1neg: boolean; k1: bigint; k2neg: boolean; k2: bigint };\n\n/**\n * Splits scalar for GLV endomorphism.\n */\nexport function _splitEndoScalar(k: bigint, basis: EndoBasis, n: bigint): ScalarEndoParts {\n  // Split scalar into two such that part is ~half bits: `abs(part) < sqrt(N)`\n  // Since part can be negative, we need to do this on point.\n  // TODO: verifyScalar function which consumes lambda\n  const [[a1, b1], [a2, b2]] = basis;\n  const c1 = divNearest(b2 * k, n);\n  const c2 = divNearest(-b1 * k, n);\n  // |k1|/|k2| is < sqrt(N), but can be negative.\n  // If we do `k1 mod N`, we'll get big scalar (`> sqrt(N)`): so, we do cheaper negation instead.\n  let k1 = k - c1 * a1 - c2 * a2;\n  let k2 = -c1 * b1 - c2 * b2;\n  const k1neg = k1 < _0n;\n  const k2neg = k2 < _0n;\n  if (k1neg) k1 = -k1;\n  if (k2neg) k2 = -k2;\n  // Double check that resulting scalar less than half bits of N: otherwise wNAF will fail.\n  // This should only happen on wrong basises. Also, math inside is too complex and I don't trust it.\n  const MAX_NUM = bitMask(Math.ceil(bitLen(n) / 2)) + _1n; // Half bits of N\n  if (k1 < _0n || k1 >= MAX_NUM || k2 < _0n || k2 >= MAX_NUM) {\n    throw new Error('splitScalar (endomorphism): failed, k=' + k);\n  }\n  return { k1neg, k1, k2neg, k2 };\n}\n\nexport type ECDSASigFormat = 'compact' | 'recovered' | 'der';\nexport type ECDSARecoverOpts = {\n  prehash?: boolean;\n};\nexport type ECDSAVerifyOpts = {\n  prehash?: boolean;\n  lowS?: boolean;\n  format?: ECDSASigFormat;\n};\nexport type ECDSASignOpts = {\n  prehash?: boolean;\n  lowS?: boolean;\n  format?: ECDSASigFormat;\n  extraEntropy?: Uint8Array | boolean;\n};\n\nfunction validateSigFormat(format: string): ECDSASigFormat {\n  if (!['compact', 'recovered', 'der'].includes(format))\n    throw new Error('Signature format must be \"compact\", \"recovered\", or \"der\"');\n  return format as ECDSASigFormat;\n}\n\nfunction validateSigOpts<T extends ECDSASignOpts, D extends Required<ECDSASignOpts>>(\n  opts: T,\n  def: D\n): Required<ECDSASignOpts> {\n  const optsn: ECDSASignOpts = {};\n  for (let optName of Object.keys(def)) {\n    // @ts-ignore\n    optsn[optName] = opts[optName] === undefined ? def[optName] : opts[optName];\n  }\n  abool(optsn.lowS!, 'lowS');\n  abool(optsn.prehash!, 'prehash');\n  if (optsn.format !== undefined) validateSigFormat(optsn.format);\n  return optsn as Required<ECDSASignOpts>;\n}\n\n/** Instance methods for 3D XYZ projective points. */\nexport interface WeierstrassPoint<T> extends CurvePoint<T, WeierstrassPoint<T>> {\n  /** projective X coordinate. Different from affine x. */\n  readonly X: T;\n  /** projective Y coordinate. Different from affine y. */\n  readonly Y: T;\n  /** projective z coordinate */\n  readonly Z: T;\n  /** affine x coordinate. Different from projective X. */\n  get x(): T;\n  /** affine y coordinate. Different from projective Y. */\n  get y(): T;\n  /** Encodes point using IEEE P1363 (DER) encoding. First byte is 2/3/4. Default = isCompressed. */\n  toBytes(isCompressed?: boolean): Uint8Array;\n  toHex(isCompressed?: boolean): string;\n\n  /** @deprecated use `.X` */\n  readonly px: T;\n  /** @deprecated use `.Y` */\n  readonly py: T;\n  /** @deprecated use `.Z` */\n  readonly pz: T;\n  /** @deprecated use `toBytes` */\n  toRawBytes(isCompressed?: boolean): Uint8Array;\n  /** @deprecated use `multiplyUnsafe` */\n  multiplyAndAddUnsafe(\n    Q: WeierstrassPoint<T>,\n    a: bigint,\n    b: bigint\n  ): WeierstrassPoint<T> | undefined;\n  /** @deprecated use `p.y % 2n === 0n` */\n  hasEvenY(): boolean;\n  /** @deprecated use `p.precompute(windowSize)` */\n  _setWindowSize(windowSize: number): void;\n}\n\n/** Static methods for 3D XYZ projective points. */\nexport interface WeierstrassPointCons<T> extends CurvePointCons<WeierstrassPoint<T>> {\n  /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n  new (X: T, Y: T, Z: T): WeierstrassPoint<T>;\n  CURVE(): WeierstrassOpts<T>;\n  /** @deprecated use `Point.BASE.multiply(Point.Fn.fromBytes(privateKey))` */\n  fromPrivateKey(privateKey: PrivKey): WeierstrassPoint<T>;\n  /** @deprecated use `import { normalizeZ } from '@noble/curves/abstract/curve.js';` */\n  normalizeZ(points: WeierstrassPoint<T>[]): WeierstrassPoint<T>[];\n  /** @deprecated use `import { pippenger } from '@noble/curves/abstract/curve.js';` */\n  msm(points: WeierstrassPoint<T>[], scalars: bigint[]): WeierstrassPoint<T>;\n}\n\n/**\n * Weierstrass curve options.\n *\n * * p: prime characteristic (order) of finite field, in which arithmetics is done\n * * n: order of prime subgroup a.k.a total amount of valid curve points\n * * h: cofactor, usually 1. h*n is group order; n is subgroup order\n * * a: formula param, must be in field of p\n * * b: formula param, must be in field of p\n * * Gx: x coordinate of generator point a.k.a. base point\n * * Gy: y coordinate of generator point\n */\nexport type WeierstrassOpts<T> = Readonly<{\n  p: bigint;\n  n: bigint;\n  h: bigint;\n  a: T;\n  b: T;\n  Gx: T;\n  Gy: T;\n}>;\n\n// When a cofactor != 1, there can be an effective methods to:\n// 1. Determine whether a point is torsion-free\n// 2. Clear torsion component\n// wrapPrivateKey: bls12-381 requires mod(n) instead of rejecting keys >= n\nexport type WeierstrassExtraOpts<T> = Partial<{\n  Fp: IField<T>;\n  Fn: IField<bigint>;\n  allowInfinityPoint: boolean;\n  endo: EndomorphismOpts;\n  isTorsionFree: (c: WeierstrassPointCons<T>, point: WeierstrassPoint<T>) => boolean;\n  clearCofactor: (c: WeierstrassPointCons<T>, point: WeierstrassPoint<T>) => WeierstrassPoint<T>;\n  fromBytes: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes: (\n    c: WeierstrassPointCons<T>,\n    point: WeierstrassPoint<T>,\n    isCompressed: boolean\n  ) => Uint8Array;\n}>;\n\n/**\n * Options for ECDSA signatures over a Weierstrass curve.\n *\n * * lowS: (default: true) whether produced / verified signatures occupy low half of ecdsaOpts.p. Prevents malleability.\n * * hmac: (default: noble-hashes hmac) function, would be used to init hmac-drbg for k generation.\n * * randomBytes: (default: webcrypto os-level CSPRNG) custom method for fetching secure randomness.\n * * bits2int, bits2int_modN: used in sigs, sometimes overridden by curves\n */\nexport type ECDSAOpts = Partial<{\n  lowS: boolean;\n  hmac: HmacFnSync;\n  randomBytes: (bytesLength?: number) => Uint8Array;\n  bits2int: (bytes: Uint8Array) => bigint;\n  bits2int_modN: (bytes: Uint8Array) => bigint;\n}>;\n\n/**\n * Elliptic Curve Diffie-Hellman interface.\n * Provides keygen, secret-to-public conversion, calculating shared secrets.\n */\nexport interface ECDH {\n  keygen: (seed?: Uint8Array) => { secretKey: Uint8Array; publicKey: Uint8Array };\n  getPublicKey: (secretKey: PrivKey, isCompressed?: boolean) => Uint8Array;\n  getSharedSecret: (secretKeyA: PrivKey, publicKeyB: Hex, isCompressed?: boolean) => Uint8Array;\n  Point: WeierstrassPointCons<bigint>;\n  utils: {\n    isValidSecretKey: (secretKey: PrivKey) => boolean;\n    isValidPublicKey: (publicKey: Uint8Array, isCompressed?: boolean) => boolean;\n    randomSecretKey: (seed?: Uint8Array) => Uint8Array;\n    /** @deprecated use `randomSecretKey` */\n    randomPrivateKey: (seed?: Uint8Array) => Uint8Array;\n    /** @deprecated use `isValidSecretKey` */\n    isValidPrivateKey: (secretKey: PrivKey) => boolean;\n    /** @deprecated use `Point.Fn.fromBytes()` */\n    normPrivateKeyToScalar: (key: PrivKey) => bigint;\n    /** @deprecated use `point.precompute()` */\n    precompute: (windowSize?: number, point?: WeierstrassPoint<bigint>) => WeierstrassPoint<bigint>;\n  };\n  lengths: CurveLengths;\n}\n\n/**\n * ECDSA interface.\n * Only supported for prime fields, not Fp2 (extension fields).\n */\nexport interface ECDSA extends ECDH {\n  sign: (message: Hex, secretKey: PrivKey, opts?: ECDSASignOpts) => ECDSASigRecovered;\n  verify: (\n    signature: Uint8Array,\n    message: Uint8Array,\n    publicKey: Uint8Array,\n    opts?: ECDSAVerifyOpts\n  ) => boolean;\n  recoverPublicKey(signature: Uint8Array, message: Uint8Array, opts?: ECDSARecoverOpts): Uint8Array;\n  Signature: ECDSASignatureCons;\n}\nexport class DERErr extends Error {\n  constructor(m = '') {\n    super(m);\n  }\n}\nexport type IDER = {\n  // asn.1 DER encoding utils\n  Err: typeof DERErr;\n  // Basic building block is TLV (Tag-Length-Value)\n  _tlv: {\n    encode: (tag: number, data: string) => string;\n    // v - value, l - left bytes (unparsed)\n    decode(tag: number, data: Uint8Array): { v: Uint8Array; l: Uint8Array };\n  };\n  // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n  // since we always use positive integers here. It must always be empty:\n  // - add zero byte if exists\n  // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n  _int: {\n    encode(num: bigint): string;\n    decode(data: Uint8Array): bigint;\n  };\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint };\n  hexFromSig(sig: { r: bigint; s: bigint }): string;\n};\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nexport const DER: IDER = {\n  // asn.1 DER encoding utils\n  Err: DERErr,\n  // Basic building block is TLV (Tag-Length-Value)\n  _tlv: {\n    encode: (tag: number, data: string): string => {\n      const { Err: E } = DER;\n      if (tag < 0 || tag > 256) throw new E('tlv.encode: wrong tag');\n      if (data.length & 1) throw new E('tlv.encode: unpadded data');\n      const dataLen = data.length / 2;\n      const len = numberToHexUnpadded(dataLen);\n      if ((len.length / 2) & 0b1000_0000) throw new E('tlv.encode: long form length too big');\n      // length of length with long form flag\n      const lenLen = dataLen > 127 ? numberToHexUnpadded((len.length / 2) | 0b1000_0000) : '';\n      const t = numberToHexUnpadded(tag);\n      return t + lenLen + len + data;\n    },\n    // v - value, l - left bytes (unparsed)\n    decode(tag: number, data: Uint8Array): { v: Uint8Array; l: Uint8Array } {\n      const { Err: E } = DER;\n      let pos = 0;\n      if (tag < 0 || tag > 256) throw new E('tlv.encode: wrong tag');\n      if (data.length < 2 || data[pos++] !== tag) throw new E('tlv.decode: wrong tlv');\n      const first = data[pos++];\n      const isLong = !!(first & 0b1000_0000); // First bit of first length byte is flag for short/long form\n      let length = 0;\n      if (!isLong) length = first;\n      else {\n        // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n        const lenLen = first & 0b0111_1111;\n        if (!lenLen) throw new E('tlv.decode(long): indefinite length not supported');\n        if (lenLen > 4) throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n        const lengthBytes = data.subarray(pos, pos + lenLen);\n        if (lengthBytes.length !== lenLen) throw new E('tlv.decode: length bytes not complete');\n        if (lengthBytes[0] === 0) throw new E('tlv.decode(long): zero leftmost byte');\n        for (const b of lengthBytes) length = (length << 8) | b;\n        pos += lenLen;\n        if (length < 128) throw new E('tlv.decode(long): not minimal encoding');\n      }\n      const v = data.subarray(pos, pos + length);\n      if (v.length !== length) throw new E('tlv.decode: wrong value length');\n      return { v, l: data.subarray(pos + length) };\n    },\n  },\n  // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n  // since we always use positive integers here. It must always be empty:\n  // - add zero byte if exists\n  // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n  _int: {\n    encode(num: bigint): string {\n      const { Err: E } = DER;\n      if (num < _0n) throw new E('integer: negative integers are not allowed');\n      let hex = numberToHexUnpadded(num);\n      // Pad with zero byte if negative flag is present\n      if (Number.parseInt(hex[0], 16) & 0b1000) hex = '00' + hex;\n      if (hex.length & 1) throw new E('unexpected DER parsing assertion: unpadded hex');\n      return hex;\n    },\n    decode(data: Uint8Array): bigint {\n      const { Err: E } = DER;\n      if (data[0] & 0b1000_0000) throw new E('invalid signature integer: negative');\n      if (data[0] === 0x00 && !(data[1] & 0b1000_0000))\n        throw new E('invalid signature integer: unnecessary leading zero');\n      return bytesToNumberBE(data);\n    },\n  },\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint } {\n    // parse DER signature\n    const { Err: E, _int: int, _tlv: tlv } = DER;\n    const data = ensureBytes('signature', hex);\n    const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n    if (seqLeftBytes.length) throw new E('invalid signature: left bytes after parsing');\n    const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n    const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n    if (sLeftBytes.length) throw new E('invalid signature: left bytes after parsing');\n    return { r: int.decode(rBytes), s: int.decode(sBytes) };\n  },\n  hexFromSig(sig: { r: bigint; s: bigint }): string {\n    const { _tlv: tlv, _int: int } = DER;\n    const rs = tlv.encode(0x02, int.encode(sig.r));\n    const ss = tlv.encode(0x02, int.encode(sig.s));\n    const seq = rs + ss;\n    return tlv.encode(0x30, seq);\n  },\n};\n\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\n\nexport function _normFnElement(Fn: IField<bigint>, key: PrivKey): bigint {\n  const { BYTES: expected } = Fn;\n  let num: bigint;\n  if (typeof key === 'bigint') {\n    num = key;\n  } else {\n    let bytes = ensureBytes('private key', key);\n    try {\n      num = Fn.fromBytes(bytes);\n    } catch (error) {\n      throw new Error(`invalid private key: expected ui8a of size ${expected}, got ${typeof key}`);\n    }\n  }\n  if (!Fn.isValidNot0(num)) throw new Error('invalid private key: out of range [1..N-1]');\n  return num;\n}\n\n/**\n * Creates weierstrass Point constructor, based on specified curve options.\n *\n * @example\n```js\nconst opts = {\n  p: BigInt('0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff'),\n  n: BigInt('0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551'),\n  h: BigInt(1),\n  a: BigInt('0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc'),\n  b: BigInt('0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b'),\n  Gx: BigInt('0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296'),\n  Gy: BigInt('0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5'),\n};\nconst p256_Point = weierstrass(opts);\n```\n */\nexport function weierstrassN<T>(\n  params: WeierstrassOpts<T>,\n  extraOpts: WeierstrassExtraOpts<T> = {}\n): WeierstrassPointCons<T> {\n  const validated = _createCurveFields('weierstrass', params, extraOpts);\n  const { Fp, Fn } = validated;\n  let CURVE = validated.CURVE as WeierstrassOpts<T>;\n  const { h: cofactor, n: CURVE_ORDER } = CURVE;\n  _validateObject(\n    extraOpts,\n    {},\n    {\n      allowInfinityPoint: 'boolean',\n      clearCofactor: 'function',\n      isTorsionFree: 'function',\n      fromBytes: 'function',\n      toBytes: 'function',\n      endo: 'object',\n      wrapPrivateKey: 'boolean',\n    }\n  );\n\n  const { endo } = extraOpts;\n  if (endo) {\n    // validateObject(endo, { beta: 'bigint', splitScalar: 'function' });\n    if (!Fp.is0(CURVE.a) || typeof endo.beta !== 'bigint' || !Array.isArray(endo.basises)) {\n      throw new Error('invalid endo: expected \"beta\": bigint and \"basises\": array');\n    }\n  }\n\n  const lengths = getWLengths(Fp, Fn);\n\n  function assertCompressionIsSupported() {\n    if (!Fp.isOdd) throw new Error('compression is not supported: Field does not have .isOdd()');\n  }\n\n  // Implements IEEE P1363 point encoding\n  function pointToBytes(\n    _c: WeierstrassPointCons<T>,\n    point: WeierstrassPoint<T>,\n    isCompressed: boolean\n  ): Uint8Array {\n    const { x, y } = point.toAffine();\n    const bx = Fp.toBytes(x);\n    abool(isCompressed, 'isCompressed');\n    if (isCompressed) {\n      assertCompressionIsSupported();\n      const hasEvenY = !Fp.isOdd!(y);\n      return concatBytes(pprefix(hasEvenY), bx);\n    } else {\n      return concatBytes(Uint8Array.of(0x04), bx, Fp.toBytes(y));\n    }\n  }\n  function pointFromBytes(bytes: Uint8Array) {\n    abytes(bytes, undefined, 'Point');\n    const { publicKey: comp, publicKeyUncompressed: uncomp } = lengths; // e.g. for 32-byte: 33, 65\n    const length = bytes.length;\n    const head = bytes[0];\n    const tail = bytes.subarray(1);\n    // No actual validation is done here: use .assertValidity()\n    if (length === comp && (head === 0x02 || head === 0x03)) {\n      const x = Fp.fromBytes(tail);\n      if (!Fp.isValid(x)) throw new Error('bad point: is not on curve, wrong x');\n      const y2 = weierstrassEquation(x); // y\u00B2 = x\u00B3 + ax + b\n      let y: T;\n      try {\n        y = Fp.sqrt(y2); // y = y\u00B2 ^ (p+1)/4\n      } catch (sqrtError) {\n        const err = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n        throw new Error('bad point: is not on curve, sqrt error' + err);\n      }\n      assertCompressionIsSupported();\n      const isYOdd = Fp.isOdd!(y); // (y & _1n) === _1n;\n      const isHeadOdd = (head & 1) === 1; // ECDSA-specific\n      if (isHeadOdd !== isYOdd) y = Fp.neg(y);\n      return { x, y };\n    } else if (length === uncomp && head === 0x04) {\n      // TODO: more checks\n      const L = Fp.BYTES;\n      const x = Fp.fromBytes(tail.subarray(0, L));\n      const y = Fp.fromBytes(tail.subarray(L, L * 2));\n      if (!isValidXY(x, y)) throw new Error('bad point: is not on curve');\n      return { x, y };\n    } else {\n      throw new Error(\n        `bad point: got length ${length}, expected compressed=${comp} or uncompressed=${uncomp}`\n      );\n    }\n  }\n\n  const encodePoint = extraOpts.toBytes || pointToBytes;\n  const decodePoint = extraOpts.fromBytes || pointFromBytes;\n  function weierstrassEquation(x: T): T {\n    const x2 = Fp.sqr(x); // x * x\n    const x3 = Fp.mul(x2, x); // x\u00B2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, CURVE.a)), CURVE.b); // x\u00B3 + a * x + b\n  }\n\n  // TODO: move top-level\n  /** Checks whether equation holds for given x, y: y\u00B2 == x\u00B3 + ax + b */\n  function isValidXY(x: T, y: T): boolean {\n    const left = Fp.sqr(y); // y\u00B2\n    const right = weierstrassEquation(x); // x\u00B3 + ax + b\n    return Fp.eql(left, right);\n  }\n\n  // Validate whether the passed curve params are valid.\n  // Test 1: equation y\u00B2 = x\u00B3 + ax + b should work for generator point.\n  if (!isValidXY(CURVE.Gx, CURVE.Gy)) throw new Error('bad curve params: generator point');\n\n  // Test 2: discriminant \u0394 part should be non-zero: 4a\u00B3 + 27b\u00B2 != 0.\n  // Guarantees curve is genus-1, smooth (non-singular).\n  const _4a3 = Fp.mul(Fp.pow(CURVE.a, _3n), _4n);\n  const _27b2 = Fp.mul(Fp.sqr(CURVE.b), BigInt(27));\n  if (Fp.is0(Fp.add(_4a3, _27b2))) throw new Error('bad curve params: a or b');\n\n  /** Asserts coordinate is valid: 0 <= n < Fp.ORDER. */\n  function acoord(title: string, n: T, banZero = false) {\n    if (!Fp.isValid(n) || (banZero && Fp.is0(n))) throw new Error(`bad point coordinate ${title}`);\n    return n;\n  }\n\n  function aprjpoint(other: unknown) {\n    if (!(other instanceof Point)) throw new Error('ProjectivePoint expected');\n  }\n\n  function splitEndoScalarN(k: bigint) {\n    if (!endo || !endo.basises) throw new Error('no endo');\n    return _splitEndoScalar(k, endo.basises, Fn.ORDER);\n  }\n\n  // Memoized toAffine / validity check. They are heavy. Points are immutable.\n\n  // Converts Projective point to affine (x, y) coordinates.\n  // Can accept precomputed Z^-1 - for example, from invertBatch.\n  // (X, Y, Z) \u220B (x=X/Z, y=Y/Z)\n  const toAffineMemo = memoized((p: Point, iz?: T): AffinePoint<T> => {\n    const { X, Y, Z } = p;\n    // Fast-path for normalized points\n    if (Fp.eql(Z, Fp.ONE)) return { x: X, y: Y };\n    const is0 = p.is0();\n    // If invZ was 0, we return zero point. However we still want to execute\n    // all operations, so we replace invZ with a random number, 1.\n    if (iz == null) iz = is0 ? Fp.ONE : Fp.inv(Z);\n    const x = Fp.mul(X, iz);\n    const y = Fp.mul(Y, iz);\n    const zz = Fp.mul(Z, iz);\n    if (is0) return { x: Fp.ZERO, y: Fp.ZERO };\n    if (!Fp.eql(zz, Fp.ONE)) throw new Error('invZ was invalid');\n    return { x, y };\n  });\n  // NOTE: on exception this will crash 'cached' and no value will be set.\n  // Otherwise true will be return\n  const assertValidMemo = memoized((p: Point) => {\n    if (p.is0()) {\n      // (0, 1, 0) aka ZERO is invalid in most contexts.\n      // In BLS, ZERO can be serialized, so we allow it.\n      // (0, 0, 0) is invalid representation of ZERO.\n      if (extraOpts.allowInfinityPoint && !Fp.is0(p.Y)) return;\n      throw new Error('bad point: ZERO');\n    }\n    // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n    const { x, y } = p.toAffine();\n    if (!Fp.isValid(x) || !Fp.isValid(y)) throw new Error('bad point: x or y not field elements');\n    if (!isValidXY(x, y)) throw new Error('bad point: equation left != right');\n    if (!p.isTorsionFree()) throw new Error('bad point: not in prime-order subgroup');\n    return true;\n  });\n\n  function finishEndo(\n    endoBeta: EndomorphismOpts['beta'],\n    k1p: Point,\n    k2p: Point,\n    k1neg: boolean,\n    k2neg: boolean\n  ) {\n    k2p = new Point(Fp.mul(k2p.X, endoBeta), k2p.Y, k2p.Z);\n    k1p = negateCt(k1neg, k1p);\n    k2p = negateCt(k2neg, k2p);\n    return k1p.add(k2p);\n  }\n\n  /**\n   * Projective Point works in 3d / projective (homogeneous) coordinates:(X, Y, Z) \u220B (x=X/Z, y=Y/Z).\n   * Default Point works in 2d / affine coordinates: (x, y).\n   * We're doing calculations in projective, because its operations don't require costly inversion.\n   */\n  class Point implements WeierstrassPoint<T> {\n    // base / generator point\n    static readonly BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    // zero / infinity / identity point\n    static readonly ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO); // 0, 1, 0\n    // math field\n    static readonly Fp = Fp;\n    // scalar field\n    static readonly Fn = Fn;\n\n    readonly X: T;\n    readonly Y: T;\n    readonly Z: T;\n\n    /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n    constructor(X: T, Y: T, Z: T) {\n      this.X = acoord('x', X);\n      this.Y = acoord('y', Y, true);\n      this.Z = acoord('z', Z);\n      Object.freeze(this);\n    }\n\n    static CURVE(): WeierstrassOpts<T> {\n      return CURVE;\n    }\n\n    /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n    static fromAffine(p: AffinePoint<T>): Point {\n      const { x, y } = p || {};\n      if (!p || !Fp.isValid(x) || !Fp.isValid(y)) throw new Error('invalid affine point');\n      if (p instanceof Point) throw new Error('projective point not allowed');\n      // (0, 0) would've produced (0, 0, 1) - instead, we need (0, 1, 0)\n      if (Fp.is0(x) && Fp.is0(y)) return Point.ZERO;\n      return new Point(x, y, Fp.ONE);\n    }\n\n    static fromBytes(bytes: Uint8Array): Point {\n      const P = Point.fromAffine(decodePoint(abytes(bytes, undefined, 'point')));\n      P.assertValidity();\n      return P;\n    }\n    static fromHex(hex: Hex): Point {\n      return Point.fromBytes(ensureBytes('pointHex', hex));\n    }\n\n    get x(): T {\n      return this.toAffine().x;\n    }\n    get y(): T {\n      return this.toAffine().y;\n    }\n\n    /**\n     *\n     * @param windowSize\n     * @param isLazy true will defer table computation until the first multiplication\n     * @returns\n     */\n    precompute(windowSize: number = 8, isLazy = true): Point {\n      wnaf.createCache(this, windowSize);\n      if (!isLazy) this.multiply(_3n); // random number\n      return this;\n    }\n\n    // TODO: return `this`\n    /** A point on curve is valid if it conforms to equation. */\n    assertValidity(): void {\n      assertValidMemo(this);\n    }\n\n    hasEvenY(): boolean {\n      const { y } = this.toAffine();\n      if (!Fp.isOdd) throw new Error(\"Field doesn't support isOdd\");\n      return !Fp.isOdd(y);\n    }\n\n    /** Compare one point to another. */\n    equals(other: Point): boolean {\n      aprjpoint(other);\n      const { X: X1, Y: Y1, Z: Z1 } = this;\n      const { X: X2, Y: Y2, Z: Z2 } = other;\n      const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n      const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n      return U1 && U2;\n    }\n\n    /** Flips point to one corresponding to (x, -y) in Affine coordinates. */\n    negate(): Point {\n      return new Point(this.X, Fp.neg(this.Y), this.Z);\n    }\n\n    // Renes-Costello-Batina exception-free doubling formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 3\n    // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n    double() {\n      const { a, b } = CURVE;\n      const b3 = Fp.mul(b, _3n);\n      const { X: X1, Y: Y1, Z: Z1 } = this;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      let t0 = Fp.mul(X1, X1); // step 1\n      let t1 = Fp.mul(Y1, Y1);\n      let t2 = Fp.mul(Z1, Z1);\n      let t3 = Fp.mul(X1, Y1);\n      t3 = Fp.add(t3, t3); // step 5\n      Z3 = Fp.mul(X1, Z1);\n      Z3 = Fp.add(Z3, Z3);\n      X3 = Fp.mul(a, Z3);\n      Y3 = Fp.mul(b3, t2);\n      Y3 = Fp.add(X3, Y3); // step 10\n      X3 = Fp.sub(t1, Y3);\n      Y3 = Fp.add(t1, Y3);\n      Y3 = Fp.mul(X3, Y3);\n      X3 = Fp.mul(t3, X3);\n      Z3 = Fp.mul(b3, Z3); // step 15\n      t2 = Fp.mul(a, t2);\n      t3 = Fp.sub(t0, t2);\n      t3 = Fp.mul(a, t3);\n      t3 = Fp.add(t3, Z3);\n      Z3 = Fp.add(t0, t0); // step 20\n      t0 = Fp.add(Z3, t0);\n      t0 = Fp.add(t0, t2);\n      t0 = Fp.mul(t0, t3);\n      Y3 = Fp.add(Y3, t0);\n      t2 = Fp.mul(Y1, Z1); // step 25\n      t2 = Fp.add(t2, t2);\n      t0 = Fp.mul(t2, t3);\n      X3 = Fp.sub(X3, t0);\n      Z3 = Fp.mul(t2, t1);\n      Z3 = Fp.add(Z3, Z3); // step 30\n      Z3 = Fp.add(Z3, Z3);\n      return new Point(X3, Y3, Z3);\n    }\n\n    // Renes-Costello-Batina exception-free addition formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 1\n    // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n    add(other: Point): Point {\n      aprjpoint(other);\n      const { X: X1, Y: Y1, Z: Z1 } = this;\n      const { X: X2, Y: Y2, Z: Z2 } = other;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      const a = CURVE.a;\n      const b3 = Fp.mul(CURVE.b, _3n);\n      let t0 = Fp.mul(X1, X2); // step 1\n      let t1 = Fp.mul(Y1, Y2);\n      let t2 = Fp.mul(Z1, Z2);\n      let t3 = Fp.add(X1, Y1);\n      let t4 = Fp.add(X2, Y2); // step 5\n      t3 = Fp.mul(t3, t4);\n      t4 = Fp.add(t0, t1);\n      t3 = Fp.sub(t3, t4);\n      t4 = Fp.add(X1, Z1);\n      let t5 = Fp.add(X2, Z2); // step 10\n      t4 = Fp.mul(t4, t5);\n      t5 = Fp.add(t0, t2);\n      t4 = Fp.sub(t4, t5);\n      t5 = Fp.add(Y1, Z1);\n      X3 = Fp.add(Y2, Z2); // step 15\n      t5 = Fp.mul(t5, X3);\n      X3 = Fp.add(t1, t2);\n      t5 = Fp.sub(t5, X3);\n      Z3 = Fp.mul(a, t4);\n      X3 = Fp.mul(b3, t2); // step 20\n      Z3 = Fp.add(X3, Z3);\n      X3 = Fp.sub(t1, Z3);\n      Z3 = Fp.add(t1, Z3);\n      Y3 = Fp.mul(X3, Z3);\n      t1 = Fp.add(t0, t0); // step 25\n      t1 = Fp.add(t1, t0);\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.mul(b3, t4);\n      t1 = Fp.add(t1, t2);\n      t2 = Fp.sub(t0, t2); // step 30\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.add(t4, t2);\n      t0 = Fp.mul(t1, t4);\n      Y3 = Fp.add(Y3, t0);\n      t0 = Fp.mul(t5, t4); // step 35\n      X3 = Fp.mul(t3, X3);\n      X3 = Fp.sub(X3, t0);\n      t0 = Fp.mul(t3, t1);\n      Z3 = Fp.mul(t5, Z3);\n      Z3 = Fp.add(Z3, t0); // step 40\n      return new Point(X3, Y3, Z3);\n    }\n\n    subtract(other: Point) {\n      return this.add(other.negate());\n    }\n\n    is0(): boolean {\n      return this.equals(Point.ZERO);\n    }\n\n    /**\n     * Constant time multiplication.\n     * Uses wNAF method. Windowed method may be 10% faster,\n     * but takes 2x longer to generate and consumes 2x memory.\n     * Uses precomputes when available.\n     * Uses endomorphism for Koblitz curves.\n     * @param scalar by which the point would be multiplied\n     * @returns New point\n     */\n    multiply(scalar: bigint): Point {\n      const { endo } = extraOpts;\n      if (!Fn.isValidNot0(scalar)) throw new Error('invalid scalar: out of range'); // 0 is invalid\n      let point: Point, fake: Point; // Fake point is used to const-time mult\n      const mul = (n: bigint) => wnaf.cached(this, n, (p) => normalizeZ(Point, p));\n      /** See docs for {@link EndomorphismOpts} */\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = splitEndoScalarN(scalar);\n        const { p: k1p, f: k1f } = mul(k1);\n        const { p: k2p, f: k2f } = mul(k2);\n        fake = k1f.add(k2f);\n        point = finishEndo(endo.beta, k1p, k2p, k1neg, k2neg);\n      } else {\n        const { p, f } = mul(scalar);\n        point = p;\n        fake = f;\n      }\n      // Normalize `z` for both points, but return only real one\n      return normalizeZ(Point, [point, fake])[0];\n    }\n\n    /**\n     * Non-constant-time multiplication. Uses double-and-add algorithm.\n     * It's faster, but should only be used when you don't care about\n     * an exposed secret key e.g. sig verification, which works over *public* keys.\n     */\n    multiplyUnsafe(sc: bigint): Point {\n      const { endo } = extraOpts;\n      const p = this as Point;\n      if (!Fn.isValid(sc)) throw new Error('invalid scalar: out of range'); // 0 is valid\n      if (sc === _0n || p.is0()) return Point.ZERO;\n      if (sc === _1n) return p; // fast-path\n      if (wnaf.hasCache(this)) return this.multiply(sc);\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = splitEndoScalarN(sc);\n        const { p1, p2 } = mulEndoUnsafe(Point, p, k1, k2); // 30% faster vs wnaf.unsafe\n        return finishEndo(endo.beta, p1, p2, k1neg, k2neg);\n      } else {\n        return wnaf.unsafe(p, sc);\n      }\n    }\n\n    multiplyAndAddUnsafe(Q: Point, a: bigint, b: bigint): Point | undefined {\n      const sum = this.multiplyUnsafe(a).add(Q.multiplyUnsafe(b));\n      return sum.is0() ? undefined : sum;\n    }\n\n    /**\n     * Converts Projective point to affine (x, y) coordinates.\n     * @param invertedZ Z^-1 (inverted zero) - optional, precomputation is useful for invertBatch\n     */\n    toAffine(invertedZ?: T): AffinePoint<T> {\n      return toAffineMemo(this, invertedZ);\n    }\n\n    /**\n     * Checks whether Point is free of torsion elements (is in prime subgroup).\n     * Always torsion-free for cofactor=1 curves.\n     */\n    isTorsionFree(): boolean {\n      const { isTorsionFree } = extraOpts;\n      if (cofactor === _1n) return true;\n      if (isTorsionFree) return isTorsionFree(Point, this);\n      return wnaf.unsafe(this, CURVE_ORDER).is0();\n    }\n\n    clearCofactor(): Point {\n      const { clearCofactor } = extraOpts;\n      if (cofactor === _1n) return this; // Fast-path\n      if (clearCofactor) return clearCofactor(Point, this) as Point;\n      return this.multiplyUnsafe(cofactor);\n    }\n\n    isSmallOrder(): boolean {\n      // can we use this.clearCofactor()?\n      return this.multiplyUnsafe(cofactor).is0();\n    }\n\n    toBytes(isCompressed = true): Uint8Array {\n      abool(isCompressed, 'isCompressed');\n      this.assertValidity();\n      return encodePoint(Point, this, isCompressed);\n    }\n\n    toHex(isCompressed = true): string {\n      return bytesToHex(this.toBytes(isCompressed));\n    }\n\n    toString() {\n      return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n    }\n\n    // TODO: remove\n    get px(): T {\n      return this.X;\n    }\n    get py(): T {\n      return this.X;\n    }\n    get pz(): T {\n      return this.Z;\n    }\n    toRawBytes(isCompressed = true): Uint8Array {\n      return this.toBytes(isCompressed);\n    }\n    _setWindowSize(windowSize: number) {\n      this.precompute(windowSize);\n    }\n    static normalizeZ(points: Point[]): Point[] {\n      return normalizeZ(Point, points);\n    }\n    static msm(points: Point[], scalars: bigint[]): Point {\n      return pippenger(Point, Fn, points, scalars);\n    }\n    static fromPrivateKey(privateKey: PrivKey) {\n      return Point.BASE.multiply(_normFnElement(Fn, privateKey));\n    }\n  }\n  const bits = Fn.BITS;\n  const wnaf = new wNAF(Point, extraOpts.endo ? Math.ceil(bits / 2) : bits);\n  Point.BASE.precompute(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n  return Point;\n}\n\n/** Methods of ECDSA signature instance. */\nexport interface ECDSASignature {\n  readonly r: bigint;\n  readonly s: bigint;\n  readonly recovery?: number;\n  addRecoveryBit(recovery: number): ECDSASigRecovered;\n  hasHighS(): boolean;\n  toBytes(format?: string): Uint8Array;\n  toHex(format?: string): string;\n\n  /** @deprecated */\n  assertValidity(): void;\n  /** @deprecated */\n  normalizeS(): ECDSASignature;\n  /** @deprecated use standalone method `curve.recoverPublicKey(sig.toBytes('recovered'), msg)` */\n  recoverPublicKey(msgHash: Hex): WeierstrassPoint<bigint>;\n  /** @deprecated use `.toBytes('compact')` */\n  toCompactRawBytes(): Uint8Array;\n  /** @deprecated use `.toBytes('compact')` */\n  toCompactHex(): string;\n  /** @deprecated use `.toBytes('der')` */\n  toDERRawBytes(): Uint8Array;\n  /** @deprecated use `.toBytes('der')` */\n  toDERHex(): string;\n}\nexport type ECDSASigRecovered = ECDSASignature & {\n  readonly recovery: number;\n};\n/** Methods of ECDSA signature constructor. */\nexport type ECDSASignatureCons = {\n  new (r: bigint, s: bigint, recovery?: number): ECDSASignature;\n  fromBytes(bytes: Uint8Array, format?: ECDSASigFormat): ECDSASignature;\n  fromHex(hex: string, format?: ECDSASigFormat): ECDSASignature;\n\n  /** @deprecated use `.fromBytes(bytes, 'compact')` */\n  fromCompact(hex: Hex): ECDSASignature;\n  /** @deprecated use `.fromBytes(bytes, 'der')` */\n  fromDER(hex: Hex): ECDSASignature;\n};\n\n// Points start with byte 0x02 when y is even; otherwise 0x03\nfunction pprefix(hasEvenY: boolean): Uint8Array {\n  return Uint8Array.of(hasEvenY ? 0x02 : 0x03);\n}\n\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio<T>(\n  Fp: IField<T>,\n  Z: T\n): (u: T, v: T) => { isValid: boolean; value: T } {\n  // Generic implementation\n  const q = Fp.ORDER;\n  let l = _0n;\n  for (let o = q - _1n; o % _2n === _0n; o /= _2n) l += _1n;\n  const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n  // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n  // 2n ** c1 == 2n << (c1-1)\n  const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n  const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n  const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n  const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n  const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n  const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n  const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n  const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n  let sqrtRatio = (u: T, v: T): { isValid: boolean; value: T } => {\n    let tv1 = c6; // 1. tv1 = c6\n    let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n    let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n    tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n    let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n    tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n    tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n    tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n    tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n    let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n    tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n    let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n    tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n    tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n    tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n    tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n    // 17. for i in (c1, c1 - 1, ..., 2):\n    for (let i = c1; i > _1n; i--) {\n      let tv5 = i - _2n; // 18.    tv5 = i - 2\n      tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n      let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n      const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n      tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n      tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n      tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n      tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n      tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n    }\n    return { isValid: isQR, value: tv3 };\n  };\n  if (Fp.ORDER % _4n === _3n) {\n    // sqrt_ratio_3mod4(u, v)\n    const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n    const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n    sqrtRatio = (u: T, v: T) => {\n      let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n      const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n      tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n      let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n      y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n      const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n      const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n      const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n      let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n      return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n    };\n  }\n  // No curves uses that\n  // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n  return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nexport function mapToCurveSimpleSWU<T>(\n  Fp: IField<T>,\n  opts: {\n    A: T;\n    B: T;\n    Z: T;\n  }\n): (u: T) => { x: T; y: T } {\n  validateField(Fp);\n  const { A, B, Z } = opts;\n  if (!Fp.isValid(A) || !Fp.isValid(B) || !Fp.isValid(Z))\n    throw new Error('mapToCurveSimpleSWU: invalid opts');\n  const sqrtRatio = SWUFpSqrtRatio(Fp, Z);\n  if (!Fp.isOdd) throw new Error('Field does not have .isOdd()');\n  // Input: u, an element of F.\n  // Output: (x, y), a point on E.\n  return (u: T): { x: T; y: T } => {\n    // prettier-ignore\n    let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n    tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, Z); // 2.  tv1 = Z * tv1\n    tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n    tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n    tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n    tv3 = Fp.mul(tv3, B); // 6.  tv3 = B * tv3\n    tv4 = Fp.cmov(Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n    tv4 = Fp.mul(tv4, A); // 8.  tv4 = A * tv4\n    tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n    tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n    tv5 = Fp.mul(tv6, A); // 11. tv5 = A * tv6\n    tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n    tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n    tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n    tv5 = Fp.mul(tv6, B); // 15. tv5 = B * tv6\n    tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n    x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n    const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n    y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n    y = Fp.mul(y, value); // 20.   y = y * y1\n    x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n    y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n    const e1 = Fp.isOdd!(u) === Fp.isOdd!(y); // 23.  e1 = sgn0(u) == sgn0(y)\n    y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n    const tv4_inv = FpInvertBatch(Fp, [tv4], true)[0];\n    x = Fp.mul(x, tv4_inv); // 25.   x = x / tv4\n    return { x, y };\n  };\n}\n\nfunction getWLengths<T>(Fp: IField<T>, Fn: IField<bigint>) {\n  return {\n    secretKey: Fn.BYTES,\n    publicKey: 1 + Fp.BYTES,\n    publicKeyUncompressed: 1 + 2 * Fp.BYTES,\n    publicKeyHasPrefix: true,\n    signature: 2 * Fn.BYTES,\n  };\n}\n\n/**\n * Sometimes users only need getPublicKey, getSharedSecret, and secret key handling.\n * This helper ensures no signature functionality is present. Less code, smaller bundle size.\n */\nexport function ecdh(\n  Point: WeierstrassPointCons<bigint>,\n  ecdhOpts: { randomBytes?: (bytesLength?: number) => Uint8Array } = {}\n): ECDH {\n  const { Fn } = Point;\n  const randomBytes_ = ecdhOpts.randomBytes || randomBytesWeb;\n  const lengths = Object.assign(getWLengths(Point.Fp, Fn), { seed: getMinHashLength(Fn.ORDER) });\n\n  function isValidSecretKey(secretKey: PrivKey) {\n    try {\n      return !!_normFnElement(Fn, secretKey);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  function isValidPublicKey(publicKey: Uint8Array, isCompressed?: boolean): boolean {\n    const { publicKey: comp, publicKeyUncompressed } = lengths;\n    try {\n      const l = publicKey.length;\n      if (isCompressed === true && l !== comp) return false;\n      if (isCompressed === false && l !== publicKeyUncompressed) return false;\n      return !!Point.fromBytes(publicKey);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Produces cryptographically secure secret key from random of size\n   * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n   */\n  function randomSecretKey(seed = randomBytes_(lengths.seed)): Uint8Array {\n    return mapHashToField(abytes(seed, lengths.seed, 'seed'), Fn.ORDER);\n  }\n\n  /**\n   * Computes public key for a secret key. Checks for validity of the secret key.\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns Public key, full when isCompressed=false; short when isCompressed=true\n   */\n  function getPublicKey(secretKey: PrivKey, isCompressed = true): Uint8Array {\n    return Point.BASE.multiply(_normFnElement(Fn, secretKey)).toBytes(isCompressed);\n  }\n\n  function keygen(seed?: Uint8Array) {\n    const secretKey = randomSecretKey(seed);\n    return { secretKey, publicKey: getPublicKey(secretKey) };\n  }\n\n  /**\n   * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n   */\n  function isProbPub(item: PrivKey | PubKey): boolean | undefined {\n    if (typeof item === 'bigint') return false;\n    if (item instanceof Point) return true;\n    const { secretKey, publicKey, publicKeyUncompressed } = lengths;\n    if (Fn.allowedLengths || secretKey === publicKey) return undefined;\n    const l = ensureBytes('key', item).length;\n    return l === publicKey || l === publicKeyUncompressed;\n  }\n\n  /**\n   * ECDH (Elliptic Curve Diffie Hellman).\n   * Computes shared public key from secret key A and public key B.\n   * Checks: 1) secret key validity 2) shared key is on-curve.\n   * Does NOT hash the result.\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns shared public key\n   */\n  function getSharedSecret(secretKeyA: PrivKey, publicKeyB: Hex, isCompressed = true): Uint8Array {\n    if (isProbPub(secretKeyA) === true) throw new Error('first arg must be private key');\n    if (isProbPub(publicKeyB) === false) throw new Error('second arg must be public key');\n    const s = _normFnElement(Fn, secretKeyA);\n    const b = Point.fromHex(publicKeyB); // checks for being on-curve\n    return b.multiply(s).toBytes(isCompressed);\n  }\n\n  const utils = {\n    isValidSecretKey,\n    isValidPublicKey,\n    randomSecretKey,\n\n    // TODO: remove\n    isValidPrivateKey: isValidSecretKey,\n    randomPrivateKey: randomSecretKey,\n    normPrivateKeyToScalar: (key: PrivKey) => _normFnElement(Fn, key),\n    precompute(windowSize = 8, point = Point.BASE): WeierstrassPoint<bigint> {\n      return point.precompute(windowSize, false);\n    },\n  };\n\n  return Object.freeze({ getPublicKey, getSharedSecret, keygen, Point, utils, lengths });\n}\n\n/**\n * Creates ECDSA signing interface for given elliptic curve `Point` and `hash` function.\n * We need `hash` for 2 features:\n * 1. Message prehash-ing. NOT used if `sign` / `verify` are called with `prehash: false`\n * 2. k generation in `sign`, using HMAC-drbg(hash)\n *\n * ECDSAOpts are only rarely needed.\n *\n * @example\n * ```js\n * const p256_Point = weierstrass(...);\n * const p256_sha256 = ecdsa(p256_Point, sha256);\n * const p256_sha224 = ecdsa(p256_Point, sha224);\n * const p256_sha224_r = ecdsa(p256_Point, sha224, { randomBytes: (length) => { ... } });\n * ```\n */\nexport function ecdsa(\n  Point: WeierstrassPointCons<bigint>,\n  hash: CHash,\n  ecdsaOpts: ECDSAOpts = {}\n): ECDSA {\n  ahash(hash);\n  _validateObject(\n    ecdsaOpts,\n    {},\n    {\n      hmac: 'function',\n      lowS: 'boolean',\n      randomBytes: 'function',\n      bits2int: 'function',\n      bits2int_modN: 'function',\n    }\n  );\n\n  const randomBytes = ecdsaOpts.randomBytes || randomBytesWeb;\n  const hmac: HmacFnSync =\n    ecdsaOpts.hmac ||\n    (((key, ...msgs) => nobleHmac(hash, key, concatBytes(...msgs))) satisfies HmacFnSync);\n\n  const { Fp, Fn } = Point;\n  const { ORDER: CURVE_ORDER, BITS: fnBits } = Fn;\n  const { keygen, getPublicKey, getSharedSecret, utils, lengths } = ecdh(Point, ecdsaOpts);\n  const defaultSigOpts: Required<ECDSASignOpts> = {\n    prehash: false,\n    lowS: typeof ecdsaOpts.lowS === 'boolean' ? ecdsaOpts.lowS : false,\n    format: undefined as any, //'compact' as ECDSASigFormat,\n    extraEntropy: false,\n  };\n  const defaultSigOpts_format = 'compact';\n\n  function isBiggerThanHalfOrder(number: bigint) {\n    const HALF = CURVE_ORDER >> _1n;\n    return number > HALF;\n  }\n  function validateRS(title: string, num: bigint): bigint {\n    if (!Fn.isValidNot0(num))\n      throw new Error(`invalid signature ${title}: out of range 1..Point.Fn.ORDER`);\n    return num;\n  }\n  function validateSigLength(bytes: Uint8Array, format: ECDSASigFormat) {\n    validateSigFormat(format);\n    const size = lengths.signature!;\n    const sizer = format === 'compact' ? size : format === 'recovered' ? size + 1 : undefined;\n    return abytes(bytes, sizer, `${format} signature`);\n  }\n\n  /**\n   * ECDSA signature with its (r, s) properties. Supports compact, recovered & DER representations.\n   */\n  class Signature implements ECDSASignature {\n    readonly r: bigint;\n    readonly s: bigint;\n    readonly recovery?: number;\n    constructor(r: bigint, s: bigint, recovery?: number) {\n      this.r = validateRS('r', r); // r in [1..N-1];\n      this.s = validateRS('s', s); // s in [1..N-1];\n      if (recovery != null) this.recovery = recovery;\n      Object.freeze(this);\n    }\n\n    static fromBytes(bytes: Uint8Array, format: ECDSASigFormat = defaultSigOpts_format): Signature {\n      validateSigLength(bytes, format);\n      let recid: number | undefined;\n      if (format === 'der') {\n        const { r, s } = DER.toSig(abytes(bytes));\n        return new Signature(r, s);\n      }\n      if (format === 'recovered') {\n        recid = bytes[0];\n        format = 'compact';\n        bytes = bytes.subarray(1);\n      }\n      const L = Fn.BYTES;\n      const r = bytes.subarray(0, L);\n      const s = bytes.subarray(L, L * 2);\n      return new Signature(Fn.fromBytes(r), Fn.fromBytes(s), recid);\n    }\n\n    static fromHex(hex: string, format?: ECDSASigFormat) {\n      return this.fromBytes(hexToBytes(hex), format);\n    }\n\n    addRecoveryBit(recovery: number): RecoveredSignature {\n      return new Signature(this.r, this.s, recovery) as RecoveredSignature;\n    }\n\n    recoverPublicKey(messageHash: Hex): WeierstrassPoint<bigint> {\n      const FIELD_ORDER = Fp.ORDER;\n      const { r, s, recovery: rec } = this;\n      if (rec == null || ![0, 1, 2, 3].includes(rec)) throw new Error('recovery id invalid');\n\n      // ECDSA recovery is hard for cofactor > 1 curves.\n      // In sign, `r = q.x mod n`, and here we recover q.x from r.\n      // While recovering q.x >= n, we need to add r+n for cofactor=1 curves.\n      // However, for cofactor>1, r+n may not get q.x:\n      // r+n*i would need to be done instead where i is unknown.\n      // To easily get i, we either need to:\n      // a. increase amount of valid recid values (4, 5...); OR\n      // b. prohibit non-prime-order signatures (recid > 1).\n      const hasCofactor = CURVE_ORDER * _2n < FIELD_ORDER;\n      if (hasCofactor && rec > 1) throw new Error('recovery id is ambiguous for h>1 curve');\n\n      const radj = rec === 2 || rec === 3 ? r + CURVE_ORDER : r;\n      if (!Fp.isValid(radj)) throw new Error('recovery id 2 or 3 invalid');\n      const x = Fp.toBytes(radj);\n      const R = Point.fromBytes(concatBytes(pprefix((rec & 1) === 0), x));\n      const ir = Fn.inv(radj); // r^-1\n      const h = bits2int_modN(ensureBytes('msgHash', messageHash)); // Truncate hash\n      const u1 = Fn.create(-h * ir); // -hr^-1\n      const u2 = Fn.create(s * ir); // sr^-1\n      // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1). unsafe is fine: there is no private data.\n      const Q = Point.BASE.multiplyUnsafe(u1).add(R.multiplyUnsafe(u2));\n      if (Q.is0()) throw new Error('point at infinify');\n      Q.assertValidity();\n      return Q;\n    }\n\n    // Signatures should be low-s, to prevent malleability.\n    hasHighS(): boolean {\n      return isBiggerThanHalfOrder(this.s);\n    }\n\n    toBytes(format: ECDSASigFormat = defaultSigOpts_format) {\n      validateSigFormat(format);\n      if (format === 'der') return hexToBytes(DER.hexFromSig(this));\n      const r = Fn.toBytes(this.r);\n      const s = Fn.toBytes(this.s);\n      if (format === 'recovered') {\n        if (this.recovery == null) throw new Error('recovery bit must be present');\n        return concatBytes(Uint8Array.of(this.recovery), r, s);\n      }\n      return concatBytes(r, s);\n    }\n\n    toHex(format?: ECDSASigFormat) {\n      return bytesToHex(this.toBytes(format));\n    }\n\n    // TODO: remove\n    assertValidity(): void {}\n    static fromCompact(hex: Hex) {\n      return Signature.fromBytes(ensureBytes('sig', hex), 'compact');\n    }\n    static fromDER(hex: Hex) {\n      return Signature.fromBytes(ensureBytes('sig', hex), 'der');\n    }\n    normalizeS() {\n      return this.hasHighS() ? new Signature(this.r, Fn.neg(this.s), this.recovery) : this;\n    }\n    toDERRawBytes() {\n      return this.toBytes('der');\n    }\n    toDERHex() {\n      return bytesToHex(this.toBytes('der'));\n    }\n    toCompactRawBytes() {\n      return this.toBytes('compact');\n    }\n    toCompactHex() {\n      return bytesToHex(this.toBytes('compact'));\n    }\n  }\n  type RecoveredSignature = Signature & { recovery: number };\n\n  // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n  // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n  // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n  // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n  const bits2int =\n    ecdsaOpts.bits2int ||\n    function bits2int_def(bytes: Uint8Array): bigint {\n      // Our custom check \"just in case\", for protection against DoS\n      if (bytes.length > 8192) throw new Error('input is too large');\n      // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n      // for some cases, since bytes.length * 8 is not actual bitLength.\n      const num = bytesToNumberBE(bytes); // check for == u8 done here\n      const delta = bytes.length * 8 - fnBits; // truncate to nBitLength leftmost bits\n      return delta > 0 ? num >> BigInt(delta) : num;\n    };\n  const bits2int_modN =\n    ecdsaOpts.bits2int_modN ||\n    function bits2int_modN_def(bytes: Uint8Array): bigint {\n      return Fn.create(bits2int(bytes)); // can't use bytesToNumberBE here\n    };\n  // Pads output with zero as per spec\n  const ORDER_MASK = bitMask(fnBits);\n  /** Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`. */\n  function int2octets(num: bigint): Uint8Array {\n    // IMPORTANT: the check ensures working for case `Fn.BYTES != Fn.BITS * 8`\n    aInRange('num < 2^' + fnBits, num, _0n, ORDER_MASK);\n    return Fn.toBytes(num);\n  }\n\n  function validateMsgAndHash(message: Uint8Array, prehash: boolean) {\n    abytes(message, undefined, 'message');\n    return prehash ? abytes(hash(message), undefined, 'prehashed message') : message;\n  }\n\n  /**\n   * Steps A, D of RFC6979 3.2.\n   * Creates RFC6979 seed; converts msg/privKey to numbers.\n   * Used only in sign, not in verify.\n   *\n   * Warning: we cannot assume here that message has same amount of bytes as curve order,\n   * this will be invalid at least for P521. Also it can be bigger for P224 + SHA256.\n   */\n  function prepSig(message: Uint8Array, privateKey: PrivKey, opts: ECDSASignOpts) {\n    if (['recovered', 'canonical'].some((k) => k in opts))\n      throw new Error('sign() legacy options not supported');\n    const { lowS, prehash, extraEntropy } = validateSigOpts(opts, defaultSigOpts);\n    message = validateMsgAndHash(message, prehash); // RFC6979 3.2 A: h1 = H(m)\n    // We can't later call bits2octets, since nested bits2int is broken for curves\n    // with fnBits % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n    // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n    const h1int = bits2int_modN(message);\n    const d = _normFnElement(Fn, privateKey); // validate secret key, convert to bigint\n    const seedArgs = [int2octets(d), int2octets(h1int)];\n    // extraEntropy. RFC6979 3.6: additional k' (optional).\n    if (extraEntropy != null && extraEntropy !== false) {\n      // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n      // gen random bytes OR pass as-is\n      const e = extraEntropy === true ? randomBytes(lengths.secretKey) : extraEntropy;\n      seedArgs.push(ensureBytes('extraEntropy', e)); // check for being bytes\n    }\n    const seed = concatBytes(...seedArgs); // Step D of RFC6979 3.2\n    const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n    // Converts signature params into point w r/s, checks result for validity.\n    // To transform k => Signature:\n    // q = k\u22C5G\n    // r = q.x mod n\n    // s = k^-1(m + rd) mod n\n    // Can use scalar blinding b^-1(bm + bdr) where b \u2208 [1,q\u22121] according to\n    // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n    // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n    function k2sig(kBytes: Uint8Array): RecoveredSignature | undefined {\n      // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n      // Important: all mod() calls here must be done over N\n      const k = bits2int(kBytes); // mod n, not mod p\n      if (!Fn.isValidNot0(k)) return; // Valid scalars (including k) must be in 1..N-1\n      const ik = Fn.inv(k); // k^-1 mod n\n      const q = Point.BASE.multiply(k).toAffine(); // q = k\u22C5G\n      const r = Fn.create(q.x); // r = q.x mod n\n      if (r === _0n) return;\n      const s = Fn.create(ik * Fn.create(m + r * d)); // Not using blinding here, see comment above\n      if (s === _0n) return;\n      let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n      let normS = s;\n      if (lowS && isBiggerThanHalfOrder(s)) {\n        normS = Fn.neg(s); // if lowS was passed, ensure s is always\n        recovery ^= 1; // // in the bottom half of N\n      }\n      return new Signature(r, normS, recovery) as RecoveredSignature; // use normS, not s\n    }\n    return { seed, k2sig };\n  }\n\n  /**\n   * Signs message hash with a secret key.\n   *\n   * ```\n   * sign(m, d) where\n   *   k = rfc6979_hmac_drbg(m, d)\n   *   (x, y) = G \u00D7 k\n   *   r = x mod n\n   *   s = (m + dr) / k mod n\n   * ```\n   */\n  function sign(message: Hex, secretKey: PrivKey, opts: ECDSASignOpts = {}): RecoveredSignature {\n    message = ensureBytes('message', message);\n    const { seed, k2sig } = prepSig(message, secretKey, opts); // Steps A, D of RFC6979 3.2.\n    const drbg = createHmacDrbg<RecoveredSignature>(hash.outputLen, Fn.BYTES, hmac);\n    const sig = drbg(seed, k2sig); // Steps B, C, D, E, F, G\n    return sig;\n  }\n\n  function tryParsingSig(sg: Hex | SignatureLike) {\n    // Try to deduce format\n    let sig: Signature | undefined = undefined;\n    const isHex = typeof sg === 'string' || isBytes(sg);\n    const isObj =\n      !isHex &&\n      sg !== null &&\n      typeof sg === 'object' &&\n      typeof sg.r === 'bigint' &&\n      typeof sg.s === 'bigint';\n    if (!isHex && !isObj)\n      throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');\n    if (isObj) {\n      sig = new Signature(sg.r, sg.s);\n    } else if (isHex) {\n      try {\n        sig = Signature.fromBytes(ensureBytes('sig', sg), 'der');\n      } catch (derError) {\n        if (!(derError instanceof DER.Err)) throw derError;\n      }\n      if (!sig) {\n        try {\n          sig = Signature.fromBytes(ensureBytes('sig', sg), 'compact');\n        } catch (error) {\n          return false;\n        }\n      }\n    }\n    if (!sig) return false;\n    return sig;\n  }\n\n  /**\n   * Verifies a signature against message and public key.\n   * Rejects lowS signatures by default: see {@link ECDSAVerifyOpts}.\n   * Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n   *\n   * ```\n   * verify(r, s, h, P) where\n   *   u1 = hs^-1 mod n\n   *   u2 = rs^-1 mod n\n   *   R = u1\u22C5G + u2\u22C5P\n   *   mod(R.x, n) == r\n   * ```\n   */\n  function verify(\n    signature: Hex | SignatureLike,\n    message: Hex,\n    publicKey: Hex,\n    opts: ECDSAVerifyOpts = {}\n  ): boolean {\n    const { lowS, prehash, format } = validateSigOpts(opts, defaultSigOpts);\n    publicKey = ensureBytes('publicKey', publicKey);\n    message = validateMsgAndHash(ensureBytes('message', message), prehash);\n    if ('strict' in opts) throw new Error('options.strict was renamed to lowS');\n    const sig =\n      format === undefined\n        ? tryParsingSig(signature)\n        : Signature.fromBytes(ensureBytes('sig', signature as Hex), format);\n    if (sig === false) return false;\n    try {\n      const P = Point.fromBytes(publicKey);\n      if (lowS && sig.hasHighS()) return false;\n      const { r, s } = sig;\n      const h = bits2int_modN(message); // mod n, not mod p\n      const is = Fn.inv(s); // s^-1 mod n\n      const u1 = Fn.create(h * is); // u1 = hs^-1 mod n\n      const u2 = Fn.create(r * is); // u2 = rs^-1 mod n\n      const R = Point.BASE.multiplyUnsafe(u1).add(P.multiplyUnsafe(u2)); // u1\u22C5G + u2\u22C5P\n      if (R.is0()) return false;\n      const v = Fn.create(R.x); // v = r.x mod n\n      return v === r;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function recoverPublicKey(\n    signature: Uint8Array,\n    message: Uint8Array,\n    opts: ECDSARecoverOpts = {}\n  ): Uint8Array {\n    const { prehash } = validateSigOpts(opts, defaultSigOpts);\n    message = validateMsgAndHash(message, prehash);\n    return Signature.fromBytes(signature, 'recovered').recoverPublicKey(message).toBytes();\n  }\n\n  return Object.freeze({\n    keygen,\n    getPublicKey,\n    getSharedSecret,\n    utils,\n    lengths,\n    Point,\n    sign,\n    verify,\n    recoverPublicKey,\n    Signature,\n    hash,\n  });\n}\n\n// TODO: remove everything below\n/** @deprecated use ECDSASignature */\nexport type SignatureType = ECDSASignature;\n/** @deprecated use ECDSASigRecovered */\nexport type RecoveredSignatureType = ECDSASigRecovered;\n/** @deprecated switch to Uint8Array signatures in format 'compact' */\nexport type SignatureLike = { r: bigint; s: bigint };\nexport type ECDSAExtraEntropy = Hex | boolean;\n/** @deprecated use `ECDSAExtraEntropy` */\nexport type Entropy = Hex | boolean;\nexport type BasicWCurve<T> = BasicCurve<T> & {\n  // Params: a, b\n  a: T;\n  b: T;\n\n  // Optional params\n  allowedPrivateKeyLengths?: readonly number[]; // for P521\n  wrapPrivateKey?: boolean; // bls12-381 requires mod(n) instead of rejecting keys >= n\n  endo?: EndomorphismOpts;\n  // When a cofactor != 1, there can be an effective methods to:\n  // 1. Determine whether a point is torsion-free\n  isTorsionFree?: (c: WeierstrassPointCons<T>, point: WeierstrassPoint<T>) => boolean;\n  // 2. Clear torsion component\n  clearCofactor?: (c: WeierstrassPointCons<T>, point: WeierstrassPoint<T>) => WeierstrassPoint<T>;\n};\n/** @deprecated use ECDSASignOpts */\nexport type SignOpts = ECDSASignOpts;\n/** @deprecated use ECDSASignOpts */\nexport type VerOpts = ECDSAVerifyOpts;\n\n/** @deprecated use WeierstrassPoint */\nexport type ProjPointType<T> = WeierstrassPoint<T>;\n/** @deprecated use WeierstrassPointCons */\nexport type ProjConstructor<T> = WeierstrassPointCons<T>;\n/** @deprecated use ECDSASignatureCons */\nexport type SignatureConstructor = ECDSASignatureCons;\n\n// TODO: remove\nexport type CurvePointsType<T> = BasicWCurve<T> & {\n  fromBytes?: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes?: (\n    c: WeierstrassPointCons<T>,\n    point: WeierstrassPoint<T>,\n    isCompressed: boolean\n  ) => Uint8Array;\n};\n\n// LegacyWeierstrassOpts\nexport type CurvePointsTypeWithLength<T> = Readonly<CurvePointsType<T> & Partial<NLength>>;\n\n// LegacyWeierstrass\nexport type CurvePointsRes<T> = {\n  Point: WeierstrassPointCons<T>;\n\n  /** @deprecated use `Point.CURVE()` */\n  CURVE: CurvePointsType<T>;\n  /** @deprecated use `Point` */\n  ProjectivePoint: WeierstrassPointCons<T>;\n  /** @deprecated use `Point.Fn.fromBytes(privateKey)` */\n  normPrivateKeyToScalar: (key: PrivKey) => bigint;\n  /** @deprecated */\n  weierstrassEquation: (x: T) => T;\n  /** @deprecated use `Point.Fn.isValidNot0(num)` */\n  isWithinCurveOrder: (num: bigint) => boolean;\n};\n\n// Aliases to legacy types\n// export type CurveType = LegacyECDSAOpts;\n// export type CurveFn = LegacyECDSA;\n// export type CurvePointsRes<T> = LegacyWeierstrass<T>;\n// export type CurvePointsType<T> = LegacyWeierstrassOpts<T>;\n// export type CurvePointsTypeWithLength<T> = LegacyWeierstrassOpts<T>;\n// export type BasicWCurve<T> = LegacyWeierstrassOpts<T>;\n\n/** @deprecated use `Uint8Array` */\nexport type PubKey = Hex | WeierstrassPoint<bigint>;\nexport type CurveType = BasicWCurve<bigint> & {\n  hash: CHash; // CHash not FHash because we need outputLen for DRBG\n  hmac?: HmacFnSync;\n  randomBytes?: (bytesLength?: number) => Uint8Array;\n  lowS?: boolean;\n  bits2int?: (bytes: Uint8Array) => bigint;\n  bits2int_modN?: (bytes: Uint8Array) => bigint;\n};\nexport type CurveFn = {\n  /** @deprecated use `Point.CURVE()` */\n  CURVE: CurvePointsType<bigint>;\n  keygen: ECDSA['keygen'];\n  getPublicKey: ECDSA['getPublicKey'];\n  getSharedSecret: ECDSA['getSharedSecret'];\n  sign: ECDSA['sign'];\n  verify: ECDSA['verify'];\n  Point: WeierstrassPointCons<bigint>;\n  /** @deprecated use `Point` */\n  ProjectivePoint: WeierstrassPointCons<bigint>;\n  Signature: ECDSASignatureCons;\n  utils: ECDSA['utils'];\n  lengths: ECDSA['lengths'];\n};\n/** @deprecated use `weierstrass` in newer releases */\nexport function weierstrassPoints<T>(c: CurvePointsTypeWithLength<T>): CurvePointsRes<T> {\n  const { CURVE, curveOpts } = _weierstrass_legacy_opts_to_new(c);\n  const Point = weierstrassN(CURVE, curveOpts);\n  return _weierstrass_new_output_to_legacy(c, Point);\n}\nexport type WsPointComposed<T> = {\n  CURVE: WeierstrassOpts<T>;\n  curveOpts: WeierstrassExtraOpts<T>;\n};\nexport type WsComposed = {\n  /** @deprecated use `Point.CURVE()` */\n  CURVE: WeierstrassOpts<bigint>;\n  hash: CHash;\n  curveOpts: WeierstrassExtraOpts<bigint>;\n  ecdsaOpts: ECDSAOpts;\n};\nfunction _weierstrass_legacy_opts_to_new<T>(c: CurvePointsType<T>): WsPointComposed<T> {\n  const CURVE: WeierstrassOpts<T> = {\n    a: c.a,\n    b: c.b,\n    p: c.Fp.ORDER,\n    n: c.n,\n    h: c.h,\n    Gx: c.Gx,\n    Gy: c.Gy,\n  };\n  const Fp = c.Fp;\n  let allowedLengths = c.allowedPrivateKeyLengths\n    ? Array.from(new Set(c.allowedPrivateKeyLengths.map((l) => Math.ceil(l / 2))))\n    : undefined;\n  const Fn = Field(CURVE.n, {\n    BITS: c.nBitLength,\n    allowedLengths: allowedLengths,\n    modFromBytes: c.wrapPrivateKey,\n  });\n  const curveOpts: WeierstrassExtraOpts<T> = {\n    Fp,\n    Fn,\n    allowInfinityPoint: c.allowInfinityPoint,\n    endo: c.endo,\n    isTorsionFree: c.isTorsionFree,\n    clearCofactor: c.clearCofactor,\n    fromBytes: c.fromBytes,\n    toBytes: c.toBytes,\n  };\n  return { CURVE, curveOpts };\n}\nfunction _ecdsa_legacy_opts_to_new(c: CurveType): WsComposed {\n  const { CURVE, curveOpts } = _weierstrass_legacy_opts_to_new(c);\n  const ecdsaOpts: ECDSAOpts = {\n    hmac: c.hmac,\n    randomBytes: c.randomBytes,\n    lowS: c.lowS,\n    bits2int: c.bits2int,\n    bits2int_modN: c.bits2int_modN,\n  };\n  return { CURVE, curveOpts, hash: c.hash, ecdsaOpts };\n}\nexport function _legacyHelperEquat<T>(Fp: IField<T>, a: T, b: T): (x: T) => T {\n  /**\n   * y\u00B2 = x\u00B3 + ax + b: Short weierstrass curve formula. Takes x, returns y\u00B2.\n   * @returns y\u00B2\n   */\n  function weierstrassEquation(x: T): T {\n    const x2 = Fp.sqr(x); // x * x\n    const x3 = Fp.mul(x2, x); // x\u00B2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x\u00B3 + a * x + b\n  }\n  return weierstrassEquation;\n}\nfunction _weierstrass_new_output_to_legacy<T>(\n  c: CurvePointsType<T>,\n  Point: WeierstrassPointCons<T>\n): CurvePointsRes<T> {\n  const { Fp, Fn } = Point;\n  function isWithinCurveOrder(num: bigint): boolean {\n    return inRange(num, _1n, Fn.ORDER);\n  }\n  const weierstrassEquation = _legacyHelperEquat(Fp, c.a, c.b);\n  return Object.assign(\n    {},\n    {\n      CURVE: c,\n      Point: Point,\n      ProjectivePoint: Point,\n      normPrivateKeyToScalar: (key: PrivKey) => _normFnElement(Fn, key),\n      weierstrassEquation,\n      isWithinCurveOrder,\n    }\n  );\n}\nfunction _ecdsa_new_output_to_legacy(c: CurveType, _ecdsa: ECDSA): CurveFn {\n  const Point = _ecdsa.Point;\n  return Object.assign({}, _ecdsa, {\n    ProjectivePoint: Point,\n    CURVE: Object.assign({}, c, nLength(Point.Fn.ORDER, Point.Fn.BITS)),\n  });\n}\n\n// _ecdsa_legacy\nexport function weierstrass(c: CurveType): CurveFn {\n  const { CURVE, curveOpts, hash, ecdsaOpts } = _ecdsa_legacy_opts_to_new(c);\n  const Point = weierstrassN(CURVE, curveOpts);\n  const signs = ecdsa(Point, hash, ecdsaOpts);\n  return _ecdsa_new_output_to_legacy(c, signs);\n}\n", "/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { type CurveFn, type CurveType, weierstrass } from './abstract/weierstrass.ts';\nimport type { CHash } from './utils.ts';\n\n/** connects noble-curves to noble-hashes */\nexport function getHash(hash: CHash): { hash: CHash } {\n  return { hash };\n}\n/** Same API as @noble/hashes, with ability to create curve with custom hash */\nexport type CurveDef = Readonly<Omit<CurveType, 'hash'>>;\nexport type CurveFnWithCreate = CurveFn & { create: (hash: CHash) => CurveFn };\n\n/** @deprecated use new `weierstrass()` and `ecdsa()` methods */\nexport function createCurve(curveDef: CurveDef, defHash: CHash): CurveFnWithCreate {\n  const create = (hash: CHash): CurveFn => weierstrass({ ...curveDef, hash: hash });\n  return { ...create(defHash), create };\n}\n", "/**\n * SECG secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Belongs to Koblitz curves: it has efficiently-computable GLV endomorphism \u03C8,\n * check out {@link EndomorphismOpts}. Seems to be rigid (not backdoored).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha2.js';\nimport { randomBytes } from '@noble/hashes/utils.js';\nimport { createCurve, type CurveFnWithCreate } from './_shortw_utils.ts';\nimport type { CurveLengths } from './abstract/curve.ts';\nimport {\n  createHasher,\n  type H2CHasher,\n  type H2CMethod,\n  isogenyMap,\n} from './abstract/hash-to-curve.ts';\nimport { Field, mapHashToField, mod, pow2 } from './abstract/modular.ts';\nimport {\n  _normFnElement,\n  type EndomorphismOpts,\n  mapToCurveSimpleSWU,\n  type WeierstrassPoint as PointType,\n  type WeierstrassOpts,\n  type WeierstrassPointCons,\n} from './abstract/weierstrass.ts';\nimport type { Hex, PrivKey } from './utils.ts';\nimport {\n  bytesToNumberBE,\n  concatBytes,\n  ensureBytes,\n  inRange,\n  numberToBytesBE,\n  utf8ToBytes,\n} from './utils.ts';\n\n// Seems like generator was produced from some seed:\n// `Point.BASE.multiply(Point.Fn.inv(2n, N)).toAffine().x`\n// // gives short x 0x3b78ce563f89a0ed9414f5aa28ad0d96d6795f9c63n\nconst secp256k1_CURVE: WeierstrassOpts<bigint> = {\n  p: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n  n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n  h: BigInt(1),\n  a: BigInt(0),\n  b: BigInt(7),\n  Gx: BigInt('0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n  Gy: BigInt('0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8'),\n};\n\nconst secp256k1_ENDO: EndomorphismOpts = {\n  beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n  basises: [\n    [BigInt('0x3086d221a7d46bcde86c90e49284eb15'), -BigInt('0xe4437ed6010e88286f547fa90abfe4c3')],\n    [BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8'), BigInt('0x3086d221a7d46bcde86c90e49284eb15')],\n  ],\n};\n\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nconst _2n = /* @__PURE__ */ BigInt(2);\n\n/**\n * \u221An = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y: bigint): bigint {\n  const P = secp256k1_CURVE.p;\n  // prettier-ignore\n  const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n  // prettier-ignore\n  const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n  const b2 = (y * y * y) % P; // x^3, 11\n  const b3 = (b2 * b2 * y) % P; // x^7\n  const b6 = (pow2(b3, _3n, P) * b3) % P;\n  const b9 = (pow2(b6, _3n, P) * b3) % P;\n  const b11 = (pow2(b9, _2n, P) * b2) % P;\n  const b22 = (pow2(b11, _11n, P) * b11) % P;\n  const b44 = (pow2(b22, _22n, P) * b22) % P;\n  const b88 = (pow2(b44, _44n, P) * b44) % P;\n  const b176 = (pow2(b88, _88n, P) * b88) % P;\n  const b220 = (pow2(b176, _44n, P) * b44) % P;\n  const b223 = (pow2(b220, _3n, P) * b3) % P;\n  const t1 = (pow2(b223, _23n, P) * b22) % P;\n  const t2 = (pow2(t1, _6n, P) * b2) % P;\n  const root = pow2(t2, _2n, P);\n  if (!Fpk1.eql(Fpk1.sqr(root), y)) throw new Error('Cannot find square root');\n  return root;\n}\n\nconst Fpk1 = Field(secp256k1_CURVE.p, { sqrt: sqrtMod });\n\n/**\n * secp256k1 curve, ECDSA and ECDH methods.\n *\n * Field: `2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n`\n *\n * @example\n * ```js\n * import { secp256k1 } from '@noble/curves/secp256k1';\n * const { secretKey, publicKey } = secp256k1.keygen();\n * const msg = new TextEncoder().encode('hello');\n * const sig = secp256k1.sign(msg, secretKey);\n * const isValid = secp256k1.verify(sig, msg, publicKey) === true;\n * ```\n */\nexport const secp256k1: CurveFnWithCreate = createCurve(\n  { ...secp256k1_CURVE, Fp: Fpk1, lowS: true, endo: secp256k1_ENDO },\n  sha256\n);\n\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES: { [tag: string]: Uint8Array } = {};\nfunction taggedHash(tag: string, ...messages: Uint8Array[]): Uint8Array {\n  let tagP = TAGGED_HASH_PREFIXES[tag];\n  if (tagP === undefined) {\n    const tagH = sha256(utf8ToBytes(tag));\n    tagP = concatBytes(tagH, tagH);\n    TAGGED_HASH_PREFIXES[tag] = tagP;\n  }\n  return sha256(concatBytes(tagP, ...messages));\n}\n\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point: PointType<bigint>) => point.toBytes(true).slice(1);\nconst Pointk1 = /* @__PURE__ */ (() => secp256k1.Point)();\nconst hasEven = (y: bigint) => y % _2n === _0n;\n\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv: PrivKey) {\n  const { Fn, BASE } = Pointk1;\n  const d_ = _normFnElement(Fn, priv);\n  const p = BASE.multiply(d_); // P = d'\u22C5G; 0 < d' < n check is done inside\n  const scalar = hasEven(p.y) ? d_ : Fn.neg(d_);\n  return { scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x: bigint): PointType<bigint> {\n  const Fp = Fpk1;\n  if (!Fp.isValidNot0(x)) throw new Error('invalid x: Fail if x \u2265 p');\n  const xx = Fp.create(x * x);\n  const c = Fp.create(xx * x + BigInt(7)); // Let c = x\u00B3 + 7 mod p.\n  let y = Fp.sqrt(c); // Let y = c^(p+1)/4 mod p. Same as sqrt().\n  // Return the unique point P such that x(P) = x and\n  // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n  if (!hasEven(y)) y = Fp.neg(y);\n  const p = Pointk1.fromAffine({ x, y });\n  p.assertValidity();\n  return p;\n}\nconst num = bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args: Uint8Array[]): bigint {\n  return Pointk1.Fn.create(num(taggedHash('BIP0340/challenge', ...args)));\n}\n\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(secretKey: Hex): Uint8Array {\n  return schnorrGetExtPubKey(secretKey).bytes; // d'=int(sk). Fail if d'=0 or d'\u2265n. Ret bytes(d'\u22C5G)\n}\n\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message: Hex, secretKey: PrivKey, auxRand: Hex = randomBytes(32)): Uint8Array {\n  const { Fn } = Pointk1;\n  const m = ensureBytes('message', message);\n  const { bytes: px, scalar: d } = schnorrGetExtPubKey(secretKey); // checks for isWithinCurveOrder\n  const a = ensureBytes('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n  const t = Fn.toBytes(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n  const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n  // Let k' = int(rand) mod n. Fail if k' = 0. Let R = k'\u22C5G\n  const { bytes: rx, scalar: k } = schnorrGetExtPubKey(rand);\n  const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n  const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n  sig.set(rx, 0);\n  sig.set(Fn.toBytes(Fn.create(k + e * d)), 32);\n  // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n  if (!schnorrVerify(sig, m, px)) throw new Error('sign: Invalid signature produced');\n  return sig;\n}\n\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature: Hex, message: Hex, publicKey: Hex): boolean {\n  const { Fn, BASE } = Pointk1;\n  const sig = ensureBytes('signature', signature, 64);\n  const m = ensureBytes('message', message);\n  const pub = ensureBytes('publicKey', publicKey, 32);\n  try {\n    const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n    const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r \u2265 p.\n    if (!inRange(r, _1n, secp256k1_CURVE.p)) return false;\n    const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s \u2265 n.\n    if (!inRange(s, _1n, secp256k1_CURVE.n)) return false;\n    // int(challenge(bytes(r)||bytes(P)||m))%n\n    const e = challenge(Fn.toBytes(r), pointToBytes(P), m);\n    // R = s\u22C5G - e\u22C5P, where -eP == (n-e)P\n    const R = BASE.multiplyUnsafe(s).add(P.multiplyUnsafe(Fn.neg(e)));\n    const { x, y } = R.toAffine();\n    // Fail if is_infinite(R) / not has_even_y(R) / x(R) \u2260 r.\n    if (R.is0() || !hasEven(y) || x !== r) return false;\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nexport type SecpSchnorr = {\n  keygen: (seed?: Uint8Array) => { secretKey: Uint8Array; publicKey: Uint8Array };\n  getPublicKey: typeof schnorrGetPublicKey;\n  sign: typeof schnorrSign;\n  verify: typeof schnorrVerify;\n  Point: WeierstrassPointCons<bigint>;\n  utils: {\n    randomSecretKey: (seed?: Uint8Array) => Uint8Array;\n    pointToBytes: (point: PointType<bigint>) => Uint8Array;\n    lift_x: typeof lift_x;\n    taggedHash: typeof taggedHash;\n\n    /** @deprecated use `randomSecretKey` */\n    randomPrivateKey: (seed?: Uint8Array) => Uint8Array;\n    /** @deprecated use `utils` */\n    numberToBytesBE: typeof numberToBytesBE;\n    /** @deprecated use `utils` */\n    bytesToNumberBE: typeof bytesToNumberBE;\n    /** @deprecated use `modular` */\n    mod: typeof mod;\n  };\n  lengths: CurveLengths;\n};\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * ```js\n * import { schnorr } from '@noble/curves/secp256k1';\n * const { secretKey, publicKey } = schnorr.keygen();\n * // const publicKey = schnorr.getPublicKey(secretKey);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, secretKey);\n * const isValid = schnorr.verify(sig, msg, publicKey);\n * ```\n */\nexport const schnorr: SecpSchnorr = /* @__PURE__ */ (() => {\n  const size = 32;\n  const seedLength = 48;\n  const randomSecretKey = (seed = randomBytes(seedLength)): Uint8Array => {\n    return mapHashToField(seed, secp256k1_CURVE.n);\n  };\n  // TODO: remove\n  secp256k1.utils.randomSecretKey;\n  function keygen(seed?: Uint8Array) {\n    const secretKey = randomSecretKey(seed);\n    return { secretKey, publicKey: schnorrGetPublicKey(secretKey) };\n  }\n  return {\n    keygen,\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    Point: Pointk1,\n    utils: {\n      randomSecretKey: randomSecretKey,\n      randomPrivateKey: randomSecretKey,\n      taggedHash,\n\n      // TODO: remove\n      lift_x,\n      pointToBytes,\n      numberToBytesBE,\n      bytesToNumberBE,\n      mod,\n    },\n    lengths: {\n      secretKey: size,\n      publicKey: size,\n      publicKeyHasPrefix: false,\n      signature: size * 2,\n      seed: seedLength,\n    },\n  };\n})();\n\nconst isoMap = /* @__PURE__ */ (() =>\n  isogenyMap(\n    Fpk1,\n    [\n      // xNum\n      [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n      ],\n      // xDen\n      [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n      // yNum\n      [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n      ],\n      // yDen\n      [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n    ].map((i) => i.map((j) => BigInt(j))) as [bigint[], bigint[], bigint[], bigint[]]\n  ))();\nconst mapSWU = /* @__PURE__ */ (() =>\n  mapToCurveSimpleSWU(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n  }))();\n\n/** Hashing / encoding to secp256k1 points / field. RFC 9380 methods. */\nexport const secp256k1_hasher: H2CHasher<bigint> = /* @__PURE__ */ (() =>\n  createHasher(\n    secp256k1.Point,\n    (scalars: bigint[]) => {\n      const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n      return isoMap(x, y);\n    },\n    {\n      DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n      encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n      p: Fpk1.ORDER,\n      m: 1,\n      k: 128,\n      expand: 'xmd',\n      hash: sha256,\n    }\n  ))();\n\n/** @deprecated use `import { secp256k1_hasher } from '@noble/curves/secp256k1.js';` */\nexport const hashToCurve: H2CMethod<bigint> = /* @__PURE__ */ (() =>\n  secp256k1_hasher.hashToCurve)();\n\n/** @deprecated use `import { secp256k1_hasher } from '@noble/curves/secp256k1.js';` */\nexport const encodeToCurve: H2CMethod<bigint> = /* @__PURE__ */ (() =>\n  secp256k1_hasher.encodeToCurve)();\n", "import {ed25519} from '@noble/curves/ed25519';\n\n/**\n * A 64 byte secret key, the first 32 bytes of which is the\n * private scalar and the last 32 bytes is the public key.\n * Read more: https://blog.mozilla.org/warner/2011/11/29/ed25519-keys/\n */\ntype Ed25519SecretKey = Uint8Array;\n\n/**\n * Ed25519 Keypair\n */\nexport interface Ed25519Keypair {\n  publicKey: Uint8Array;\n  secretKey: Ed25519SecretKey;\n}\n\nexport const generatePrivateKey = ed25519.utils.randomPrivateKey;\nexport const generateKeypair = (): Ed25519Keypair => {\n  const privateScalar = ed25519.utils.randomPrivateKey();\n  const publicKey = getPublicKey(privateScalar);\n  const secretKey = new Uint8Array(64);\n  secretKey.set(privateScalar);\n  secretKey.set(publicKey, 32);\n  return {\n    publicKey,\n    secretKey,\n  };\n};\nexport const getPublicKey = ed25519.getPublicKey;\nexport function isOnCurve(publicKey: Uint8Array): boolean {\n  try {\n    ed25519.ExtendedPoint.fromHex(publicKey);\n    return true;\n  } catch {\n    return false;\n  }\n}\nexport const sign = (\n  message: Parameters<typeof ed25519.sign>[0],\n  secretKey: Ed25519SecretKey,\n) => ed25519.sign(message, secretKey.slice(0, 32));\nexport const verify = ed25519.verify;\n", "import {Buffer} from 'buffer';\n\nexport const toBuffer = (arr: Buffer | Uint8Array | Array<number>): Buffer => {\n  if (Buffer.isBuffer(arr)) {\n    return arr;\n  } else if (arr instanceof Uint8Array) {\n    return Buffer.from(arr.buffer, arr.byteOffset, arr.byteLength);\n  } else {\n    return Buffer.from(arr);\n  }\n};\n", "import {Buffer} from 'buffer';\nimport {serialize, deserialize, deserializeUnchecked} from 'borsh';\n\n// Class wrapping a plain object\nexport class Struct {\n  constructor(properties: any) {\n    Object.assign(this, properties);\n  }\n\n  encode(): Buffer {\n    return Buffer.from(serialize(SOLANA_SCHEMA, this));\n  }\n\n  static decode(data: Buffer): any {\n    return deserialize(SOLANA_SCHEMA, this, data);\n  }\n\n  static decodeUnchecked(data: Buffer): any {\n    return deserializeUnchecked(SOLANA_SCHEMA, this, data);\n  }\n}\n\n// Class representing a Rust-compatible enum, since enums are only strings or\n// numbers in pure JS\nexport class Enum extends Struct {\n  enum: string = '';\n  constructor(properties: any) {\n    super(properties);\n    if (Object.keys(properties).length !== 1) {\n      throw new Error('Enum can only take single value');\n    }\n    Object.keys(properties).map(key => {\n      this.enum = key;\n    });\n  }\n}\n\nexport const SOLANA_SCHEMA: Map<Function, any> = new Map();\n", "import BN from 'bn.js';\nimport bs58 from 'bs58';\nimport {Buffer} from 'buffer';\nimport {sha256} from '@noble/hashes/sha256';\n\nimport {isOnCurve} from './utils/ed25519';\nimport {Struct, SOLANA_SCHEMA} from './utils/borsh-schema';\nimport {toBuffer} from './utils/to-buffer';\n\n/**\n * Maximum length of derived pubkey seed\n */\nexport const MAX_SEED_LENGTH = 32;\n\n/**\n * Size of public key in bytes\n */\nexport const PUBLIC_KEY_LENGTH = 32;\n\n/**\n * Value to be converted into public key\n */\nexport type PublicKeyInitData =\n  | number\n  | string\n  | Uint8Array\n  | Array<number>\n  | PublicKeyData;\n\n/**\n * JSON object representation of PublicKey class\n */\nexport type PublicKeyData = {\n  /** @internal */\n  _bn: BN;\n};\n\nfunction isPublicKeyData(value: PublicKeyInitData): value is PublicKeyData {\n  return (value as PublicKeyData)._bn !== undefined;\n}\n\n// local counter used by PublicKey.unique()\nlet uniquePublicKeyCounter = 1;\n\n/**\n * A public key\n */\nexport class PublicKey extends Struct {\n  /** @internal */\n  _bn: BN;\n\n  /**\n   * Create a new PublicKey object\n   * @param value ed25519 public key as buffer or base-58 encoded string\n   */\n  constructor(value: PublicKeyInitData) {\n    super({});\n    if (isPublicKeyData(value)) {\n      this._bn = value._bn;\n    } else {\n      if (typeof value === 'string') {\n        // assume base 58 encoding by default\n        const decoded = bs58.decode(value);\n        if (decoded.length != PUBLIC_KEY_LENGTH) {\n          throw new Error(`Invalid public key input`);\n        }\n        this._bn = new BN(decoded);\n      } else {\n        this._bn = new BN(value);\n      }\n\n      if (this._bn.byteLength() > PUBLIC_KEY_LENGTH) {\n        throw new Error(`Invalid public key input`);\n      }\n    }\n  }\n\n  /**\n   * Returns a unique PublicKey for tests and benchmarks using a counter\n   */\n  static unique(): PublicKey {\n    const key = new PublicKey(uniquePublicKeyCounter);\n    uniquePublicKeyCounter += 1;\n    return new PublicKey(key.toBuffer());\n  }\n\n  /**\n   * Default public key value. The base58-encoded string representation is all ones (as seen below)\n   * The underlying BN number is 32 bytes that are all zeros\n   */\n  static default: PublicKey = new PublicKey('11111111111111111111111111111111');\n\n  /**\n   * Checks if two publicKeys are equal\n   */\n  equals(publicKey: PublicKey): boolean {\n    return this._bn.eq(publicKey._bn);\n  }\n\n  /**\n   * Return the base-58 representation of the public key\n   */\n  toBase58(): string {\n    return bs58.encode(this.toBytes());\n  }\n\n  toJSON(): string {\n    return this.toBase58();\n  }\n\n  /**\n   * Return the byte array representation of the public key in big endian\n   */\n  toBytes(): Uint8Array {\n    const buf = this.toBuffer();\n    return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);\n  }\n\n  /**\n   * Return the Buffer representation of the public key in big endian\n   */\n  toBuffer(): Buffer {\n    const b = this._bn.toArrayLike(Buffer);\n    if (b.length === PUBLIC_KEY_LENGTH) {\n      return b;\n    }\n\n    const zeroPad = Buffer.alloc(32);\n    b.copy(zeroPad, 32 - b.length);\n    return zeroPad;\n  }\n\n  get [Symbol.toStringTag](): string {\n    return `PublicKey(${this.toString()})`;\n  }\n\n  /**\n   * Return the base-58 representation of the public key\n   */\n  toString(): string {\n    return this.toBase58();\n  }\n\n  /**\n   * Derive a public key from another key, a seed, and a program ID.\n   * The program ID will also serve as the owner of the public key, giving\n   * it permission to write data to the account.\n   */\n  /* eslint-disable require-await */\n  static async createWithSeed(\n    fromPublicKey: PublicKey,\n    seed: string,\n    programId: PublicKey,\n  ): Promise<PublicKey> {\n    const buffer = Buffer.concat([\n      fromPublicKey.toBuffer(),\n      Buffer.from(seed),\n      programId.toBuffer(),\n    ]);\n    const publicKeyBytes = sha256(buffer);\n    return new PublicKey(publicKeyBytes);\n  }\n\n  /**\n   * Derive a program address from seeds and a program ID.\n   */\n  /* eslint-disable require-await */\n  static createProgramAddressSync(\n    seeds: Array<Buffer | Uint8Array>,\n    programId: PublicKey,\n  ): PublicKey {\n    let buffer = Buffer.alloc(0);\n    seeds.forEach(function (seed) {\n      if (seed.length > MAX_SEED_LENGTH) {\n        throw new TypeError(`Max seed length exceeded`);\n      }\n      buffer = Buffer.concat([buffer, toBuffer(seed)]);\n    });\n    buffer = Buffer.concat([\n      buffer,\n      programId.toBuffer(),\n      Buffer.from('ProgramDerivedAddress'),\n    ]);\n    const publicKeyBytes = sha256(buffer);\n    if (isOnCurve(publicKeyBytes)) {\n      throw new Error(`Invalid seeds, address must fall off the curve`);\n    }\n    return new PublicKey(publicKeyBytes);\n  }\n\n  /**\n   * Async version of createProgramAddressSync\n   * For backwards compatibility\n   *\n   * @deprecated Use {@link createProgramAddressSync} instead\n   */\n  /* eslint-disable require-await */\n  static async createProgramAddress(\n    seeds: Array<Buffer | Uint8Array>,\n    programId: PublicKey,\n  ): Promise<PublicKey> {\n    return this.createProgramAddressSync(seeds, programId);\n  }\n\n  /**\n   * Find a valid program address\n   *\n   * Valid program addresses must fall off the ed25519 curve.  This function\n   * iterates a nonce until it finds one that when combined with the seeds\n   * results in a valid program address.\n   */\n  static findProgramAddressSync(\n    seeds: Array<Buffer | Uint8Array>,\n    programId: PublicKey,\n  ): [PublicKey, number] {\n    let nonce = 255;\n    let address;\n    while (nonce != 0) {\n      try {\n        const seedsWithNonce = seeds.concat(Buffer.from([nonce]));\n        address = this.createProgramAddressSync(seedsWithNonce, programId);\n      } catch (err) {\n        if (err instanceof TypeError) {\n          throw err;\n        }\n        nonce--;\n        continue;\n      }\n      return [address, nonce];\n    }\n    throw new Error(`Unable to find a viable program address nonce`);\n  }\n\n  /**\n   * Async version of findProgramAddressSync\n   * For backwards compatibility\n   *\n   * @deprecated Use {@link findProgramAddressSync} instead\n   */\n  static async findProgramAddress(\n    seeds: Array<Buffer | Uint8Array>,\n    programId: PublicKey,\n  ): Promise<[PublicKey, number]> {\n    return this.findProgramAddressSync(seeds, programId);\n  }\n\n  /**\n   * Check that a pubkey is on the ed25519 curve.\n   */\n  static isOnCurve(pubkeyData: PublicKeyInitData): boolean {\n    const pubkey = new PublicKey(pubkeyData);\n    return isOnCurve(pubkey.toBytes());\n  }\n}\n\nSOLANA_SCHEMA.set(PublicKey, {\n  kind: 'struct',\n  fields: [['_bn', 'u256']],\n});\n", "import {Buffer} from 'buffer';\n\nimport {generatePrivateKey, getPublicKey} from './utils/ed25519';\nimport {toBuffer} from './utils/to-buffer';\nimport {PublicKey} from './publickey';\n\n/**\n * An account key pair (public and secret keys).\n *\n * @deprecated since v1.10.0, please use {@link Keypair} instead.\n */\nexport class Account {\n  /** @internal */\n  private _publicKey: Buffer;\n  /** @internal */\n  private _secretKey: Buffer;\n\n  /**\n   * Create a new Account object\n   *\n   * If the secretKey parameter is not provided a new key pair is randomly\n   * created for the account\n   *\n   * @param secretKey Secret key for the account\n   */\n  constructor(secretKey?: Uint8Array | Array<number>) {\n    if (secretKey) {\n      const secretKeyBuffer = toBuffer(secretKey);\n      if (secretKey.length !== 64) {\n        throw new Error('bad secret key size');\n      }\n      this._publicKey = secretKeyBuffer.slice(32, 64);\n      this._secretKey = secretKeyBuffer.slice(0, 32);\n    } else {\n      this._secretKey = toBuffer(generatePrivateKey());\n      this._publicKey = toBuffer(getPublicKey(this._secretKey));\n    }\n  }\n\n  /**\n   * The public key for this account\n   */\n  get publicKey(): PublicKey {\n    return new PublicKey(this._publicKey);\n  }\n\n  /**\n   * The **unencrypted** secret key for this account. The first 32 bytes\n   * is the private scalar and the last 32 bytes is the public key.\n   * Read more: https://blog.mozilla.org/warner/2011/11/29/ed25519-keys/\n   */\n  get secretKey(): Buffer {\n    return Buffer.concat([this._secretKey, this._publicKey], 64);\n  }\n}\n", "import {PublicKey} from './publickey';\n\nexport const BPF_LOADER_DEPRECATED_PROGRAM_ID = new PublicKey(\n  'BPFLoader1111111111111111111111111111111111',\n);\n", "/**\n * Maximum over-the-wire size of a Transaction\n *\n * 1280 is IPv6 minimum MTU\n * 40 bytes is the size of the IPv6 header\n * 8 bytes is the size of the fragment header\n */\nexport const PACKET_DATA_SIZE = 1280 - 40 - 8;\n\nexport const VERSION_PREFIX_MASK = 0x7f;\n\nexport const SIGNATURE_LENGTH_IN_BYTES = 64;\n", "export class TransactionExpiredBlockheightExceededError extends Error {\n  signature: string;\n\n  constructor(signature: string) {\n    super(`Signature ${signature} has expired: block height exceeded.`);\n    this.signature = signature;\n  }\n}\n\nObject.defineProperty(\n  TransactionExpiredBlockheightExceededError.prototype,\n  'name',\n  {\n    value: 'TransactionExpiredBlockheightExceededError',\n  },\n);\n\nexport class TransactionExpiredTimeoutError extends Error {\n  signature: string;\n\n  constructor(signature: string, timeoutSeconds: number) {\n    super(\n      `Transaction was not confirmed in ${timeoutSeconds.toFixed(\n        2,\n      )} seconds. It is ` +\n        'unknown if it succeeded or failed. Check signature ' +\n        `${signature} using the Solana Explorer or CLI tools.`,\n    );\n    this.signature = signature;\n  }\n}\n\nObject.defineProperty(TransactionExpiredTimeoutError.prototype, 'name', {\n  value: 'TransactionExpiredTimeoutError',\n});\n\nexport class TransactionExpiredNonceInvalidError extends Error {\n  signature: string;\n\n  constructor(signature: string) {\n    super(`Signature ${signature} has expired: the nonce is no longer valid.`);\n    this.signature = signature;\n  }\n}\n\nObject.defineProperty(TransactionExpiredNonceInvalidError.prototype, 'name', {\n  value: 'TransactionExpiredNonceInvalidError',\n});\n", "import {LoadedAddresses} from '../connection';\nimport {PublicKey} from '../publickey';\nimport {TransactionInstruction} from '../transaction';\nimport {MessageCompiledInstruction} from './index';\n\nexport type AccountKeysFromLookups = LoadedAddresses;\n\nexport class MessageAccountKeys {\n  staticAccountKeys: Array<PublicKey>;\n  accountKeysFromLookups?: AccountKeysFromLookups;\n\n  constructor(\n    staticAccountKeys: Array<PublicKey>,\n    accountKeysFromLookups?: AccountKeysFromLookups,\n  ) {\n    this.staticAccountKeys = staticAccountKeys;\n    this.accountKeysFromLookups = accountKeysFromLookups;\n  }\n\n  keySegments(): Array<Array<PublicKey>> {\n    const keySegments = [this.staticAccountKeys];\n    if (this.accountKeysFromLookups) {\n      keySegments.push(this.accountKeysFromLookups.writable);\n      keySegments.push(this.accountKeysFromLookups.readonly);\n    }\n    return keySegments;\n  }\n\n  get(index: number): PublicKey | undefined {\n    for (const keySegment of this.keySegments()) {\n      if (index < keySegment.length) {\n        return keySegment[index];\n      } else {\n        index -= keySegment.length;\n      }\n    }\n    return;\n  }\n\n  get length(): number {\n    return this.keySegments().flat().length;\n  }\n\n  compileInstructions(\n    instructions: Array<TransactionInstruction>,\n  ): Array<MessageCompiledInstruction> {\n    // Bail early if any account indexes would overflow a u8\n    const U8_MAX = 255;\n    if (this.length > U8_MAX + 1) {\n      throw new Error('Account index overflow encountered during compilation');\n    }\n\n    const keyIndexMap = new Map();\n    this.keySegments()\n      .flat()\n      .forEach((key, index) => {\n        keyIndexMap.set(key.toBase58(), index);\n      });\n\n    const findKeyIndex = (key: PublicKey) => {\n      const keyIndex = keyIndexMap.get(key.toBase58());\n      if (keyIndex === undefined)\n        throw new Error(\n          'Encountered an unknown instruction account key during compilation',\n        );\n      return keyIndex;\n    };\n\n    return instructions.map((instruction): MessageCompiledInstruction => {\n      return {\n        programIdIndex: findKeyIndex(instruction.programId),\n        accountKeyIndexes: instruction.keys.map(meta =>\n          findKeyIndex(meta.pubkey),\n        ),\n        data: instruction.data,\n      };\n    });\n  }\n}\n", "import {Buffer} from 'buffer';\nimport * as BufferLayout from '@solana/buffer-layout';\n\nimport {VoteAuthorizeWithSeedArgs} from './programs/vote';\n\n/**\n * Layout for a public key\n */\nexport const publicKey = (property: string = 'publicKey') => {\n  return BufferLayout.blob(32, property);\n};\n\n/**\n * Layout for a signature\n */\nexport const signature = (property: string = 'signature') => {\n  return BufferLayout.blob(64, property);\n};\n\n/**\n * Layout for a 64bit unsigned value\n */\nexport const uint64 = (property: string = 'uint64') => {\n  return BufferLayout.blob(8, property);\n};\n\ninterface IRustStringShim\n  extends Omit<\n    BufferLayout.Structure<\n      Readonly<{\n        length: number;\n        lengthPadding: number;\n        chars: Uint8Array;\n      }>\n    >,\n    'decode' | 'encode' | 'replicate'\n  > {\n  alloc: (str: string) => number;\n  decode: (b: Uint8Array, offset?: number) => string;\n  encode: (str: string, b: Uint8Array, offset?: number) => number;\n  replicate: (property: string) => this;\n}\n\n/**\n * Layout for a Rust String type\n */\nexport const rustString = (\n  property: string = 'string',\n): BufferLayout.Layout<string> => {\n  const rsl = BufferLayout.struct<\n    Readonly<{\n      length?: number;\n      lengthPadding?: number;\n      chars: Uint8Array;\n    }>\n  >(\n    [\n      BufferLayout.u32('length'),\n      BufferLayout.u32('lengthPadding'),\n      BufferLayout.blob(BufferLayout.offset(BufferLayout.u32(), -8), 'chars'),\n    ],\n    property,\n  );\n  const _decode = rsl.decode.bind(rsl);\n  const _encode = rsl.encode.bind(rsl);\n\n  const rslShim = rsl as unknown as IRustStringShim;\n\n  rslShim.decode = (b: Uint8Array, offset?: number) => {\n    const data = _decode(b, offset);\n    return data['chars'].toString();\n  };\n\n  rslShim.encode = (str: string, b: Uint8Array, offset?: number) => {\n    const data = {\n      chars: Buffer.from(str, 'utf8'),\n    };\n    return _encode(data, b, offset);\n  };\n\n  rslShim.alloc = (str: string) => {\n    return (\n      BufferLayout.u32().span +\n      BufferLayout.u32().span +\n      Buffer.from(str, 'utf8').length\n    );\n  };\n\n  return rslShim;\n};\n\n/**\n * Layout for an Authorized object\n */\nexport const authorized = (property: string = 'authorized') => {\n  return BufferLayout.struct<\n    Readonly<{\n      staker: Uint8Array;\n      withdrawer: Uint8Array;\n    }>\n  >([publicKey('staker'), publicKey('withdrawer')], property);\n};\n\n/**\n * Layout for a Lockup object\n */\nexport const lockup = (property: string = 'lockup') => {\n  return BufferLayout.struct<\n    Readonly<{\n      custodian: Uint8Array;\n      epoch: number;\n      unixTimestamp: number;\n    }>\n  >(\n    [\n      BufferLayout.ns64('unixTimestamp'),\n      BufferLayout.ns64('epoch'),\n      publicKey('custodian'),\n    ],\n    property,\n  );\n};\n\n/**\n *  Layout for a VoteInit object\n */\nexport const voteInit = (property: string = 'voteInit') => {\n  return BufferLayout.struct<\n    Readonly<{\n      authorizedVoter: Uint8Array;\n      authorizedWithdrawer: Uint8Array;\n      commission: number;\n      nodePubkey: Uint8Array;\n    }>\n  >(\n    [\n      publicKey('nodePubkey'),\n      publicKey('authorizedVoter'),\n      publicKey('authorizedWithdrawer'),\n      BufferLayout.u8('commission'),\n    ],\n    property,\n  );\n};\n\n/**\n *  Layout for a VoteAuthorizeWithSeedArgs object\n */\nexport const voteAuthorizeWithSeedArgs = (\n  property: string = 'voteAuthorizeWithSeedArgs',\n) => {\n  return BufferLayout.struct<VoteAuthorizeWithSeedArgs>(\n    [\n      BufferLayout.u32('voteAuthorizationType'),\n      publicKey('currentAuthorityDerivedKeyOwnerPubkey'),\n      rustString('currentAuthorityDerivedKeySeed'),\n      publicKey('newAuthorized'),\n    ],\n    property,\n  );\n};\n\nexport function getAlloc(type: any, fields: any): number {\n  const getItemAlloc = (item: any): number => {\n    if (item.span >= 0) {\n      return item.span;\n    } else if (typeof item.alloc === 'function') {\n      return item.alloc(fields[item.property]);\n    } else if ('count' in item && 'elementLayout' in item) {\n      const field = fields[item.property];\n      if (Array.isArray(field)) {\n        return field.length * getItemAlloc(item.elementLayout);\n      }\n    } else if ('fields' in item) {\n      // This is a `Structure` whose size needs to be recursively measured.\n      return getAlloc({layout: item}, fields[item.property]);\n    }\n    // Couldn't determine allocated size of layout\n    return 0;\n  };\n\n  let alloc = 0;\n  type.layout.fields.forEach((item: any) => {\n    alloc += getItemAlloc(item);\n  });\n\n  return alloc;\n}\n", "export function decodeLength(bytes: Array<number>): number {\n  let len = 0;\n  let size = 0;\n  for (;;) {\n    let elem = bytes.shift() as number;\n    len |= (elem & 0x7f) << (size * 7);\n    size += 1;\n    if ((elem & 0x80) === 0) {\n      break;\n    }\n  }\n  return len;\n}\n\nexport function encodeLength(bytes: Array<number>, len: number) {\n  let rem_len = len;\n  for (;;) {\n    let elem = rem_len & 0x7f;\n    rem_len >>= 7;\n    if (rem_len == 0) {\n      bytes.push(elem);\n      break;\n    } else {\n      elem |= 0x80;\n      bytes.push(elem);\n    }\n  }\n}\n", "export default function (\n  condition: unknown,\n  message?: string,\n): asserts condition {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}\n", "import {MessageHeader, MessageAddressTableLookup} from './index';\nimport {AccountKeysFromLookups} from './account-keys';\nimport {AddressLookupTableAccount} from '../programs';\nimport {TransactionInstruction} from '../transaction';\nimport assert from '../utils/assert';\nimport {PublicKey} from '../publickey';\n\nexport type CompiledKeyMeta = {\n  isSigner: boolean;\n  isWritable: boolean;\n  isInvoked: boolean;\n};\n\ntype KeyMetaMap = Map<string, CompiledKeyMeta>;\n\nexport class CompiledKeys {\n  payer: PublicKey;\n  keyMetaMap: KeyMetaMap;\n\n  constructor(payer: PublicKey, keyMetaMap: KeyMetaMap) {\n    this.payer = payer;\n    this.keyMetaMap = keyMetaMap;\n  }\n\n  static compile(\n    instructions: Array<TransactionInstruction>,\n    payer: PublicKey,\n  ): CompiledKeys {\n    const keyMetaMap: KeyMetaMap = new Map();\n    const getOrInsertDefault = (pubkey: PublicKey): CompiledKeyMeta => {\n      const address = pubkey.toBase58();\n      let keyMeta = keyMetaMap.get(address);\n      if (keyMeta === undefined) {\n        keyMeta = {\n          isSigner: false,\n          isWritable: false,\n          isInvoked: false,\n        };\n        keyMetaMap.set(address, keyMeta);\n      }\n      return keyMeta;\n    };\n\n    const payerKeyMeta = getOrInsertDefault(payer);\n    payerKeyMeta.isSigner = true;\n    payerKeyMeta.isWritable = true;\n\n    for (const ix of instructions) {\n      getOrInsertDefault(ix.programId).isInvoked = true;\n      for (const accountMeta of ix.keys) {\n        const keyMeta = getOrInsertDefault(accountMeta.pubkey);\n        keyMeta.isSigner ||= accountMeta.isSigner;\n        keyMeta.isWritable ||= accountMeta.isWritable;\n      }\n    }\n\n    return new CompiledKeys(payer, keyMetaMap);\n  }\n\n  getMessageComponents(): [MessageHeader, Array<PublicKey>] {\n    const mapEntries = [...this.keyMetaMap.entries()];\n    assert(mapEntries.length <= 256, 'Max static account keys length exceeded');\n\n    const writableSigners = mapEntries.filter(\n      ([, meta]) => meta.isSigner && meta.isWritable,\n    );\n    const readonlySigners = mapEntries.filter(\n      ([, meta]) => meta.isSigner && !meta.isWritable,\n    );\n    const writableNonSigners = mapEntries.filter(\n      ([, meta]) => !meta.isSigner && meta.isWritable,\n    );\n    const readonlyNonSigners = mapEntries.filter(\n      ([, meta]) => !meta.isSigner && !meta.isWritable,\n    );\n\n    const header: MessageHeader = {\n      numRequiredSignatures: writableSigners.length + readonlySigners.length,\n      numReadonlySignedAccounts: readonlySigners.length,\n      numReadonlyUnsignedAccounts: readonlyNonSigners.length,\n    };\n\n    // sanity checks\n    {\n      assert(\n        writableSigners.length > 0,\n        'Expected at least one writable signer key',\n      );\n      const [payerAddress] = writableSigners[0];\n      assert(\n        payerAddress === this.payer.toBase58(),\n        'Expected first writable signer key to be the fee payer',\n      );\n    }\n\n    const staticAccountKeys = [\n      ...writableSigners.map(([address]) => new PublicKey(address)),\n      ...readonlySigners.map(([address]) => new PublicKey(address)),\n      ...writableNonSigners.map(([address]) => new PublicKey(address)),\n      ...readonlyNonSigners.map(([address]) => new PublicKey(address)),\n    ];\n\n    return [header, staticAccountKeys];\n  }\n\n  extractTableLookup(\n    lookupTable: AddressLookupTableAccount,\n  ): [MessageAddressTableLookup, AccountKeysFromLookups] | undefined {\n    const [writableIndexes, drainedWritableKeys] =\n      this.drainKeysFoundInLookupTable(\n        lookupTable.state.addresses,\n        keyMeta =>\n          !keyMeta.isSigner && !keyMeta.isInvoked && keyMeta.isWritable,\n      );\n    const [readonlyIndexes, drainedReadonlyKeys] =\n      this.drainKeysFoundInLookupTable(\n        lookupTable.state.addresses,\n        keyMeta =>\n          !keyMeta.isSigner && !keyMeta.isInvoked && !keyMeta.isWritable,\n      );\n\n    // Don't extract lookup if no keys were found\n    if (writableIndexes.length === 0 && readonlyIndexes.length === 0) {\n      return;\n    }\n\n    return [\n      {\n        accountKey: lookupTable.key,\n        writableIndexes,\n        readonlyIndexes,\n      },\n      {\n        writable: drainedWritableKeys,\n        readonly: drainedReadonlyKeys,\n      },\n    ];\n  }\n\n  /** @internal */\n  private drainKeysFoundInLookupTable(\n    lookupTableEntries: Array<PublicKey>,\n    keyMetaFilter: (keyMeta: CompiledKeyMeta) => boolean,\n  ): [Array<number>, Array<PublicKey>] {\n    const lookupTableIndexes = new Array();\n    const drainedKeys = new Array();\n\n    for (const [address, keyMeta] of this.keyMetaMap.entries()) {\n      if (keyMetaFilter(keyMeta)) {\n        const key = new PublicKey(address);\n        const lookupTableIndex = lookupTableEntries.findIndex(entry =>\n          entry.equals(key),\n        );\n        if (lookupTableIndex >= 0) {\n          assert(lookupTableIndex < 256, 'Max lookup table index exceeded');\n          lookupTableIndexes.push(lookupTableIndex);\n          drainedKeys.push(key);\n          this.keyMetaMap.delete(address);\n        }\n      }\n    }\n\n    return [lookupTableIndexes, drainedKeys];\n  }\n}\n", "const END_OF_BUFFER_ERROR_MESSAGE = 'Reached end of buffer unexpectedly';\n\n/**\n * Delegates to `Array#shift`, but throws if the array is zero-length.\n */\nexport function guardedShift<T>(byteArray: T[]): T {\n  if (byteArray.length === 0) {\n    throw new Error(END_OF_BUFFER_ERROR_MESSAGE);\n  }\n  return byteArray.shift() as T;\n}\n\n/**\n * Delegates to `Array#splice`, but throws if the section being spliced out extends past the end of\n * the array.\n */\nexport function guardedSplice<T>(\n  byteArray: T[],\n  ...args:\n    | [start: number, deleteCount?: number]\n    | [start: number, deleteCount: number, ...items: T[]]\n): T[] {\n  const [start] = args;\n  if (\n    args.length === 2 // Implies that `deleteCount` was supplied\n      ? start + (args[1] ?? 0) > byteArray.length\n      : start >= byteArray.length\n  ) {\n    throw new Error(END_OF_BUFFER_ERROR_MESSAGE);\n  }\n  return byteArray.splice(\n    ...(args as Parameters<typeof Array.prototype.splice>),\n  );\n}\n", "import bs58 from 'bs58';\nimport {Buffer} from 'buffer';\nimport * as BufferLayout from '@solana/buffer-layout';\n\nimport {PublicKey, PUBLIC_KEY_LENGTH} from '../publickey';\nimport type {Blockhash} from '../blockhash';\nimport * as Layout from '../layout';\nimport {PACKET_DATA_SIZE, VERSION_PREFIX_MASK} from '../transaction/constants';\nimport * as shortvec from '../utils/shortvec-encoding';\nimport {toBuffer} from '../utils/to-buffer';\nimport {\n  MessageHeader,\n  MessageAddressTableLookup,\n  MessageCompiledInstruction,\n} from './index';\nimport {TransactionInstruction} from '../transaction';\nimport {CompiledKeys} from './compiled-keys';\nimport {MessageAccountKeys} from './account-keys';\nimport {guardedShift, guardedSplice} from '../utils/guarded-array-utils';\n\n/**\n * An instruction to execute by a program\n *\n * @property {number} programIdIndex\n * @property {number[]} accounts\n * @property {string} data\n */\nexport type CompiledInstruction = {\n  /** Index into the transaction keys array indicating the program account that executes this instruction */\n  programIdIndex: number;\n  /** Ordered indices into the transaction keys array indicating which accounts to pass to the program */\n  accounts: number[];\n  /** The program input data encoded as base 58 */\n  data: string;\n};\n\n/**\n * Message constructor arguments\n */\nexport type MessageArgs = {\n  /** The message header, identifying signed and read-only `accountKeys` */\n  header: MessageHeader;\n  /** All the account keys used by this transaction */\n  accountKeys: string[] | PublicKey[];\n  /** The hash of a recent ledger block */\n  recentBlockhash: Blockhash;\n  /** Instructions that will be executed in sequence and committed in one atomic transaction if all succeed. */\n  instructions: CompiledInstruction[];\n};\n\nexport type CompileLegacyArgs = {\n  payerKey: PublicKey;\n  instructions: Array<TransactionInstruction>;\n  recentBlockhash: Blockhash;\n};\n\n/**\n * List of instructions to be processed atomically\n */\nexport class Message {\n  header: MessageHeader;\n  accountKeys: PublicKey[];\n  recentBlockhash: Blockhash;\n  instructions: CompiledInstruction[];\n\n  private indexToProgramIds: Map<number, PublicKey> = new Map<\n    number,\n    PublicKey\n  >();\n\n  constructor(args: MessageArgs) {\n    this.header = args.header;\n    this.accountKeys = args.accountKeys.map(account => new PublicKey(account));\n    this.recentBlockhash = args.recentBlockhash;\n    this.instructions = args.instructions;\n    this.instructions.forEach(ix =>\n      this.indexToProgramIds.set(\n        ix.programIdIndex,\n        this.accountKeys[ix.programIdIndex],\n      ),\n    );\n  }\n\n  get version(): 'legacy' {\n    return 'legacy';\n  }\n\n  get staticAccountKeys(): Array<PublicKey> {\n    return this.accountKeys;\n  }\n\n  get compiledInstructions(): Array<MessageCompiledInstruction> {\n    return this.instructions.map(\n      (ix): MessageCompiledInstruction => ({\n        programIdIndex: ix.programIdIndex,\n        accountKeyIndexes: ix.accounts,\n        data: bs58.decode(ix.data),\n      }),\n    );\n  }\n\n  get addressTableLookups(): Array<MessageAddressTableLookup> {\n    return [];\n  }\n\n  getAccountKeys(): MessageAccountKeys {\n    return new MessageAccountKeys(this.staticAccountKeys);\n  }\n\n  static compile(args: CompileLegacyArgs): Message {\n    const compiledKeys = CompiledKeys.compile(args.instructions, args.payerKey);\n    const [header, staticAccountKeys] = compiledKeys.getMessageComponents();\n    const accountKeys = new MessageAccountKeys(staticAccountKeys);\n    const instructions = accountKeys.compileInstructions(args.instructions).map(\n      (ix: MessageCompiledInstruction): CompiledInstruction => ({\n        programIdIndex: ix.programIdIndex,\n        accounts: ix.accountKeyIndexes,\n        data: bs58.encode(ix.data),\n      }),\n    );\n    return new Message({\n      header,\n      accountKeys: staticAccountKeys,\n      recentBlockhash: args.recentBlockhash,\n      instructions,\n    });\n  }\n\n  isAccountSigner(index: number): boolean {\n    return index < this.header.numRequiredSignatures;\n  }\n\n  isAccountWritable(index: number): boolean {\n    const numSignedAccounts = this.header.numRequiredSignatures;\n    if (index >= this.header.numRequiredSignatures) {\n      const unsignedAccountIndex = index - numSignedAccounts;\n      const numUnsignedAccounts = this.accountKeys.length - numSignedAccounts;\n      const numWritableUnsignedAccounts =\n        numUnsignedAccounts - this.header.numReadonlyUnsignedAccounts;\n      return unsignedAccountIndex < numWritableUnsignedAccounts;\n    } else {\n      const numWritableSignedAccounts =\n        numSignedAccounts - this.header.numReadonlySignedAccounts;\n      return index < numWritableSignedAccounts;\n    }\n  }\n\n  isProgramId(index: number): boolean {\n    return this.indexToProgramIds.has(index);\n  }\n\n  programIds(): PublicKey[] {\n    return [...this.indexToProgramIds.values()];\n  }\n\n  nonProgramIds(): PublicKey[] {\n    return this.accountKeys.filter((_, index) => !this.isProgramId(index));\n  }\n\n  serialize(): Buffer {\n    const numKeys = this.accountKeys.length;\n\n    let keyCount: number[] = [];\n    shortvec.encodeLength(keyCount, numKeys);\n\n    const instructions = this.instructions.map(instruction => {\n      const {accounts, programIdIndex} = instruction;\n      const data = Array.from(bs58.decode(instruction.data));\n\n      let keyIndicesCount: number[] = [];\n      shortvec.encodeLength(keyIndicesCount, accounts.length);\n\n      let dataCount: number[] = [];\n      shortvec.encodeLength(dataCount, data.length);\n\n      return {\n        programIdIndex,\n        keyIndicesCount: Buffer.from(keyIndicesCount),\n        keyIndices: accounts,\n        dataLength: Buffer.from(dataCount),\n        data,\n      };\n    });\n\n    let instructionCount: number[] = [];\n    shortvec.encodeLength(instructionCount, instructions.length);\n    let instructionBuffer = Buffer.alloc(PACKET_DATA_SIZE);\n    Buffer.from(instructionCount).copy(instructionBuffer);\n    let instructionBufferLength = instructionCount.length;\n\n    instructions.forEach(instruction => {\n      const instructionLayout = BufferLayout.struct<\n        Readonly<{\n          data: number[];\n          dataLength: Uint8Array;\n          keyIndices: number[];\n          keyIndicesCount: Uint8Array;\n          programIdIndex: number;\n        }>\n      >([\n        BufferLayout.u8('programIdIndex'),\n\n        BufferLayout.blob(\n          instruction.keyIndicesCount.length,\n          'keyIndicesCount',\n        ),\n        BufferLayout.seq(\n          BufferLayout.u8('keyIndex'),\n          instruction.keyIndices.length,\n          'keyIndices',\n        ),\n        BufferLayout.blob(instruction.dataLength.length, 'dataLength'),\n        BufferLayout.seq(\n          BufferLayout.u8('userdatum'),\n          instruction.data.length,\n          'data',\n        ),\n      ]);\n      const length = instructionLayout.encode(\n        instruction,\n        instructionBuffer,\n        instructionBufferLength,\n      );\n      instructionBufferLength += length;\n    });\n    instructionBuffer = instructionBuffer.slice(0, instructionBufferLength);\n\n    const signDataLayout = BufferLayout.struct<\n      Readonly<{\n        keyCount: Uint8Array;\n        keys: Uint8Array[];\n        numReadonlySignedAccounts: Uint8Array;\n        numReadonlyUnsignedAccounts: Uint8Array;\n        numRequiredSignatures: Uint8Array;\n        recentBlockhash: Uint8Array;\n      }>\n    >([\n      BufferLayout.blob(1, 'numRequiredSignatures'),\n      BufferLayout.blob(1, 'numReadonlySignedAccounts'),\n      BufferLayout.blob(1, 'numReadonlyUnsignedAccounts'),\n      BufferLayout.blob(keyCount.length, 'keyCount'),\n      BufferLayout.seq(Layout.publicKey('key'), numKeys, 'keys'),\n      Layout.publicKey('recentBlockhash'),\n    ]);\n\n    const transaction = {\n      numRequiredSignatures: Buffer.from([this.header.numRequiredSignatures]),\n      numReadonlySignedAccounts: Buffer.from([\n        this.header.numReadonlySignedAccounts,\n      ]),\n      numReadonlyUnsignedAccounts: Buffer.from([\n        this.header.numReadonlyUnsignedAccounts,\n      ]),\n      keyCount: Buffer.from(keyCount),\n      keys: this.accountKeys.map(key => toBuffer(key.toBytes())),\n      recentBlockhash: bs58.decode(this.recentBlockhash),\n    };\n\n    let signData = Buffer.alloc(2048);\n    const length = signDataLayout.encode(transaction, signData);\n    instructionBuffer.copy(signData, length);\n    return signData.slice(0, length + instructionBuffer.length);\n  }\n\n  /**\n   * Decode a compiled message into a Message object.\n   */\n  static from(buffer: Buffer | Uint8Array | Array<number>): Message {\n    // Slice up wire data\n    let byteArray = [...buffer];\n\n    const numRequiredSignatures = guardedShift(byteArray);\n    if (\n      numRequiredSignatures !==\n      (numRequiredSignatures & VERSION_PREFIX_MASK)\n    ) {\n      throw new Error(\n        'Versioned messages must be deserialized with VersionedMessage.deserialize()',\n      );\n    }\n\n    const numReadonlySignedAccounts = guardedShift(byteArray);\n    const numReadonlyUnsignedAccounts = guardedShift(byteArray);\n\n    const accountCount = shortvec.decodeLength(byteArray);\n    let accountKeys = [];\n    for (let i = 0; i < accountCount; i++) {\n      const account = guardedSplice(byteArray, 0, PUBLIC_KEY_LENGTH);\n      accountKeys.push(new PublicKey(Buffer.from(account)));\n    }\n\n    const recentBlockhash = guardedSplice(byteArray, 0, PUBLIC_KEY_LENGTH);\n\n    const instructionCount = shortvec.decodeLength(byteArray);\n    let instructions: CompiledInstruction[] = [];\n    for (let i = 0; i < instructionCount; i++) {\n      const programIdIndex = guardedShift(byteArray);\n      const accountCount = shortvec.decodeLength(byteArray);\n      const accounts = guardedSplice(byteArray, 0, accountCount);\n      const dataLength = shortvec.decodeLength(byteArray);\n      const dataSlice = guardedSplice(byteArray, 0, dataLength);\n      const data = bs58.encode(Buffer.from(dataSlice));\n      instructions.push({\n        programIdIndex,\n        accounts,\n        data,\n      });\n    }\n\n    const messageArgs = {\n      header: {\n        numRequiredSignatures,\n        numReadonlySignedAccounts,\n        numReadonlyUnsignedAccounts,\n      },\n      recentBlockhash: bs58.encode(Buffer.from(recentBlockhash)),\n      accountKeys,\n      instructions,\n    };\n\n    return new Message(messageArgs);\n  }\n}\n", "import bs58 from 'bs58';\nimport * as BufferLayout from '@solana/buffer-layout';\n\nimport * as Layout from '../layout';\nimport {Blockhash} from '../blockhash';\nimport {\n  MessageHeader,\n  MessageAddressTableLookup,\n  MessageCompiledInstruction,\n} from './index';\nimport {PublicKey, PUBLIC_KEY_LENGTH} from '../publickey';\nimport * as shortvec from '../utils/shortvec-encoding';\nimport assert from '../utils/assert';\nimport {PACKET_DATA_SIZE, VERSION_PREFIX_MASK} from '../transaction/constants';\nimport {TransactionInstruction} from '../transaction';\nimport {AddressLookupTableAccount} from '../programs';\nimport {CompiledKeys} from './compiled-keys';\nimport {AccountKeysFromLookups, MessageAccountKeys} from './account-keys';\nimport {guardedShift, guardedSplice} from '../utils/guarded-array-utils';\n\n/**\n * Message constructor arguments\n */\nexport type MessageV0Args = {\n  /** The message header, identifying signed and read-only `accountKeys` */\n  header: MessageHeader;\n  /** The static account keys used by this transaction */\n  staticAccountKeys: PublicKey[];\n  /** The hash of a recent ledger block */\n  recentBlockhash: Blockhash;\n  /** Instructions that will be executed in sequence and committed in one atomic transaction if all succeed. */\n  compiledInstructions: MessageCompiledInstruction[];\n  /** Instructions that will be executed in sequence and committed in one atomic transaction if all succeed. */\n  addressTableLookups: MessageAddressTableLookup[];\n};\n\nexport type CompileV0Args = {\n  payerKey: PublicKey;\n  instructions: Array<TransactionInstruction>;\n  recentBlockhash: Blockhash;\n  addressLookupTableAccounts?: Array<AddressLookupTableAccount>;\n};\n\nexport type GetAccountKeysArgs =\n  | {\n      accountKeysFromLookups?: AccountKeysFromLookups | null;\n    }\n  | {\n      addressLookupTableAccounts?: AddressLookupTableAccount[] | null;\n    };\n\nexport class MessageV0 {\n  header: MessageHeader;\n  staticAccountKeys: Array<PublicKey>;\n  recentBlockhash: Blockhash;\n  compiledInstructions: Array<MessageCompiledInstruction>;\n  addressTableLookups: Array<MessageAddressTableLookup>;\n\n  constructor(args: MessageV0Args) {\n    this.header = args.header;\n    this.staticAccountKeys = args.staticAccountKeys;\n    this.recentBlockhash = args.recentBlockhash;\n    this.compiledInstructions = args.compiledInstructions;\n    this.addressTableLookups = args.addressTableLookups;\n  }\n\n  get version(): 0 {\n    return 0;\n  }\n\n  get numAccountKeysFromLookups(): number {\n    let count = 0;\n    for (const lookup of this.addressTableLookups) {\n      count += lookup.readonlyIndexes.length + lookup.writableIndexes.length;\n    }\n    return count;\n  }\n\n  getAccountKeys(args?: GetAccountKeysArgs): MessageAccountKeys {\n    let accountKeysFromLookups: AccountKeysFromLookups | undefined;\n    if (\n      args &&\n      'accountKeysFromLookups' in args &&\n      args.accountKeysFromLookups\n    ) {\n      if (\n        this.numAccountKeysFromLookups !=\n        args.accountKeysFromLookups.writable.length +\n          args.accountKeysFromLookups.readonly.length\n      ) {\n        throw new Error(\n          'Failed to get account keys because of a mismatch in the number of account keys from lookups',\n        );\n      }\n      accountKeysFromLookups = args.accountKeysFromLookups;\n    } else if (\n      args &&\n      'addressLookupTableAccounts' in args &&\n      args.addressLookupTableAccounts\n    ) {\n      accountKeysFromLookups = this.resolveAddressTableLookups(\n        args.addressLookupTableAccounts,\n      );\n    } else if (this.addressTableLookups.length > 0) {\n      throw new Error(\n        'Failed to get account keys because address table lookups were not resolved',\n      );\n    }\n    return new MessageAccountKeys(\n      this.staticAccountKeys,\n      accountKeysFromLookups,\n    );\n  }\n\n  isAccountSigner(index: number): boolean {\n    return index < this.header.numRequiredSignatures;\n  }\n\n  isAccountWritable(index: number): boolean {\n    const numSignedAccounts = this.header.numRequiredSignatures;\n    const numStaticAccountKeys = this.staticAccountKeys.length;\n    if (index >= numStaticAccountKeys) {\n      const lookupAccountKeysIndex = index - numStaticAccountKeys;\n      const numWritableLookupAccountKeys = this.addressTableLookups.reduce(\n        (count, lookup) => count + lookup.writableIndexes.length,\n        0,\n      );\n      return lookupAccountKeysIndex < numWritableLookupAccountKeys;\n    } else if (index >= this.header.numRequiredSignatures) {\n      const unsignedAccountIndex = index - numSignedAccounts;\n      const numUnsignedAccounts = numStaticAccountKeys - numSignedAccounts;\n      const numWritableUnsignedAccounts =\n        numUnsignedAccounts - this.header.numReadonlyUnsignedAccounts;\n      return unsignedAccountIndex < numWritableUnsignedAccounts;\n    } else {\n      const numWritableSignedAccounts =\n        numSignedAccounts - this.header.numReadonlySignedAccounts;\n      return index < numWritableSignedAccounts;\n    }\n  }\n\n  resolveAddressTableLookups(\n    addressLookupTableAccounts: AddressLookupTableAccount[],\n  ): AccountKeysFromLookups {\n    const accountKeysFromLookups: AccountKeysFromLookups = {\n      writable: [],\n      readonly: [],\n    };\n\n    for (const tableLookup of this.addressTableLookups) {\n      const tableAccount = addressLookupTableAccounts.find(account =>\n        account.key.equals(tableLookup.accountKey),\n      );\n      if (!tableAccount) {\n        throw new Error(\n          `Failed to find address lookup table account for table key ${tableLookup.accountKey.toBase58()}`,\n        );\n      }\n\n      for (const index of tableLookup.writableIndexes) {\n        if (index < tableAccount.state.addresses.length) {\n          accountKeysFromLookups.writable.push(\n            tableAccount.state.addresses[index],\n          );\n        } else {\n          throw new Error(\n            `Failed to find address for index ${index} in address lookup table ${tableLookup.accountKey.toBase58()}`,\n          );\n        }\n      }\n\n      for (const index of tableLookup.readonlyIndexes) {\n        if (index < tableAccount.state.addresses.length) {\n          accountKeysFromLookups.readonly.push(\n            tableAccount.state.addresses[index],\n          );\n        } else {\n          throw new Error(\n            `Failed to find address for index ${index} in address lookup table ${tableLookup.accountKey.toBase58()}`,\n          );\n        }\n      }\n    }\n\n    return accountKeysFromLookups;\n  }\n\n  static compile(args: CompileV0Args): MessageV0 {\n    const compiledKeys = CompiledKeys.compile(args.instructions, args.payerKey);\n\n    const addressTableLookups = new Array<MessageAddressTableLookup>();\n    const accountKeysFromLookups: AccountKeysFromLookups = {\n      writable: new Array(),\n      readonly: new Array(),\n    };\n    const lookupTableAccounts = args.addressLookupTableAccounts || [];\n    for (const lookupTable of lookupTableAccounts) {\n      const extractResult = compiledKeys.extractTableLookup(lookupTable);\n      if (extractResult !== undefined) {\n        const [addressTableLookup, {writable, readonly}] = extractResult;\n        addressTableLookups.push(addressTableLookup);\n        accountKeysFromLookups.writable.push(...writable);\n        accountKeysFromLookups.readonly.push(...readonly);\n      }\n    }\n\n    const [header, staticAccountKeys] = compiledKeys.getMessageComponents();\n    const accountKeys = new MessageAccountKeys(\n      staticAccountKeys,\n      accountKeysFromLookups,\n    );\n    const compiledInstructions = accountKeys.compileInstructions(\n      args.instructions,\n    );\n    return new MessageV0({\n      header,\n      staticAccountKeys,\n      recentBlockhash: args.recentBlockhash,\n      compiledInstructions,\n      addressTableLookups,\n    });\n  }\n\n  serialize(): Uint8Array {\n    const encodedStaticAccountKeysLength = Array<number>();\n    shortvec.encodeLength(\n      encodedStaticAccountKeysLength,\n      this.staticAccountKeys.length,\n    );\n\n    const serializedInstructions = this.serializeInstructions();\n    const encodedInstructionsLength = Array<number>();\n    shortvec.encodeLength(\n      encodedInstructionsLength,\n      this.compiledInstructions.length,\n    );\n\n    const serializedAddressTableLookups = this.serializeAddressTableLookups();\n    const encodedAddressTableLookupsLength = Array<number>();\n    shortvec.encodeLength(\n      encodedAddressTableLookupsLength,\n      this.addressTableLookups.length,\n    );\n\n    const messageLayout = BufferLayout.struct<{\n      prefix: number;\n      header: MessageHeader;\n      staticAccountKeysLength: Uint8Array;\n      staticAccountKeys: Array<Uint8Array>;\n      recentBlockhash: Uint8Array;\n      instructionsLength: Uint8Array;\n      serializedInstructions: Uint8Array;\n      addressTableLookupsLength: Uint8Array;\n      serializedAddressTableLookups: Uint8Array;\n    }>([\n      BufferLayout.u8('prefix'),\n      BufferLayout.struct<MessageHeader>(\n        [\n          BufferLayout.u8('numRequiredSignatures'),\n          BufferLayout.u8('numReadonlySignedAccounts'),\n          BufferLayout.u8('numReadonlyUnsignedAccounts'),\n        ],\n        'header',\n      ),\n      BufferLayout.blob(\n        encodedStaticAccountKeysLength.length,\n        'staticAccountKeysLength',\n      ),\n      BufferLayout.seq(\n        Layout.publicKey(),\n        this.staticAccountKeys.length,\n        'staticAccountKeys',\n      ),\n      Layout.publicKey('recentBlockhash'),\n      BufferLayout.blob(encodedInstructionsLength.length, 'instructionsLength'),\n      BufferLayout.blob(\n        serializedInstructions.length,\n        'serializedInstructions',\n      ),\n      BufferLayout.blob(\n        encodedAddressTableLookupsLength.length,\n        'addressTableLookupsLength',\n      ),\n      BufferLayout.blob(\n        serializedAddressTableLookups.length,\n        'serializedAddressTableLookups',\n      ),\n    ]);\n\n    const serializedMessage = new Uint8Array(PACKET_DATA_SIZE);\n    const MESSAGE_VERSION_0_PREFIX = 1 << 7;\n    const serializedMessageLength = messageLayout.encode(\n      {\n        prefix: MESSAGE_VERSION_0_PREFIX,\n        header: this.header,\n        staticAccountKeysLength: new Uint8Array(encodedStaticAccountKeysLength),\n        staticAccountKeys: this.staticAccountKeys.map(key => key.toBytes()),\n        recentBlockhash: bs58.decode(this.recentBlockhash),\n        instructionsLength: new Uint8Array(encodedInstructionsLength),\n        serializedInstructions,\n        addressTableLookupsLength: new Uint8Array(\n          encodedAddressTableLookupsLength,\n        ),\n        serializedAddressTableLookups,\n      },\n      serializedMessage,\n    );\n    return serializedMessage.slice(0, serializedMessageLength);\n  }\n\n  private serializeInstructions(): Uint8Array {\n    let serializedLength = 0;\n    const serializedInstructions = new Uint8Array(PACKET_DATA_SIZE);\n    for (const instruction of this.compiledInstructions) {\n      const encodedAccountKeyIndexesLength = Array<number>();\n      shortvec.encodeLength(\n        encodedAccountKeyIndexesLength,\n        instruction.accountKeyIndexes.length,\n      );\n\n      const encodedDataLength = Array<number>();\n      shortvec.encodeLength(encodedDataLength, instruction.data.length);\n\n      const instructionLayout = BufferLayout.struct<{\n        programIdIndex: number;\n        encodedAccountKeyIndexesLength: Uint8Array;\n        accountKeyIndexes: number[];\n        encodedDataLength: Uint8Array;\n        data: Uint8Array;\n      }>([\n        BufferLayout.u8('programIdIndex'),\n        BufferLayout.blob(\n          encodedAccountKeyIndexesLength.length,\n          'encodedAccountKeyIndexesLength',\n        ),\n        BufferLayout.seq(\n          BufferLayout.u8(),\n          instruction.accountKeyIndexes.length,\n          'accountKeyIndexes',\n        ),\n        BufferLayout.blob(encodedDataLength.length, 'encodedDataLength'),\n        BufferLayout.blob(instruction.data.length, 'data'),\n      ]);\n\n      serializedLength += instructionLayout.encode(\n        {\n          programIdIndex: instruction.programIdIndex,\n          encodedAccountKeyIndexesLength: new Uint8Array(\n            encodedAccountKeyIndexesLength,\n          ),\n          accountKeyIndexes: instruction.accountKeyIndexes,\n          encodedDataLength: new Uint8Array(encodedDataLength),\n          data: instruction.data,\n        },\n        serializedInstructions,\n        serializedLength,\n      );\n    }\n\n    return serializedInstructions.slice(0, serializedLength);\n  }\n\n  private serializeAddressTableLookups(): Uint8Array {\n    let serializedLength = 0;\n    const serializedAddressTableLookups = new Uint8Array(PACKET_DATA_SIZE);\n    for (const lookup of this.addressTableLookups) {\n      const encodedWritableIndexesLength = Array<number>();\n      shortvec.encodeLength(\n        encodedWritableIndexesLength,\n        lookup.writableIndexes.length,\n      );\n\n      const encodedReadonlyIndexesLength = Array<number>();\n      shortvec.encodeLength(\n        encodedReadonlyIndexesLength,\n        lookup.readonlyIndexes.length,\n      );\n\n      const addressTableLookupLayout = BufferLayout.struct<{\n        accountKey: Uint8Array;\n        encodedWritableIndexesLength: Uint8Array;\n        writableIndexes: number[];\n        encodedReadonlyIndexesLength: Uint8Array;\n        readonlyIndexes: number[];\n      }>([\n        Layout.publicKey('accountKey'),\n        BufferLayout.blob(\n          encodedWritableIndexesLength.length,\n          'encodedWritableIndexesLength',\n        ),\n        BufferLayout.seq(\n          BufferLayout.u8(),\n          lookup.writableIndexes.length,\n          'writableIndexes',\n        ),\n        BufferLayout.blob(\n          encodedReadonlyIndexesLength.length,\n          'encodedReadonlyIndexesLength',\n        ),\n        BufferLayout.seq(\n          BufferLayout.u8(),\n          lookup.readonlyIndexes.length,\n          'readonlyIndexes',\n        ),\n      ]);\n\n      serializedLength += addressTableLookupLayout.encode(\n        {\n          accountKey: lookup.accountKey.toBytes(),\n          encodedWritableIndexesLength: new Uint8Array(\n            encodedWritableIndexesLength,\n          ),\n          writableIndexes: lookup.writableIndexes,\n          encodedReadonlyIndexesLength: new Uint8Array(\n            encodedReadonlyIndexesLength,\n          ),\n          readonlyIndexes: lookup.readonlyIndexes,\n        },\n        serializedAddressTableLookups,\n        serializedLength,\n      );\n    }\n\n    return serializedAddressTableLookups.slice(0, serializedLength);\n  }\n\n  static deserialize(serializedMessage: Uint8Array): MessageV0 {\n    let byteArray = [...serializedMessage];\n\n    const prefix = guardedShift(byteArray);\n    const maskedPrefix = prefix & VERSION_PREFIX_MASK;\n    assert(\n      prefix !== maskedPrefix,\n      `Expected versioned message but received legacy message`,\n    );\n\n    const version = maskedPrefix;\n    assert(\n      version === 0,\n      `Expected versioned message with version 0 but found version ${version}`,\n    );\n\n    const header: MessageHeader = {\n      numRequiredSignatures: guardedShift(byteArray),\n      numReadonlySignedAccounts: guardedShift(byteArray),\n      numReadonlyUnsignedAccounts: guardedShift(byteArray),\n    };\n\n    const staticAccountKeys = [];\n    const staticAccountKeysLength = shortvec.decodeLength(byteArray);\n    for (let i = 0; i < staticAccountKeysLength; i++) {\n      staticAccountKeys.push(\n        new PublicKey(guardedSplice(byteArray, 0, PUBLIC_KEY_LENGTH)),\n      );\n    }\n\n    const recentBlockhash = bs58.encode(\n      guardedSplice(byteArray, 0, PUBLIC_KEY_LENGTH),\n    );\n\n    const instructionCount = shortvec.decodeLength(byteArray);\n    const compiledInstructions: MessageCompiledInstruction[] = [];\n    for (let i = 0; i < instructionCount; i++) {\n      const programIdIndex = guardedShift(byteArray);\n      const accountKeyIndexesLength = shortvec.decodeLength(byteArray);\n      const accountKeyIndexes = guardedSplice(\n        byteArray,\n        0,\n        accountKeyIndexesLength,\n      );\n      const dataLength = shortvec.decodeLength(byteArray);\n      const data = new Uint8Array(guardedSplice(byteArray, 0, dataLength));\n      compiledInstructions.push({\n        programIdIndex,\n        accountKeyIndexes,\n        data,\n      });\n    }\n\n    const addressTableLookupsCount = shortvec.decodeLength(byteArray);\n    const addressTableLookups: MessageAddressTableLookup[] = [];\n    for (let i = 0; i < addressTableLookupsCount; i++) {\n      const accountKey = new PublicKey(\n        guardedSplice(byteArray, 0, PUBLIC_KEY_LENGTH),\n      );\n      const writableIndexesLength = shortvec.decodeLength(byteArray);\n      const writableIndexes = guardedSplice(\n        byteArray,\n        0,\n        writableIndexesLength,\n      );\n      const readonlyIndexesLength = shortvec.decodeLength(byteArray);\n      const readonlyIndexes = guardedSplice(\n        byteArray,\n        0,\n        readonlyIndexesLength,\n      );\n      addressTableLookups.push({\n        accountKey,\n        writableIndexes,\n        readonlyIndexes,\n      });\n    }\n\n    return new MessageV0({\n      header,\n      staticAccountKeys,\n      recentBlockhash,\n      compiledInstructions,\n      addressTableLookups,\n    });\n  }\n}\n", "import {VERSION_PREFIX_MASK} from '../transaction/constants';\nimport {Message} from './legacy';\nimport {MessageV0} from './v0';\n\nexport type VersionedMessage = Message | MessageV0;\n// eslint-disable-next-line no-redeclare\nexport const VersionedMessage = {\n  deserializeMessageVersion(serializedMessage: Uint8Array): 'legacy' | number {\n    const prefix = serializedMessage[0];\n    const maskedPrefix = prefix & VERSION_PREFIX_MASK;\n\n    // if the highest bit of the prefix is not set, the message is not versioned\n    if (maskedPrefix === prefix) {\n      return 'legacy';\n    }\n\n    // the lower 7 bits of the prefix indicate the message version\n    return maskedPrefix;\n  },\n\n  deserialize: (serializedMessage: Uint8Array): VersionedMessage => {\n    const version =\n      VersionedMessage.deserializeMessageVersion(serializedMessage);\n    if (version === 'legacy') {\n      return Message.from(serializedMessage);\n    }\n\n    if (version === 0) {\n      return MessageV0.deserialize(serializedMessage);\n    } else {\n      throw new Error(\n        `Transaction message version ${version} deserialization is not supported`,\n      );\n    }\n  },\n};\n", "import bs58 from 'bs58';\nimport {Buffer} from 'buffer';\n\nimport {PACKET_DATA_SIZE, SIGNATURE_LENGTH_IN_BYTES} from './constants';\nimport {Connection} from '../connection';\nimport {Message} from '../message';\nimport {PublicKey} from '../publickey';\nimport * as shortvec from '../utils/shortvec-encoding';\nimport {toBuffer} from '../utils/to-buffer';\nimport invariant from '../utils/assert';\nimport type {Signer} from '../keypair';\nimport type {Blockhash} from '../blockhash';\nimport type {CompiledInstruction} from '../message';\nimport {sign, verify} from '../utils/ed25519';\nimport {guardedSplice} from '../utils/guarded-array-utils';\n\n/** @internal */\ntype MessageSignednessErrors = {\n  invalid?: PublicKey[];\n  missing?: PublicKey[];\n};\n\n/**\n * Transaction signature as base-58 encoded string\n */\nexport type TransactionSignature = string;\n\nexport const enum TransactionStatus {\n  BLOCKHEIGHT_EXCEEDED,\n  PROCESSED,\n  TIMED_OUT,\n  NONCE_INVALID,\n}\n\n/**\n * Default (empty) signature\n */\nconst DEFAULT_SIGNATURE = Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);\n\n/**\n * Account metadata used to define instructions\n */\nexport type AccountMeta = {\n  /** An account's public key */\n  pubkey: PublicKey;\n  /** True if an instruction requires a transaction signature matching `pubkey` */\n  isSigner: boolean;\n  /** True if the `pubkey` can be loaded as a read-write account. */\n  isWritable: boolean;\n};\n\n/**\n * List of TransactionInstruction object fields that may be initialized at construction\n */\nexport type TransactionInstructionCtorFields = {\n  keys: Array<AccountMeta>;\n  programId: PublicKey;\n  data?: Buffer;\n};\n\n/**\n * Configuration object for Transaction.serialize()\n */\nexport type SerializeConfig = {\n  /** Require all transaction signatures be present (default: true) */\n  requireAllSignatures?: boolean;\n  /** Verify provided signatures (default: true) */\n  verifySignatures?: boolean;\n};\n\n/**\n * @internal\n */\nexport interface TransactionInstructionJSON {\n  keys: {\n    pubkey: string;\n    isSigner: boolean;\n    isWritable: boolean;\n  }[];\n  programId: string;\n  data: number[];\n}\n\n/**\n * Transaction Instruction class\n */\nexport class TransactionInstruction {\n  /**\n   * Public keys to include in this transaction\n   * Boolean represents whether this pubkey needs to sign the transaction\n   */\n  keys: Array<AccountMeta>;\n\n  /**\n   * Program Id to execute\n   */\n  programId: PublicKey;\n\n  /**\n   * Program input\n   */\n  data: Buffer = Buffer.alloc(0);\n\n  constructor(opts: TransactionInstructionCtorFields) {\n    this.programId = opts.programId;\n    this.keys = opts.keys;\n    if (opts.data) {\n      this.data = opts.data;\n    }\n  }\n\n  /**\n   * @internal\n   */\n  toJSON(): TransactionInstructionJSON {\n    return {\n      keys: this.keys.map(({pubkey, isSigner, isWritable}) => ({\n        pubkey: pubkey.toJSON(),\n        isSigner,\n        isWritable,\n      })),\n      programId: this.programId.toJSON(),\n      data: [...this.data],\n    };\n  }\n}\n\n/**\n * Pair of signature and corresponding public key\n */\nexport type SignaturePubkeyPair = {\n  signature: Buffer | null;\n  publicKey: PublicKey;\n};\n\n/**\n * List of Transaction object fields that may be initialized at construction\n */\nexport type TransactionCtorFields_DEPRECATED = {\n  /** Optional nonce information used for offline nonce'd transactions */\n  nonceInfo?: NonceInformation | null;\n  /** The transaction fee payer */\n  feePayer?: PublicKey | null;\n  /** One or more signatures */\n  signatures?: Array<SignaturePubkeyPair>;\n  /** A recent blockhash */\n  recentBlockhash?: Blockhash;\n};\n\n// For backward compatibility; an unfortunate consequence of being\n// forced to over-export types by the documentation generator.\n// See https://github.com/solana-labs/solana/pull/25820\nexport type TransactionCtorFields = TransactionCtorFields_DEPRECATED;\n\n/**\n * Blockhash-based transactions have a lifetime that are defined by\n * the blockhash they include. Any transaction whose blockhash is\n * too old will be rejected.\n */\nexport type TransactionBlockhashCtor = {\n  /** The transaction fee payer */\n  feePayer?: PublicKey | null;\n  /** One or more signatures */\n  signatures?: Array<SignaturePubkeyPair>;\n  /** A recent blockhash */\n  blockhash: Blockhash;\n  /** the last block chain can advance to before tx is declared expired */\n  lastValidBlockHeight: number;\n};\n\n/**\n * Use these options to construct a durable nonce transaction.\n */\nexport type TransactionNonceCtor = {\n  /** The transaction fee payer */\n  feePayer?: PublicKey | null;\n  minContextSlot: number;\n  nonceInfo: NonceInformation;\n  /** One or more signatures */\n  signatures?: Array<SignaturePubkeyPair>;\n};\n\n/**\n * Nonce information to be used to build an offline Transaction.\n */\nexport type NonceInformation = {\n  /** The current blockhash stored in the nonce */\n  nonce: Blockhash;\n  /** AdvanceNonceAccount Instruction */\n  nonceInstruction: TransactionInstruction;\n};\n\n/**\n * @internal\n */\nexport interface TransactionJSON {\n  recentBlockhash: string | null;\n  feePayer: string | null;\n  nonceInfo: {\n    nonce: string;\n    nonceInstruction: TransactionInstructionJSON;\n  } | null;\n  instructions: TransactionInstructionJSON[];\n  signers: string[];\n}\n\n/**\n * Transaction class\n */\nexport class Transaction {\n  /**\n   * Signatures for the transaction.  Typically created by invoking the\n   * `sign()` method\n   */\n  signatures: Array<SignaturePubkeyPair> = [];\n\n  /**\n   * The first (payer) Transaction signature\n   *\n   * @returns {Buffer | null} Buffer of payer's signature\n   */\n  get signature(): Buffer | null {\n    if (this.signatures.length > 0) {\n      return this.signatures[0].signature;\n    }\n    return null;\n  }\n\n  /**\n   * The transaction fee payer\n   */\n  feePayer?: PublicKey;\n\n  /**\n   * The instructions to atomically execute\n   */\n  instructions: Array<TransactionInstruction> = [];\n\n  /**\n   * A recent transaction id. Must be populated by the caller\n   */\n  recentBlockhash?: Blockhash;\n\n  /**\n   * the last block chain can advance to before tx is declared expired\n   * */\n  lastValidBlockHeight?: number;\n\n  /**\n   * Optional Nonce information. If populated, transaction will use a durable\n   * Nonce hash instead of a recentBlockhash. Must be populated by the caller\n   */\n  nonceInfo?: NonceInformation;\n\n  /**\n   * If this is a nonce transaction this represents the minimum slot from which\n   * to evaluate if the nonce has advanced when attempting to confirm the\n   * transaction. This protects against a case where the transaction confirmation\n   * logic loads the nonce account from an old slot and assumes the mismatch in\n   * nonce value implies that the nonce has been advanced.\n   */\n  minNonceContextSlot?: number;\n\n  /**\n   * @internal\n   */\n  _message?: Message;\n\n  /**\n   * @internal\n   */\n  _json?: TransactionJSON;\n\n  // Construct a transaction with a blockhash and lastValidBlockHeight\n  constructor(opts?: TransactionBlockhashCtor);\n\n  // Construct a transaction using a durable nonce\n  constructor(opts?: TransactionNonceCtor);\n\n  /**\n   * @deprecated `TransactionCtorFields` has been deprecated and will be removed in a future version.\n   * Please supply a `TransactionBlockhashCtor` instead.\n   */\n  constructor(opts?: TransactionCtorFields_DEPRECATED);\n\n  /**\n   * Construct an empty Transaction\n   */\n  constructor(\n    opts?:\n      | TransactionBlockhashCtor\n      | TransactionNonceCtor\n      | TransactionCtorFields_DEPRECATED,\n  ) {\n    if (!opts) {\n      return;\n    }\n    if (opts.feePayer) {\n      this.feePayer = opts.feePayer;\n    }\n    if (opts.signatures) {\n      this.signatures = opts.signatures;\n    }\n    if (Object.prototype.hasOwnProperty.call(opts, 'nonceInfo')) {\n      const {minContextSlot, nonceInfo} = opts as TransactionNonceCtor;\n      this.minNonceContextSlot = minContextSlot;\n      this.nonceInfo = nonceInfo;\n    } else if (\n      Object.prototype.hasOwnProperty.call(opts, 'lastValidBlockHeight')\n    ) {\n      const {blockhash, lastValidBlockHeight} =\n        opts as TransactionBlockhashCtor;\n      this.recentBlockhash = blockhash;\n      this.lastValidBlockHeight = lastValidBlockHeight;\n    } else {\n      const {recentBlockhash, nonceInfo} =\n        opts as TransactionCtorFields_DEPRECATED;\n      if (nonceInfo) {\n        this.nonceInfo = nonceInfo;\n      }\n      this.recentBlockhash = recentBlockhash;\n    }\n  }\n\n  /**\n   * @internal\n   */\n  toJSON(): TransactionJSON {\n    return {\n      recentBlockhash: this.recentBlockhash || null,\n      feePayer: this.feePayer ? this.feePayer.toJSON() : null,\n      nonceInfo: this.nonceInfo\n        ? {\n            nonce: this.nonceInfo.nonce,\n            nonceInstruction: this.nonceInfo.nonceInstruction.toJSON(),\n          }\n        : null,\n      instructions: this.instructions.map(instruction => instruction.toJSON()),\n      signers: this.signatures.map(({publicKey}) => {\n        return publicKey.toJSON();\n      }),\n    };\n  }\n\n  /**\n   * Add one or more instructions to this Transaction\n   *\n   * @param {Array< Transaction | TransactionInstruction | TransactionInstructionCtorFields >} items - Instructions to add to the Transaction\n   */\n  add(\n    ...items: Array<\n      Transaction | TransactionInstruction | TransactionInstructionCtorFields\n    >\n  ): Transaction {\n    if (items.length === 0) {\n      throw new Error('No instructions');\n    }\n\n    items.forEach((item: any) => {\n      if ('instructions' in item) {\n        this.instructions = this.instructions.concat(item.instructions);\n      } else if ('data' in item && 'programId' in item && 'keys' in item) {\n        this.instructions.push(item);\n      } else {\n        this.instructions.push(new TransactionInstruction(item));\n      }\n    });\n    return this;\n  }\n\n  /**\n   * Compile transaction data\n   */\n  compileMessage(): Message {\n    if (\n      this._message &&\n      JSON.stringify(this.toJSON()) === JSON.stringify(this._json)\n    ) {\n      return this._message;\n    }\n\n    let recentBlockhash;\n    let instructions: TransactionInstruction[];\n    if (this.nonceInfo) {\n      recentBlockhash = this.nonceInfo.nonce;\n      if (this.instructions[0] != this.nonceInfo.nonceInstruction) {\n        instructions = [this.nonceInfo.nonceInstruction, ...this.instructions];\n      } else {\n        instructions = this.instructions;\n      }\n    } else {\n      recentBlockhash = this.recentBlockhash;\n      instructions = this.instructions;\n    }\n    if (!recentBlockhash) {\n      throw new Error('Transaction recentBlockhash required');\n    }\n\n    if (instructions.length < 1) {\n      console.warn('No instructions provided');\n    }\n\n    let feePayer: PublicKey;\n    if (this.feePayer) {\n      feePayer = this.feePayer;\n    } else if (this.signatures.length > 0 && this.signatures[0].publicKey) {\n      // Use implicit fee payer\n      feePayer = this.signatures[0].publicKey;\n    } else {\n      throw new Error('Transaction fee payer required');\n    }\n\n    for (let i = 0; i < instructions.length; i++) {\n      if (instructions[i].programId === undefined) {\n        throw new Error(\n          `Transaction instruction index ${i} has undefined program id`,\n        );\n      }\n    }\n\n    const programIds: string[] = [];\n    const accountMetas: AccountMeta[] = [];\n    instructions.forEach(instruction => {\n      instruction.keys.forEach(accountMeta => {\n        accountMetas.push({...accountMeta});\n      });\n\n      const programId = instruction.programId.toString();\n      if (!programIds.includes(programId)) {\n        programIds.push(programId);\n      }\n    });\n\n    // Append programID account metas\n    programIds.forEach(programId => {\n      accountMetas.push({\n        pubkey: new PublicKey(programId),\n        isSigner: false,\n        isWritable: false,\n      });\n    });\n\n    // Cull duplicate account metas\n    const uniqueMetas: AccountMeta[] = [];\n    accountMetas.forEach(accountMeta => {\n      const pubkeyString = accountMeta.pubkey.toString();\n      const uniqueIndex = uniqueMetas.findIndex(x => {\n        return x.pubkey.toString() === pubkeyString;\n      });\n      if (uniqueIndex > -1) {\n        uniqueMetas[uniqueIndex].isWritable =\n          uniqueMetas[uniqueIndex].isWritable || accountMeta.isWritable;\n        uniqueMetas[uniqueIndex].isSigner =\n          uniqueMetas[uniqueIndex].isSigner || accountMeta.isSigner;\n      } else {\n        uniqueMetas.push(accountMeta);\n      }\n    });\n\n    // Sort. Prioritizing first by signer, then by writable\n    uniqueMetas.sort(function (x, y) {\n      if (x.isSigner !== y.isSigner) {\n        // Signers always come before non-signers\n        return x.isSigner ? -1 : 1;\n      }\n      if (x.isWritable !== y.isWritable) {\n        // Writable accounts always come before read-only accounts\n        return x.isWritable ? -1 : 1;\n      }\n      // Otherwise, sort by pubkey, stringwise.\n      const options = {\n        localeMatcher: 'best fit',\n        usage: 'sort',\n        sensitivity: 'variant',\n        ignorePunctuation: false,\n        numeric: false,\n        caseFirst: 'lower',\n      } as Intl.CollatorOptions;\n      return x.pubkey\n        .toBase58()\n        .localeCompare(y.pubkey.toBase58(), 'en', options);\n    });\n\n    // Move fee payer to the front\n    const feePayerIndex = uniqueMetas.findIndex(x => {\n      return x.pubkey.equals(feePayer);\n    });\n    if (feePayerIndex > -1) {\n      const [payerMeta] = uniqueMetas.splice(feePayerIndex, 1);\n      payerMeta.isSigner = true;\n      payerMeta.isWritable = true;\n      uniqueMetas.unshift(payerMeta);\n    } else {\n      uniqueMetas.unshift({\n        pubkey: feePayer,\n        isSigner: true,\n        isWritable: true,\n      });\n    }\n\n    // Disallow unknown signers\n    for (const signature of this.signatures) {\n      const uniqueIndex = uniqueMetas.findIndex(x => {\n        return x.pubkey.equals(signature.publicKey);\n      });\n      if (uniqueIndex > -1) {\n        if (!uniqueMetas[uniqueIndex].isSigner) {\n          uniqueMetas[uniqueIndex].isSigner = true;\n          console.warn(\n            'Transaction references a signature that is unnecessary, ' +\n              'only the fee payer and instruction signer accounts should sign a transaction. ' +\n              'This behavior is deprecated and will throw an error in the next major version release.',\n          );\n        }\n      } else {\n        throw new Error(`unknown signer: ${signature.publicKey.toString()}`);\n      }\n    }\n\n    let numRequiredSignatures = 0;\n    let numReadonlySignedAccounts = 0;\n    let numReadonlyUnsignedAccounts = 0;\n\n    // Split out signing from non-signing keys and count header values\n    const signedKeys: string[] = [];\n    const unsignedKeys: string[] = [];\n    uniqueMetas.forEach(({pubkey, isSigner, isWritable}) => {\n      if (isSigner) {\n        signedKeys.push(pubkey.toString());\n        numRequiredSignatures += 1;\n        if (!isWritable) {\n          numReadonlySignedAccounts += 1;\n        }\n      } else {\n        unsignedKeys.push(pubkey.toString());\n        if (!isWritable) {\n          numReadonlyUnsignedAccounts += 1;\n        }\n      }\n    });\n\n    const accountKeys = signedKeys.concat(unsignedKeys);\n    const compiledInstructions: CompiledInstruction[] = instructions.map(\n      instruction => {\n        const {data, programId} = instruction;\n        return {\n          programIdIndex: accountKeys.indexOf(programId.toString()),\n          accounts: instruction.keys.map(meta =>\n            accountKeys.indexOf(meta.pubkey.toString()),\n          ),\n          data: bs58.encode(data),\n        };\n      },\n    );\n\n    compiledInstructions.forEach(instruction => {\n      invariant(instruction.programIdIndex >= 0);\n      instruction.accounts.forEach(keyIndex => invariant(keyIndex >= 0));\n    });\n\n    return new Message({\n      header: {\n        numRequiredSignatures,\n        numReadonlySignedAccounts,\n        numReadonlyUnsignedAccounts,\n      },\n      accountKeys,\n      recentBlockhash,\n      instructions: compiledInstructions,\n    });\n  }\n\n  /**\n   * @internal\n   */\n  _compile(): Message {\n    const message = this.compileMessage();\n    const signedKeys = message.accountKeys.slice(\n      0,\n      message.header.numRequiredSignatures,\n    );\n\n    if (this.signatures.length === signedKeys.length) {\n      const valid = this.signatures.every((pair, index) => {\n        return signedKeys[index].equals(pair.publicKey);\n      });\n\n      if (valid) return message;\n    }\n\n    this.signatures = signedKeys.map(publicKey => ({\n      signature: null,\n      publicKey,\n    }));\n\n    return message;\n  }\n\n  /**\n   * Get a buffer of the Transaction data that need to be covered by signatures\n   */\n  serializeMessage(): Buffer {\n    return this._compile().serialize();\n  }\n\n  /**\n   * Get the estimated fee associated with a transaction\n   *\n   * @param {Connection} connection Connection to RPC Endpoint.\n   *\n   * @returns {Promise<number | null>} The estimated fee for the transaction\n   */\n  async getEstimatedFee(connection: Connection): Promise<number | null> {\n    return (await connection.getFeeForMessage(this.compileMessage())).value;\n  }\n\n  /**\n   * Specify the public keys which will be used to sign the Transaction.\n   * The first signer will be used as the transaction fee payer account.\n   *\n   * Signatures can be added with either `partialSign` or `addSignature`\n   *\n   * @deprecated Deprecated since v0.84.0. Only the fee payer needs to be\n   * specified and it can be set in the Transaction constructor or with the\n   * `feePayer` property.\n   */\n  setSigners(...signers: Array<PublicKey>) {\n    if (signers.length === 0) {\n      throw new Error('No signers');\n    }\n\n    const seen = new Set();\n    this.signatures = signers\n      .filter(publicKey => {\n        const key = publicKey.toString();\n        if (seen.has(key)) {\n          return false;\n        } else {\n          seen.add(key);\n          return true;\n        }\n      })\n      .map(publicKey => ({signature: null, publicKey}));\n  }\n\n  /**\n   * Sign the Transaction with the specified signers. Multiple signatures may\n   * be applied to a Transaction. The first signature is considered \"primary\"\n   * and is used identify and confirm transactions.\n   *\n   * If the Transaction `feePayer` is not set, the first signer will be used\n   * as the transaction fee payer account.\n   *\n   * Transaction fields should not be modified after the first call to `sign`,\n   * as doing so may invalidate the signature and cause the Transaction to be\n   * rejected.\n   *\n   * The Transaction must be assigned a valid `recentBlockhash` before invoking this method\n   *\n   * @param {Array<Signer>} signers Array of signers that will sign the transaction\n   */\n  sign(...signers: Array<Signer>) {\n    if (signers.length === 0) {\n      throw new Error('No signers');\n    }\n\n    // Dedupe signers\n    const seen = new Set();\n    const uniqueSigners = [];\n    for (const signer of signers) {\n      const key = signer.publicKey.toString();\n      if (seen.has(key)) {\n        continue;\n      } else {\n        seen.add(key);\n        uniqueSigners.push(signer);\n      }\n    }\n\n    this.signatures = uniqueSigners.map(signer => ({\n      signature: null,\n      publicKey: signer.publicKey,\n    }));\n\n    const message = this._compile();\n    this._partialSign(message, ...uniqueSigners);\n  }\n\n  /**\n   * Partially sign a transaction with the specified accounts. All accounts must\n   * correspond to either the fee payer or a signer account in the transaction\n   * instructions.\n   *\n   * All the caveats from the `sign` method apply to `partialSign`\n   *\n   * @param {Array<Signer>} signers Array of signers that will sign the transaction\n   */\n  partialSign(...signers: Array<Signer>) {\n    if (signers.length === 0) {\n      throw new Error('No signers');\n    }\n\n    // Dedupe signers\n    const seen = new Set();\n    const uniqueSigners = [];\n    for (const signer of signers) {\n      const key = signer.publicKey.toString();\n      if (seen.has(key)) {\n        continue;\n      } else {\n        seen.add(key);\n        uniqueSigners.push(signer);\n      }\n    }\n\n    const message = this._compile();\n    this._partialSign(message, ...uniqueSigners);\n  }\n\n  /**\n   * @internal\n   */\n  _partialSign(message: Message, ...signers: Array<Signer>) {\n    const signData = message.serialize();\n    signers.forEach(signer => {\n      const signature = sign(signData, signer.secretKey);\n      this._addSignature(signer.publicKey, toBuffer(signature));\n    });\n  }\n\n  /**\n   * Add an externally created signature to a transaction. The public key\n   * must correspond to either the fee payer or a signer account in the transaction\n   * instructions.\n   *\n   * @param {PublicKey} pubkey Public key that will be added to the transaction.\n   * @param {Buffer} signature An externally created signature to add to the transaction.\n   */\n  addSignature(pubkey: PublicKey, signature: Buffer) {\n    this._compile(); // Ensure signatures array is populated\n    this._addSignature(pubkey, signature);\n  }\n\n  /**\n   * @internal\n   */\n  _addSignature(pubkey: PublicKey, signature: Buffer) {\n    invariant(signature.length === 64);\n\n    const index = this.signatures.findIndex(sigpair =>\n      pubkey.equals(sigpair.publicKey),\n    );\n    if (index < 0) {\n      throw new Error(`unknown signer: ${pubkey.toString()}`);\n    }\n\n    this.signatures[index].signature = Buffer.from(signature);\n  }\n\n  /**\n   * Verify signatures of a Transaction\n   * Optional parameter specifies if we're expecting a fully signed Transaction or a partially signed one.\n   * If no boolean is provided, we expect a fully signed Transaction by default.\n   *\n   * @param {boolean} [requireAllSignatures=true] Require a fully signed Transaction\n   */\n  verifySignatures(requireAllSignatures: boolean = true): boolean {\n    const signatureErrors = this._getMessageSignednessErrors(\n      this.serializeMessage(),\n      requireAllSignatures,\n    );\n    return !signatureErrors;\n  }\n\n  /**\n   * @internal\n   */\n  _getMessageSignednessErrors(\n    message: Uint8Array,\n    requireAllSignatures: boolean,\n  ): MessageSignednessErrors | undefined {\n    const errors: MessageSignednessErrors = {};\n    for (const {signature, publicKey} of this.signatures) {\n      if (signature === null) {\n        if (requireAllSignatures) {\n          (errors.missing ||= []).push(publicKey);\n        }\n      } else {\n        if (!verify(signature, message, publicKey.toBytes())) {\n          (errors.invalid ||= []).push(publicKey);\n        }\n      }\n    }\n    return errors.invalid || errors.missing ? errors : undefined;\n  }\n\n  /**\n   * Serialize the Transaction in the wire format.\n   *\n   * @param {Buffer} [config] Config of transaction.\n   *\n   * @returns {Buffer} Signature of transaction in wire format.\n   */\n  serialize(config?: SerializeConfig): Buffer {\n    const {requireAllSignatures, verifySignatures} = Object.assign(\n      {requireAllSignatures: true, verifySignatures: true},\n      config,\n    );\n\n    const signData = this.serializeMessage();\n    if (verifySignatures) {\n      const sigErrors = this._getMessageSignednessErrors(\n        signData,\n        requireAllSignatures,\n      );\n      if (sigErrors) {\n        let errorMessage = 'Signature verification failed.';\n        if (sigErrors.invalid) {\n          errorMessage += `\\nInvalid signature for public key${\n            sigErrors.invalid.length === 1 ? '' : '(s)'\n          } [\\`${sigErrors.invalid.map(p => p.toBase58()).join('`, `')}\\`].`;\n        }\n        if (sigErrors.missing) {\n          errorMessage += `\\nMissing signature for public key${\n            sigErrors.missing.length === 1 ? '' : '(s)'\n          } [\\`${sigErrors.missing.map(p => p.toBase58()).join('`, `')}\\`].`;\n        }\n        throw new Error(errorMessage);\n      }\n    }\n\n    return this._serialize(signData);\n  }\n\n  /**\n   * @internal\n   */\n  _serialize(signData: Buffer): Buffer {\n    const {signatures} = this;\n    const signatureCount: number[] = [];\n    shortvec.encodeLength(signatureCount, signatures.length);\n    const transactionLength =\n      signatureCount.length + signatures.length * 64 + signData.length;\n    const wireTransaction = Buffer.alloc(transactionLength);\n    invariant(signatures.length < 256);\n    Buffer.from(signatureCount).copy(wireTransaction, 0);\n    signatures.forEach(({signature}, index) => {\n      if (signature !== null) {\n        invariant(signature.length === 64, `signature has invalid length`);\n        Buffer.from(signature).copy(\n          wireTransaction,\n          signatureCount.length + index * 64,\n        );\n      }\n    });\n    signData.copy(\n      wireTransaction,\n      signatureCount.length + signatures.length * 64,\n    );\n    invariant(\n      wireTransaction.length <= PACKET_DATA_SIZE,\n      `Transaction too large: ${wireTransaction.length} > ${PACKET_DATA_SIZE}`,\n    );\n    return wireTransaction;\n  }\n\n  /**\n   * Deprecated method\n   * @internal\n   */\n  get keys(): Array<PublicKey> {\n    invariant(this.instructions.length === 1);\n    return this.instructions[0].keys.map(keyObj => keyObj.pubkey);\n  }\n\n  /**\n   * Deprecated method\n   * @internal\n   */\n  get programId(): PublicKey {\n    invariant(this.instructions.length === 1);\n    return this.instructions[0].programId;\n  }\n\n  /**\n   * Deprecated method\n   * @internal\n   */\n  get data(): Buffer {\n    invariant(this.instructions.length === 1);\n    return this.instructions[0].data;\n  }\n\n  /**\n   * Parse a wire transaction into a Transaction object.\n   *\n   * @param {Buffer | Uint8Array | Array<number>} buffer Signature of wire Transaction\n   *\n   * @returns {Transaction} Transaction associated with the signature\n   */\n  static from(buffer: Buffer | Uint8Array | Array<number>): Transaction {\n    // Slice up wire data\n    let byteArray = [...buffer];\n\n    const signatureCount = shortvec.decodeLength(byteArray);\n    let signatures = [];\n    for (let i = 0; i < signatureCount; i++) {\n      const signature = guardedSplice(byteArray, 0, SIGNATURE_LENGTH_IN_BYTES);\n      signatures.push(bs58.encode(Buffer.from(signature)));\n    }\n\n    return Transaction.populate(Message.from(byteArray), signatures);\n  }\n\n  /**\n   * Populate Transaction object from message and signatures\n   *\n   * @param {Message} message Message of transaction\n   * @param {Array<string>} signatures List of signatures to assign to the transaction\n   *\n   * @returns {Transaction} The populated Transaction\n   */\n  static populate(\n    message: Message,\n    signatures: Array<string> = [],\n  ): Transaction {\n    const transaction = new Transaction();\n    transaction.recentBlockhash = message.recentBlockhash;\n    if (message.header.numRequiredSignatures > 0) {\n      transaction.feePayer = message.accountKeys[0];\n    }\n    signatures.forEach((signature, index) => {\n      const sigPubkeyPair = {\n        signature:\n          signature == bs58.encode(DEFAULT_SIGNATURE)\n            ? null\n            : bs58.decode(signature),\n        publicKey: message.accountKeys[index],\n      };\n      transaction.signatures.push(sigPubkeyPair);\n    });\n\n    message.instructions.forEach(instruction => {\n      const keys = instruction.accounts.map(account => {\n        const pubkey = message.accountKeys[account];\n        return {\n          pubkey,\n          isSigner:\n            transaction.signatures.some(\n              keyObj => keyObj.publicKey.toString() === pubkey.toString(),\n            ) || message.isAccountSigner(account),\n          isWritable: message.isAccountWritable(account),\n        };\n      });\n\n      transaction.instructions.push(\n        new TransactionInstruction({\n          keys,\n          programId: message.accountKeys[instruction.programIdIndex],\n          data: bs58.decode(instruction.data),\n        }),\n      );\n    });\n\n    transaction._message = message;\n    transaction._json = transaction.toJSON();\n\n    return transaction;\n  }\n}\n", "import {AccountKeysFromLookups} from '../message/account-keys';\nimport assert from '../utils/assert';\nimport {toBuffer} from '../utils/to-buffer';\nimport {Blockhash} from '../blockhash';\nimport {Message, MessageV0, VersionedMessage} from '../message';\nimport {PublicKey} from '../publickey';\nimport {AddressLookupTableAccount} from '../programs';\nimport {AccountMeta, TransactionInstruction} from './legacy';\n\nexport type TransactionMessageArgs = {\n  payerKey: PublicKey;\n  instructions: Array<TransactionInstruction>;\n  recentBlockhash: Blockhash;\n};\n\nexport type DecompileArgs =\n  | {\n      accountKeysFromLookups: AccountKeysFromLookups;\n    }\n  | {\n      addressLookupTableAccounts: AddressLookupTableAccount[];\n    };\n\nexport class TransactionMessage {\n  payerKey: PublicKey;\n  instructions: Array<TransactionInstruction>;\n  recentBlockhash: Blockhash;\n\n  constructor(args: TransactionMessageArgs) {\n    this.payerKey = args.payerKey;\n    this.instructions = args.instructions;\n    this.recentBlockhash = args.recentBlockhash;\n  }\n\n  static decompile(\n    message: VersionedMessage,\n    args?: DecompileArgs,\n  ): TransactionMessage {\n    const {header, compiledInstructions, recentBlockhash} = message;\n\n    const {\n      numRequiredSignatures,\n      numReadonlySignedAccounts,\n      numReadonlyUnsignedAccounts,\n    } = header;\n\n    const numWritableSignedAccounts =\n      numRequiredSignatures - numReadonlySignedAccounts;\n    assert(numWritableSignedAccounts > 0, 'Message header is invalid');\n\n    const numWritableUnsignedAccounts =\n      message.staticAccountKeys.length -\n      numRequiredSignatures -\n      numReadonlyUnsignedAccounts;\n    assert(numWritableUnsignedAccounts >= 0, 'Message header is invalid');\n\n    const accountKeys = message.getAccountKeys(args);\n    const payerKey = accountKeys.get(0);\n    if (payerKey === undefined) {\n      throw new Error(\n        'Failed to decompile message because no account keys were found',\n      );\n    }\n\n    const instructions: TransactionInstruction[] = [];\n    for (const compiledIx of compiledInstructions) {\n      const keys: AccountMeta[] = [];\n\n      for (const keyIndex of compiledIx.accountKeyIndexes) {\n        const pubkey = accountKeys.get(keyIndex);\n        if (pubkey === undefined) {\n          throw new Error(\n            `Failed to find key for account key index ${keyIndex}`,\n          );\n        }\n\n        const isSigner = keyIndex < numRequiredSignatures;\n\n        let isWritable;\n        if (isSigner) {\n          isWritable = keyIndex < numWritableSignedAccounts;\n        } else if (keyIndex < accountKeys.staticAccountKeys.length) {\n          isWritable =\n            keyIndex - numRequiredSignatures < numWritableUnsignedAccounts;\n        } else {\n          isWritable =\n            keyIndex - accountKeys.staticAccountKeys.length <\n            // accountKeysFromLookups cannot be undefined because we already found a pubkey for this index above\n            accountKeys.accountKeysFromLookups!.writable.length;\n        }\n\n        keys.push({\n          pubkey,\n          isSigner: keyIndex < header.numRequiredSignatures,\n          isWritable,\n        });\n      }\n\n      const programId = accountKeys.get(compiledIx.programIdIndex);\n      if (programId === undefined) {\n        throw new Error(\n          `Failed to find program id for program id index ${compiledIx.programIdIndex}`,\n        );\n      }\n\n      instructions.push(\n        new TransactionInstruction({\n          programId,\n          data: toBuffer(compiledIx.data),\n          keys,\n        }),\n      );\n    }\n\n    return new TransactionMessage({\n      payerKey,\n      instructions,\n      recentBlockhash,\n    });\n  }\n\n  compileToLegacyMessage(): Message {\n    return Message.compile({\n      payerKey: this.payerKey,\n      recentBlockhash: this.recentBlockhash,\n      instructions: this.instructions,\n    });\n  }\n\n  compileToV0Message(\n    addressLookupTableAccounts?: AddressLookupTableAccount[],\n  ): MessageV0 {\n    return MessageV0.compile({\n      payerKey: this.payerKey,\n      recentBlockhash: this.recentBlockhash,\n      instructions: this.instructions,\n      addressLookupTableAccounts,\n    });\n  }\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\n\nimport {Signer} from '../keypair';\nimport assert from '../utils/assert';\nimport {VersionedMessage} from '../message/versioned';\nimport {SIGNATURE_LENGTH_IN_BYTES} from './constants';\nimport * as shortvec from '../utils/shortvec-encoding';\nimport * as Layout from '../layout';\nimport {sign} from '../utils/ed25519';\nimport {PublicKey} from '../publickey';\nimport {guardedSplice} from '../utils/guarded-array-utils';\n\nexport type TransactionVersion = 'legacy' | 0;\n\n/**\n * Versioned transaction class\n */\nexport class VersionedTransaction {\n  signatures: Array<Uint8Array>;\n  message: VersionedMessage;\n\n  get version(): TransactionVersion {\n    return this.message.version;\n  }\n\n  constructor(message: VersionedMessage, signatures?: Array<Uint8Array>) {\n    if (signatures !== undefined) {\n      assert(\n        signatures.length === message.header.numRequiredSignatures,\n        'Expected signatures length to be equal to the number of required signatures',\n      );\n      this.signatures = signatures;\n    } else {\n      const defaultSignatures = [];\n      for (let i = 0; i < message.header.numRequiredSignatures; i++) {\n        defaultSignatures.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES));\n      }\n      this.signatures = defaultSignatures;\n    }\n    this.message = message;\n  }\n\n  serialize(): Uint8Array {\n    const serializedMessage = this.message.serialize();\n\n    const encodedSignaturesLength = Array<number>();\n    shortvec.encodeLength(encodedSignaturesLength, this.signatures.length);\n\n    const transactionLayout = BufferLayout.struct<{\n      encodedSignaturesLength: Uint8Array;\n      signatures: Array<Uint8Array>;\n      serializedMessage: Uint8Array;\n    }>([\n      BufferLayout.blob(\n        encodedSignaturesLength.length,\n        'encodedSignaturesLength',\n      ),\n      BufferLayout.seq(\n        Layout.signature(),\n        this.signatures.length,\n        'signatures',\n      ),\n      BufferLayout.blob(serializedMessage.length, 'serializedMessage'),\n    ]);\n\n    const serializedTransaction = new Uint8Array(2048);\n    const serializedTransactionLength = transactionLayout.encode(\n      {\n        encodedSignaturesLength: new Uint8Array(encodedSignaturesLength),\n        signatures: this.signatures,\n        serializedMessage,\n      },\n      serializedTransaction,\n    );\n\n    return serializedTransaction.slice(0, serializedTransactionLength);\n  }\n\n  static deserialize(serializedTransaction: Uint8Array): VersionedTransaction {\n    let byteArray = [...serializedTransaction];\n\n    const signatures = [];\n    const signaturesLength = shortvec.decodeLength(byteArray);\n    for (let i = 0; i < signaturesLength; i++) {\n      signatures.push(\n        new Uint8Array(guardedSplice(byteArray, 0, SIGNATURE_LENGTH_IN_BYTES)),\n      );\n    }\n\n    const message = VersionedMessage.deserialize(new Uint8Array(byteArray));\n    return new VersionedTransaction(message, signatures);\n  }\n\n  sign(signers: Array<Signer>) {\n    const messageData = this.message.serialize();\n    const signerPubkeys = this.message.staticAccountKeys.slice(\n      0,\n      this.message.header.numRequiredSignatures,\n    );\n    for (const signer of signers) {\n      const signerIndex = signerPubkeys.findIndex(pubkey =>\n        pubkey.equals(signer.publicKey),\n      );\n      assert(\n        signerIndex >= 0,\n        `Cannot sign with non signer key ${signer.publicKey.toBase58()}`,\n      );\n      this.signatures[signerIndex] = sign(messageData, signer.secretKey);\n    }\n  }\n\n  addSignature(publicKey: PublicKey, signature: Uint8Array) {\n    assert(signature.byteLength === 64, 'Signature must be 64 bytes long');\n    const signerPubkeys = this.message.staticAccountKeys.slice(\n      0,\n      this.message.header.numRequiredSignatures,\n    );\n    const signerIndex = signerPubkeys.findIndex(pubkey =>\n      pubkey.equals(publicKey),\n    );\n    assert(\n      signerIndex >= 0,\n      `Can not add signature; \\`${publicKey.toBase58()}\\` is not required to sign this transaction`,\n    );\n    this.signatures[signerIndex] = signature;\n  }\n}\n", "// TODO: These constants should be removed in favor of reading them out of a\n// Syscall account\n\n/**\n * @internal\n */\nexport const NUM_TICKS_PER_SECOND = 160;\n\n/**\n * @internal\n */\nexport const DEFAULT_TICKS_PER_SLOT = 64;\n\n/**\n * @internal\n */\nexport const NUM_SLOTS_PER_SECOND =\n  NUM_TICKS_PER_SECOND / DEFAULT_TICKS_PER_SLOT;\n\n/**\n * @internal\n */\nexport const MS_PER_SLOT = 1000 / NUM_SLOTS_PER_SECOND;\n", "import {PublicKey} from './publickey';\n\nexport const SYSVAR_CLOCK_PUBKEY = new PublicKey(\n  'SysvarC1ock11111111111111111111111111111111',\n);\n\nexport const SYSVAR_EPOCH_SCHEDULE_PUBKEY = new PublicKey(\n  'SysvarEpochSchedu1e111111111111111111111111',\n);\n\nexport const SYSVAR_INSTRUCTIONS_PUBKEY = new PublicKey(\n  'Sysvar1nstructions1111111111111111111111111',\n);\n\nexport const SYSVAR_RECENT_BLOCKHASHES_PUBKEY = new PublicKey(\n  'SysvarRecentB1ockHashes11111111111111111111',\n);\n\nexport const SYSVAR_RENT_PUBKEY = new PublicKey(\n  'SysvarRent111111111111111111111111111111111',\n);\n\nexport const SYSVAR_REWARDS_PUBKEY = new PublicKey(\n  'SysvarRewards111111111111111111111111111111',\n);\n\nexport const SYSVAR_SLOT_HASHES_PUBKEY = new PublicKey(\n  'SysvarS1otHashes111111111111111111111111111',\n);\n\nexport const SYSVAR_SLOT_HISTORY_PUBKEY = new PublicKey(\n  'SysvarS1otHistory11111111111111111111111111',\n);\n\nexport const SYSVAR_STAKE_HISTORY_PUBKEY = new PublicKey(\n  'SysvarStakeHistory1111111111111111111111111',\n);\n", "import {Connection} from './connection';\nimport {TransactionSignature} from './transaction';\n\nexport class SendTransactionError extends Error {\n  private signature: TransactionSignature;\n  private transactionMessage: string;\n  private transactionLogs: string[] | Promise<string[]> | undefined;\n\n  constructor({\n    action,\n    signature,\n    transactionMessage,\n    logs,\n  }: {\n    action: 'send' | 'simulate';\n    signature: TransactionSignature;\n    transactionMessage: string;\n    logs?: string[];\n  }) {\n    const maybeLogsOutput = logs\n      ? `Logs: \\n${JSON.stringify(logs.slice(-10), null, 2)}. `\n      : '';\n    const guideText =\n      '\\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.';\n    let message: string;\n    switch (action) {\n      case 'send':\n        message =\n          `Transaction ${signature} resulted in an error. \\n` +\n          `${transactionMessage}. ` +\n          maybeLogsOutput +\n          guideText;\n        break;\n      case 'simulate':\n        message =\n          `Simulation failed. \\nMessage: ${transactionMessage}. \\n` +\n          maybeLogsOutput +\n          guideText;\n        break;\n      default: {\n        message = `Unknown action '${((a: never) => a)(action)}'`;\n      }\n    }\n    super(message);\n\n    this.signature = signature;\n    this.transactionMessage = transactionMessage;\n    this.transactionLogs = logs ? logs : undefined;\n  }\n\n  get transactionError(): {message: string; logs?: string[]} {\n    return {\n      message: this.transactionMessage,\n      logs: Array.isArray(this.transactionLogs)\n        ? this.transactionLogs\n        : undefined,\n    };\n  }\n\n  /* @deprecated Use `await getLogs()` instead */\n  get logs(): string[] | undefined {\n    const cachedLogs = this.transactionLogs;\n    if (\n      cachedLogs != null &&\n      typeof cachedLogs === 'object' &&\n      'then' in cachedLogs\n    ) {\n      return undefined;\n    }\n    return cachedLogs;\n  }\n\n  async getLogs(connection: Connection): Promise<string[]> {\n    if (!Array.isArray(this.transactionLogs)) {\n      this.transactionLogs = new Promise((resolve, reject) => {\n        connection\n          .getTransaction(this.signature)\n          .then(tx => {\n            if (tx && tx.meta && tx.meta.logMessages) {\n              const logs = tx.meta.logMessages;\n              this.transactionLogs = logs;\n              resolve(logs);\n            } else {\n              reject(new Error('Log messages not found'));\n            }\n          })\n          .catch(reject);\n      });\n    }\n    return await this.transactionLogs;\n  }\n}\n\n// Keep in sync with client/src/rpc_custom_errors.rs\n// Typescript `enums` thwart tree-shaking. See https://bargsten.org/jsts/enums/\nexport const SolanaJSONRPCErrorCode = {\n  JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP: -32001,\n  JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE: -32002,\n  JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE: -32003,\n  JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE: -32004,\n  JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY: -32005,\n  JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE: -32006,\n  JSON_RPC_SERVER_ERROR_SLOT_SKIPPED: -32007,\n  JSON_RPC_SERVER_ERROR_NO_SNAPSHOT: -32008,\n  JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED: -32009,\n  JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX: -32010,\n  JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE: -32011,\n  JSON_RPC_SCAN_ERROR: -32012,\n  JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH: -32013,\n  JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET: -32014,\n  JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION: -32015,\n  JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED: -32016,\n} as const;\nexport type SolanaJSONRPCErrorCodeEnum =\n  (typeof SolanaJSONRPCErrorCode)[keyof typeof SolanaJSONRPCErrorCode];\n\nexport class SolanaJSONRPCError extends Error {\n  code: SolanaJSONRPCErrorCodeEnum | unknown;\n  data?: any;\n  constructor(\n    {\n      code,\n      message,\n      data,\n    }: Readonly<{code: unknown; message: string; data?: any}>,\n    customMessage?: string,\n  ) {\n    super(customMessage != null ? `${customMessage}: ${message}` : message);\n    this.code = code;\n    this.data = data;\n    this.name = 'SolanaJSONRPCError';\n  }\n}\n", "import {Connection, SignatureResult} from '../connection';\nimport {Transaction} from '../transaction';\nimport type {ConfirmOptions} from '../connection';\nimport type {Signer} from '../keypair';\nimport type {TransactionSignature} from '../transaction';\nimport {SendTransactionError} from '../errors';\n\n/**\n * Sign, send and confirm a transaction.\n *\n * If `commitment` option is not specified, defaults to 'max' commitment.\n *\n * @param {Connection} connection\n * @param {Transaction} transaction\n * @param {Array<Signer>} signers\n * @param {ConfirmOptions} [options]\n * @returns {Promise<TransactionSignature>}\n */\nexport async function sendAndConfirmTransaction(\n  connection: Connection,\n  transaction: Transaction,\n  signers: Array<Signer>,\n  options?: ConfirmOptions &\n    Readonly<{\n      // A signal that, when aborted, cancels any outstanding transaction confirmation operations\n      abortSignal?: AbortSignal;\n    }>,\n): Promise<TransactionSignature> {\n  const sendOptions = options && {\n    skipPreflight: options.skipPreflight,\n    preflightCommitment: options.preflightCommitment || options.commitment,\n    maxRetries: options.maxRetries,\n    minContextSlot: options.minContextSlot,\n  };\n\n  const signature = await connection.sendTransaction(\n    transaction,\n    signers,\n    sendOptions,\n  );\n\n  let status: SignatureResult;\n  if (\n    transaction.recentBlockhash != null &&\n    transaction.lastValidBlockHeight != null\n  ) {\n    status = (\n      await connection.confirmTransaction(\n        {\n          abortSignal: options?.abortSignal,\n          signature: signature,\n          blockhash: transaction.recentBlockhash,\n          lastValidBlockHeight: transaction.lastValidBlockHeight,\n        },\n        options && options.commitment,\n      )\n    ).value;\n  } else if (\n    transaction.minNonceContextSlot != null &&\n    transaction.nonceInfo != null\n  ) {\n    const {nonceInstruction} = transaction.nonceInfo;\n    const nonceAccountPubkey = nonceInstruction.keys[0].pubkey;\n    status = (\n      await connection.confirmTransaction(\n        {\n          abortSignal: options?.abortSignal,\n          minContextSlot: transaction.minNonceContextSlot,\n          nonceAccountPubkey,\n          nonceValue: transaction.nonceInfo.nonce,\n          signature,\n        },\n        options && options.commitment,\n      )\n    ).value;\n  } else {\n    if (options?.abortSignal != null) {\n      console.warn(\n        'sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was ' +\n          'supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` ' +\n          'or a combination of `nonceInfo` and `minNonceContextSlot` are abortable.',\n      );\n    }\n    status = (\n      await connection.confirmTransaction(\n        signature,\n        options && options.commitment,\n      )\n    ).value;\n  }\n\n  if (status.err) {\n    if (signature != null) {\n      throw new SendTransactionError({\n        action: 'send',\n        signature: signature,\n        transactionMessage: `Status: (${JSON.stringify(status)})`,\n      });\n    }\n    throw new Error(\n      `Transaction ${signature} failed (${JSON.stringify(status)})`,\n    );\n  }\n\n  return signature;\n}\n", "// zzz\nexport function sleep(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n", "import {Buffer} from 'buffer';\nimport * as BufferLayout from '@solana/buffer-layout';\n\nimport * as Layout from './layout';\n\nexport interface IInstructionInputData {\n  readonly instruction: number;\n}\n\n/**\n * @internal\n */\nexport type InstructionType<TInputData extends IInstructionInputData> = {\n  /** The Instruction index (from solana upstream program) */\n  index: number;\n  /** The BufferLayout to use to build data */\n  layout: BufferLayout.Layout<TInputData>;\n};\n\n/**\n * Populate a buffer of instruction data using an InstructionType\n * @internal\n */\nexport function encodeData<TInputData extends IInstructionInputData>(\n  type: InstructionType<TInputData>,\n  fields?: any,\n): Buffer {\n  const allocLength =\n    type.layout.span >= 0 ? type.layout.span : Layout.getAlloc(type, fields);\n  const data = Buffer.alloc(allocLength);\n  const layoutFields = Object.assign({instruction: type.index}, fields);\n  type.layout.encode(layoutFields, data);\n  return data;\n}\n\n/**\n * Decode instruction data buffer using an InstructionType\n * @internal\n */\nexport function decodeData<TInputData extends IInstructionInputData>(\n  type: InstructionType<TInputData>,\n  buffer: Buffer,\n): TInputData {\n  let data: TInputData;\n  try {\n    data = type.layout.decode(buffer);\n  } catch (err) {\n    throw new Error('invalid instruction; ' + err);\n  }\n\n  if (data.instruction !== type.index) {\n    throw new Error(\n      `invalid instruction; instruction index mismatch ${data.instruction} != ${type.index}`,\n    );\n  }\n\n  return data;\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\n\n/**\n * https://github.com/solana-labs/solana/blob/90bedd7e067b5b8f3ddbb45da00a4e9cabb22c62/sdk/src/fee_calculator.rs#L7-L11\n *\n * @internal\n */\nexport const FeeCalculatorLayout = BufferLayout.nu64('lamportsPerSignature');\n\n/**\n * Calculator for transaction fees.\n *\n * @deprecated Deprecated since Solana v1.8.0.\n */\nexport interface FeeCalculator {\n  /** Cost in lamports to validate a signature. */\n  lamportsPerSignature: number;\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\nimport {Buffer} from 'buffer';\n\nimport * as Layout from './layout';\nimport {PublicKey} from './publickey';\nimport type {FeeCalculator} from './fee-calculator';\nimport {FeeCalculatorLayout} from './fee-calculator';\nimport {toBuffer} from './utils/to-buffer';\n\n/**\n * See https://github.com/solana-labs/solana/blob/0ea2843ec9cdc517572b8e62c959f41b55cf4453/sdk/src/nonce_state.rs#L29-L32\n *\n * @internal\n */\nconst NonceAccountLayout = BufferLayout.struct<\n  Readonly<{\n    authorizedPubkey: Uint8Array;\n    feeCalculator: Readonly<{\n      lamportsPerSignature: number;\n    }>;\n    nonce: Uint8Array;\n    state: number;\n    version: number;\n  }>\n>([\n  BufferLayout.u32('version'),\n  BufferLayout.u32('state'),\n  Layout.publicKey('authorizedPubkey'),\n  Layout.publicKey('nonce'),\n  BufferLayout.struct<Readonly<{lamportsPerSignature: number}>>(\n    [FeeCalculatorLayout],\n    'feeCalculator',\n  ),\n]);\n\nexport const NONCE_ACCOUNT_LENGTH = NonceAccountLayout.span;\n\n/**\n * A durable nonce is a 32 byte value encoded as a base58 string.\n */\nexport type DurableNonce = string;\n\ntype NonceAccountArgs = {\n  authorizedPubkey: PublicKey;\n  nonce: DurableNonce;\n  feeCalculator: FeeCalculator;\n};\n\n/**\n * NonceAccount class\n */\nexport class NonceAccount {\n  authorizedPubkey: PublicKey;\n  nonce: DurableNonce;\n  feeCalculator: FeeCalculator;\n\n  /**\n   * @internal\n   */\n  constructor(args: NonceAccountArgs) {\n    this.authorizedPubkey = args.authorizedPubkey;\n    this.nonce = args.nonce;\n    this.feeCalculator = args.feeCalculator;\n  }\n\n  /**\n   * Deserialize NonceAccount from the account data.\n   *\n   * @param buffer account data\n   * @return NonceAccount\n   */\n  static fromAccountData(\n    buffer: Buffer | Uint8Array | Array<number>,\n  ): NonceAccount {\n    const nonceAccount = NonceAccountLayout.decode(toBuffer(buffer), 0);\n    return new NonceAccount({\n      authorizedPubkey: new PublicKey(nonceAccount.authorizedPubkey),\n      nonce: new PublicKey(nonceAccount.nonce).toString(),\n      feeCalculator: nonceAccount.feeCalculator,\n    });\n  }\n}\n", "import {Buffer} from 'buffer';\nimport {blob, Layout} from '@solana/buffer-layout';\nimport {getU64Codec} from '@solana/codecs-numbers';\n\nexport function u64(property?: string): Layout<bigint> {\n  const layout = blob(8 /* bytes */, property);\n  const decode = layout.decode.bind(layout);\n  const encode = layout.encode.bind(layout);\n\n  const bigIntLayout = layout as Layout<unknown> as Layout<bigint>;\n  const codec = getU64Codec();\n\n  bigIntLayout.decode = (buffer: Buffer, offset: number) => {\n    const src = decode(buffer as Uint8Array, offset);\n    return codec.decode(src);\n  };\n\n  bigIntLayout.encode = (bigInt: bigint, buffer: Buffer, offset: number) => {\n    const src = codec.encode(bigInt) as Uint8Array;\n    return encode(src, buffer as Uint8Array, offset);\n  };\n\n  return bigIntLayout;\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\n\nimport {\n  encodeData,\n  decodeData,\n  InstructionType,\n  IInstructionInputData,\n} from '../instruction';\nimport * as Layout from '../layout';\nimport {NONCE_ACCOUNT_LENGTH} from '../nonce-account';\nimport {PublicKey} from '../publickey';\nimport {SYSVAR_RECENT_BLOCKHASHES_PUBKEY, SYSVAR_RENT_PUBKEY} from '../sysvar';\nimport {Transaction, TransactionInstruction} from '../transaction';\nimport {toBuffer} from '../utils/to-buffer';\nimport {u64} from '../utils/bigint';\n\n/**\n * Create account system transaction params\n */\nexport type CreateAccountParams = {\n  /** The account that will transfer lamports to the created account */\n  fromPubkey: PublicKey;\n  /** Public key of the created account */\n  newAccountPubkey: PublicKey;\n  /** Amount of lamports to transfer to the created account */\n  lamports: number;\n  /** Amount of space in bytes to allocate to the created account */\n  space: number;\n  /** Public key of the program to assign as the owner of the created account */\n  programId: PublicKey;\n};\n\n/**\n * Transfer system transaction params\n */\nexport type TransferParams = {\n  /** Account that will transfer lamports */\n  fromPubkey: PublicKey;\n  /** Account that will receive transferred lamports */\n  toPubkey: PublicKey;\n  /** Amount of lamports to transfer */\n  lamports: number | bigint;\n};\n\n/**\n * Assign system transaction params\n */\nexport type AssignParams = {\n  /** Public key of the account which will be assigned a new owner */\n  accountPubkey: PublicKey;\n  /** Public key of the program to assign as the owner */\n  programId: PublicKey;\n};\n\n/**\n * Create account with seed system transaction params\n */\nexport type CreateAccountWithSeedParams = {\n  /** The account that will transfer lamports to the created account */\n  fromPubkey: PublicKey;\n  /** Public key of the created account. Must be pre-calculated with PublicKey.createWithSeed() */\n  newAccountPubkey: PublicKey;\n  /** Base public key to use to derive the address of the created account. Must be the same as the base key used to create `newAccountPubkey` */\n  basePubkey: PublicKey;\n  /** Seed to use to derive the address of the created account. Must be the same as the seed used to create `newAccountPubkey` */\n  seed: string;\n  /** Amount of lamports to transfer to the created account */\n  lamports: number;\n  /** Amount of space in bytes to allocate to the created account */\n  space: number;\n  /** Public key of the program to assign as the owner of the created account */\n  programId: PublicKey;\n};\n\n/**\n * Create nonce account system transaction params\n */\nexport type CreateNonceAccountParams = {\n  /** The account that will transfer lamports to the created nonce account */\n  fromPubkey: PublicKey;\n  /** Public key of the created nonce account */\n  noncePubkey: PublicKey;\n  /** Public key to set as authority of the created nonce account */\n  authorizedPubkey: PublicKey;\n  /** Amount of lamports to transfer to the created nonce account */\n  lamports: number;\n};\n\n/**\n * Create nonce account with seed system transaction params\n */\nexport type CreateNonceAccountWithSeedParams = {\n  /** The account that will transfer lamports to the created nonce account */\n  fromPubkey: PublicKey;\n  /** Public key of the created nonce account */\n  noncePubkey: PublicKey;\n  /** Public key to set as authority of the created nonce account */\n  authorizedPubkey: PublicKey;\n  /** Amount of lamports to transfer to the created nonce account */\n  lamports: number;\n  /** Base public key to use to derive the address of the nonce account */\n  basePubkey: PublicKey;\n  /** Seed to use to derive the address of the nonce account */\n  seed: string;\n};\n\n/**\n * Initialize nonce account system instruction params\n */\nexport type InitializeNonceParams = {\n  /** Nonce account which will be initialized */\n  noncePubkey: PublicKey;\n  /** Public key to set as authority of the initialized nonce account */\n  authorizedPubkey: PublicKey;\n};\n\n/**\n * Advance nonce account system instruction params\n */\nexport type AdvanceNonceParams = {\n  /** Nonce account */\n  noncePubkey: PublicKey;\n  /** Public key of the nonce authority */\n  authorizedPubkey: PublicKey;\n};\n\n/**\n * Withdraw nonce account system transaction params\n */\nexport type WithdrawNonceParams = {\n  /** Nonce account */\n  noncePubkey: PublicKey;\n  /** Public key of the nonce authority */\n  authorizedPubkey: PublicKey;\n  /** Public key of the account which will receive the withdrawn nonce account balance */\n  toPubkey: PublicKey;\n  /** Amount of lamports to withdraw from the nonce account */\n  lamports: number;\n};\n\n/**\n * Authorize nonce account system transaction params\n */\nexport type AuthorizeNonceParams = {\n  /** Nonce account */\n  noncePubkey: PublicKey;\n  /** Public key of the current nonce authority */\n  authorizedPubkey: PublicKey;\n  /** Public key to set as the new nonce authority */\n  newAuthorizedPubkey: PublicKey;\n};\n\n/**\n * Allocate account system transaction params\n */\nexport type AllocateParams = {\n  /** Account to allocate */\n  accountPubkey: PublicKey;\n  /** Amount of space in bytes to allocate */\n  space: number;\n};\n\n/**\n * Allocate account with seed system transaction params\n */\nexport type AllocateWithSeedParams = {\n  /** Account to allocate */\n  accountPubkey: PublicKey;\n  /** Base public key to use to derive the address of the allocated account */\n  basePubkey: PublicKey;\n  /** Seed to use to derive the address of the allocated account */\n  seed: string;\n  /** Amount of space in bytes to allocate */\n  space: number;\n  /** Public key of the program to assign as the owner of the allocated account */\n  programId: PublicKey;\n};\n\n/**\n * Assign account with seed system transaction params\n */\nexport type AssignWithSeedParams = {\n  /** Public key of the account which will be assigned a new owner */\n  accountPubkey: PublicKey;\n  /** Base public key to use to derive the address of the assigned account */\n  basePubkey: PublicKey;\n  /** Seed to use to derive the address of the assigned account */\n  seed: string;\n  /** Public key of the program to assign as the owner */\n  programId: PublicKey;\n};\n\n/**\n * Transfer with seed system transaction params\n */\nexport type TransferWithSeedParams = {\n  /** Account that will transfer lamports */\n  fromPubkey: PublicKey;\n  /** Base public key to use to derive the funding account address */\n  basePubkey: PublicKey;\n  /** Account that will receive transferred lamports */\n  toPubkey: PublicKey;\n  /** Amount of lamports to transfer */\n  lamports: number | bigint;\n  /** Seed to use to derive the funding account address */\n  seed: string;\n  /** Program id to use to derive the funding account address */\n  programId: PublicKey;\n};\n\n/** Decoded transfer system transaction instruction */\nexport type DecodedTransferInstruction = {\n  /** Account that will transfer lamports */\n  fromPubkey: PublicKey;\n  /** Account that will receive transferred lamports */\n  toPubkey: PublicKey;\n  /** Amount of lamports to transfer */\n  lamports: bigint;\n};\n\n/** Decoded transferWithSeed system transaction instruction */\nexport type DecodedTransferWithSeedInstruction = {\n  /** Account that will transfer lamports */\n  fromPubkey: PublicKey;\n  /** Base public key to use to derive the funding account address */\n  basePubkey: PublicKey;\n  /** Account that will receive transferred lamports */\n  toPubkey: PublicKey;\n  /** Amount of lamports to transfer */\n  lamports: bigint;\n  /** Seed to use to derive the funding account address */\n  seed: string;\n  /** Program id to use to derive the funding account address */\n  programId: PublicKey;\n};\n\n/**\n * System Instruction class\n */\nexport class SystemInstruction {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Decode a system instruction and retrieve the instruction type.\n   */\n  static decodeInstructionType(\n    instruction: TransactionInstruction,\n  ): SystemInstructionType {\n    this.checkProgramId(instruction.programId);\n\n    const instructionTypeLayout = BufferLayout.u32('instruction');\n    const typeIndex = instructionTypeLayout.decode(instruction.data);\n\n    let type: SystemInstructionType | undefined;\n    for (const [ixType, layout] of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS)) {\n      if (layout.index == typeIndex) {\n        type = ixType as SystemInstructionType;\n        break;\n      }\n    }\n\n    if (!type) {\n      throw new Error('Instruction type incorrect; not a SystemInstruction');\n    }\n\n    return type;\n  }\n\n  /**\n   * Decode a create account system instruction and retrieve the instruction params.\n   */\n  static decodeCreateAccount(\n    instruction: TransactionInstruction,\n  ): CreateAccountParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 2);\n\n    const {lamports, space, programId} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.Create,\n      instruction.data,\n    );\n\n    return {\n      fromPubkey: instruction.keys[0].pubkey,\n      newAccountPubkey: instruction.keys[1].pubkey,\n      lamports,\n      space,\n      programId: new PublicKey(programId),\n    };\n  }\n\n  /**\n   * Decode a transfer system instruction and retrieve the instruction params.\n   */\n  static decodeTransfer(\n    instruction: TransactionInstruction,\n  ): DecodedTransferInstruction {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 2);\n\n    const {lamports} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.Transfer,\n      instruction.data,\n    );\n\n    return {\n      fromPubkey: instruction.keys[0].pubkey,\n      toPubkey: instruction.keys[1].pubkey,\n      lamports,\n    };\n  }\n\n  /**\n   * Decode a transfer with seed system instruction and retrieve the instruction params.\n   */\n  static decodeTransferWithSeed(\n    instruction: TransactionInstruction,\n  ): DecodedTransferWithSeedInstruction {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 3);\n\n    const {lamports, seed, programId} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,\n      instruction.data,\n    );\n\n    return {\n      fromPubkey: instruction.keys[0].pubkey,\n      basePubkey: instruction.keys[1].pubkey,\n      toPubkey: instruction.keys[2].pubkey,\n      lamports,\n      seed,\n      programId: new PublicKey(programId),\n    };\n  }\n\n  /**\n   * Decode an allocate system instruction and retrieve the instruction params.\n   */\n  static decodeAllocate(instruction: TransactionInstruction): AllocateParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 1);\n\n    const {space} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.Allocate,\n      instruction.data,\n    );\n\n    return {\n      accountPubkey: instruction.keys[0].pubkey,\n      space,\n    };\n  }\n\n  /**\n   * Decode an allocate with seed system instruction and retrieve the instruction params.\n   */\n  static decodeAllocateWithSeed(\n    instruction: TransactionInstruction,\n  ): AllocateWithSeedParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 1);\n\n    const {base, seed, space, programId} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,\n      instruction.data,\n    );\n\n    return {\n      accountPubkey: instruction.keys[0].pubkey,\n      basePubkey: new PublicKey(base),\n      seed,\n      space,\n      programId: new PublicKey(programId),\n    };\n  }\n\n  /**\n   * Decode an assign system instruction and retrieve the instruction params.\n   */\n  static decodeAssign(instruction: TransactionInstruction): AssignParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 1);\n\n    const {programId} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.Assign,\n      instruction.data,\n    );\n\n    return {\n      accountPubkey: instruction.keys[0].pubkey,\n      programId: new PublicKey(programId),\n    };\n  }\n\n  /**\n   * Decode an assign with seed system instruction and retrieve the instruction params.\n   */\n  static decodeAssignWithSeed(\n    instruction: TransactionInstruction,\n  ): AssignWithSeedParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 1);\n\n    const {base, seed, programId} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,\n      instruction.data,\n    );\n\n    return {\n      accountPubkey: instruction.keys[0].pubkey,\n      basePubkey: new PublicKey(base),\n      seed,\n      programId: new PublicKey(programId),\n    };\n  }\n\n  /**\n   * Decode a create account with seed system instruction and retrieve the instruction params.\n   */\n  static decodeCreateWithSeed(\n    instruction: TransactionInstruction,\n  ): CreateAccountWithSeedParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 2);\n\n    const {base, seed, lamports, space, programId} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,\n      instruction.data,\n    );\n\n    return {\n      fromPubkey: instruction.keys[0].pubkey,\n      newAccountPubkey: instruction.keys[1].pubkey,\n      basePubkey: new PublicKey(base),\n      seed,\n      lamports,\n      space,\n      programId: new PublicKey(programId),\n    };\n  }\n\n  /**\n   * Decode a nonce initialize system instruction and retrieve the instruction params.\n   */\n  static decodeNonceInitialize(\n    instruction: TransactionInstruction,\n  ): InitializeNonceParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 3);\n\n    const {authorized} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,\n      instruction.data,\n    );\n\n    return {\n      noncePubkey: instruction.keys[0].pubkey,\n      authorizedPubkey: new PublicKey(authorized),\n    };\n  }\n\n  /**\n   * Decode a nonce advance system instruction and retrieve the instruction params.\n   */\n  static decodeNonceAdvance(\n    instruction: TransactionInstruction,\n  ): AdvanceNonceParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 3);\n\n    decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,\n      instruction.data,\n    );\n\n    return {\n      noncePubkey: instruction.keys[0].pubkey,\n      authorizedPubkey: instruction.keys[2].pubkey,\n    };\n  }\n\n  /**\n   * Decode a nonce withdraw system instruction and retrieve the instruction params.\n   */\n  static decodeNonceWithdraw(\n    instruction: TransactionInstruction,\n  ): WithdrawNonceParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 5);\n\n    const {lamports} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,\n      instruction.data,\n    );\n\n    return {\n      noncePubkey: instruction.keys[0].pubkey,\n      toPubkey: instruction.keys[1].pubkey,\n      authorizedPubkey: instruction.keys[4].pubkey,\n      lamports,\n    };\n  }\n\n  /**\n   * Decode a nonce authorize system instruction and retrieve the instruction params.\n   */\n  static decodeNonceAuthorize(\n    instruction: TransactionInstruction,\n  ): AuthorizeNonceParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 2);\n\n    const {authorized} = decodeData(\n      SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,\n      instruction.data,\n    );\n\n    return {\n      noncePubkey: instruction.keys[0].pubkey,\n      authorizedPubkey: instruction.keys[1].pubkey,\n      newAuthorizedPubkey: new PublicKey(authorized),\n    };\n  }\n\n  /**\n   * @internal\n   */\n  static checkProgramId(programId: PublicKey) {\n    if (!programId.equals(SystemProgram.programId)) {\n      throw new Error('invalid instruction; programId is not SystemProgram');\n    }\n  }\n\n  /**\n   * @internal\n   */\n  static checkKeyLength(keys: Array<any>, expectedLength: number) {\n    if (keys.length < expectedLength) {\n      throw new Error(\n        `invalid instruction; found ${keys.length} keys, expected at least ${expectedLength}`,\n      );\n    }\n  }\n}\n\n/**\n * An enumeration of valid SystemInstructionType's\n */\nexport type SystemInstructionType =\n  // FIXME\n  // It would be preferable for this type to be `keyof SystemInstructionInputData`\n  // but Typedoc does not transpile `keyof` expressions.\n  // See https://github.com/TypeStrong/typedoc/issues/1894\n  | 'AdvanceNonceAccount'\n  | 'Allocate'\n  | 'AllocateWithSeed'\n  | 'Assign'\n  | 'AssignWithSeed'\n  | 'AuthorizeNonceAccount'\n  | 'Create'\n  | 'CreateWithSeed'\n  | 'InitializeNonceAccount'\n  | 'Transfer'\n  | 'TransferWithSeed'\n  | 'WithdrawNonceAccount'\n  | 'UpgradeNonceAccount';\n\ntype SystemInstructionInputData = {\n  AdvanceNonceAccount: IInstructionInputData;\n  Allocate: IInstructionInputData & {\n    space: number;\n  };\n  AllocateWithSeed: IInstructionInputData & {\n    base: Uint8Array;\n    programId: Uint8Array;\n    seed: string;\n    space: number;\n  };\n  Assign: IInstructionInputData & {\n    programId: Uint8Array;\n  };\n  AssignWithSeed: IInstructionInputData & {\n    base: Uint8Array;\n    seed: string;\n    programId: Uint8Array;\n  };\n  AuthorizeNonceAccount: IInstructionInputData & {\n    authorized: Uint8Array;\n  };\n  Create: IInstructionInputData & {\n    lamports: number;\n    programId: Uint8Array;\n    space: number;\n  };\n  CreateWithSeed: IInstructionInputData & {\n    base: Uint8Array;\n    lamports: number;\n    programId: Uint8Array;\n    seed: string;\n    space: number;\n  };\n  InitializeNonceAccount: IInstructionInputData & {\n    authorized: Uint8Array;\n  };\n  Transfer: IInstructionInputData & {\n    lamports: bigint;\n  };\n  TransferWithSeed: IInstructionInputData & {\n    lamports: bigint;\n    programId: Uint8Array;\n    seed: string;\n  };\n  WithdrawNonceAccount: IInstructionInputData & {\n    lamports: number;\n  };\n  UpgradeNonceAccount: IInstructionInputData;\n};\n\n/**\n * An enumeration of valid system InstructionType's\n * @internal\n */\nexport const SYSTEM_INSTRUCTION_LAYOUTS = Object.freeze<{\n  [Instruction in SystemInstructionType]: InstructionType<\n    SystemInstructionInputData[Instruction]\n  >;\n}>({\n  Create: {\n    index: 0,\n    layout: BufferLayout.struct<SystemInstructionInputData['Create']>([\n      BufferLayout.u32('instruction'),\n      BufferLayout.ns64('lamports'),\n      BufferLayout.ns64('space'),\n      Layout.publicKey('programId'),\n    ]),\n  },\n  Assign: {\n    index: 1,\n    layout: BufferLayout.struct<SystemInstructionInputData['Assign']>([\n      BufferLayout.u32('instruction'),\n      Layout.publicKey('programId'),\n    ]),\n  },\n  Transfer: {\n    index: 2,\n    layout: BufferLayout.struct<SystemInstructionInputData['Transfer']>([\n      BufferLayout.u32('instruction'),\n      u64('lamports'),\n    ]),\n  },\n  CreateWithSeed: {\n    index: 3,\n    layout: BufferLayout.struct<SystemInstructionInputData['CreateWithSeed']>([\n      BufferLayout.u32('instruction'),\n      Layout.publicKey('base'),\n      Layout.rustString('seed'),\n      BufferLayout.ns64('lamports'),\n      BufferLayout.ns64('space'),\n      Layout.publicKey('programId'),\n    ]),\n  },\n  AdvanceNonceAccount: {\n    index: 4,\n    layout: BufferLayout.struct<\n      SystemInstructionInputData['AdvanceNonceAccount']\n    >([BufferLayout.u32('instruction')]),\n  },\n  WithdrawNonceAccount: {\n    index: 5,\n    layout: BufferLayout.struct<\n      SystemInstructionInputData['WithdrawNonceAccount']\n    >([BufferLayout.u32('instruction'), BufferLayout.ns64('lamports')]),\n  },\n  InitializeNonceAccount: {\n    index: 6,\n    layout: BufferLayout.struct<\n      SystemInstructionInputData['InitializeNonceAccount']\n    >([BufferLayout.u32('instruction'), Layout.publicKey('authorized')]),\n  },\n  AuthorizeNonceAccount: {\n    index: 7,\n    layout: BufferLayout.struct<\n      SystemInstructionInputData['AuthorizeNonceAccount']\n    >([BufferLayout.u32('instruction'), Layout.publicKey('authorized')]),\n  },\n  Allocate: {\n    index: 8,\n    layout: BufferLayout.struct<SystemInstructionInputData['Allocate']>([\n      BufferLayout.u32('instruction'),\n      BufferLayout.ns64('space'),\n    ]),\n  },\n  AllocateWithSeed: {\n    index: 9,\n    layout: BufferLayout.struct<SystemInstructionInputData['AllocateWithSeed']>(\n      [\n        BufferLayout.u32('instruction'),\n        Layout.publicKey('base'),\n        Layout.rustString('seed'),\n        BufferLayout.ns64('space'),\n        Layout.publicKey('programId'),\n      ],\n    ),\n  },\n  AssignWithSeed: {\n    index: 10,\n    layout: BufferLayout.struct<SystemInstructionInputData['AssignWithSeed']>([\n      BufferLayout.u32('instruction'),\n      Layout.publicKey('base'),\n      Layout.rustString('seed'),\n      Layout.publicKey('programId'),\n    ]),\n  },\n  TransferWithSeed: {\n    index: 11,\n    layout: BufferLayout.struct<SystemInstructionInputData['TransferWithSeed']>(\n      [\n        BufferLayout.u32('instruction'),\n        u64('lamports'),\n        Layout.rustString('seed'),\n        Layout.publicKey('programId'),\n      ],\n    ),\n  },\n  UpgradeNonceAccount: {\n    index: 12,\n    layout: BufferLayout.struct<\n      SystemInstructionInputData['UpgradeNonceAccount']\n    >([BufferLayout.u32('instruction')]),\n  },\n});\n\n/**\n * Factory class for transactions to interact with the System program\n */\nexport class SystemProgram {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Public key that identifies the System program\n   */\n  static programId: PublicKey = new PublicKey(\n    '11111111111111111111111111111111',\n  );\n\n  /**\n   * Generate a transaction instruction that creates a new account\n   */\n  static createAccount(params: CreateAccountParams): TransactionInstruction {\n    const type = SYSTEM_INSTRUCTION_LAYOUTS.Create;\n    const data = encodeData(type, {\n      lamports: params.lamports,\n      space: params.space,\n      programId: toBuffer(params.programId.toBuffer()),\n    });\n\n    return new TransactionInstruction({\n      keys: [\n        {pubkey: params.fromPubkey, isSigner: true, isWritable: true},\n        {pubkey: params.newAccountPubkey, isSigner: true, isWritable: true},\n      ],\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a transaction instruction that transfers lamports from one account to another\n   */\n  static transfer(\n    params: TransferParams | TransferWithSeedParams,\n  ): TransactionInstruction {\n    let data;\n    let keys;\n    if ('basePubkey' in params) {\n      const type = SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;\n      data = encodeData(type, {\n        lamports: BigInt(params.lamports),\n        seed: params.seed,\n        programId: toBuffer(params.programId.toBuffer()),\n      });\n      keys = [\n        {pubkey: params.fromPubkey, isSigner: false, isWritable: true},\n        {pubkey: params.basePubkey, isSigner: true, isWritable: false},\n        {pubkey: params.toPubkey, isSigner: false, isWritable: true},\n      ];\n    } else {\n      const type = SYSTEM_INSTRUCTION_LAYOUTS.Transfer;\n      data = encodeData(type, {lamports: BigInt(params.lamports)});\n      keys = [\n        {pubkey: params.fromPubkey, isSigner: true, isWritable: true},\n        {pubkey: params.toPubkey, isSigner: false, isWritable: true},\n      ];\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a transaction instruction that assigns an account to a program\n   */\n  static assign(\n    params: AssignParams | AssignWithSeedParams,\n  ): TransactionInstruction {\n    let data;\n    let keys;\n    if ('basePubkey' in params) {\n      const type = SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;\n      data = encodeData(type, {\n        base: toBuffer(params.basePubkey.toBuffer()),\n        seed: params.seed,\n        programId: toBuffer(params.programId.toBuffer()),\n      });\n      keys = [\n        {pubkey: params.accountPubkey, isSigner: false, isWritable: true},\n        {pubkey: params.basePubkey, isSigner: true, isWritable: false},\n      ];\n    } else {\n      const type = SYSTEM_INSTRUCTION_LAYOUTS.Assign;\n      data = encodeData(type, {\n        programId: toBuffer(params.programId.toBuffer()),\n      });\n      keys = [{pubkey: params.accountPubkey, isSigner: true, isWritable: true}];\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a transaction instruction that creates a new account at\n   *   an address generated with `from`, a seed, and programId\n   */\n  static createAccountWithSeed(\n    params: CreateAccountWithSeedParams,\n  ): TransactionInstruction {\n    const type = SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed;\n    const data = encodeData(type, {\n      base: toBuffer(params.basePubkey.toBuffer()),\n      seed: params.seed,\n      lamports: params.lamports,\n      space: params.space,\n      programId: toBuffer(params.programId.toBuffer()),\n    });\n    let keys = [\n      {pubkey: params.fromPubkey, isSigner: true, isWritable: true},\n      {pubkey: params.newAccountPubkey, isSigner: false, isWritable: true},\n    ];\n    if (!params.basePubkey.equals(params.fromPubkey)) {\n      keys.push({\n        pubkey: params.basePubkey,\n        isSigner: true,\n        isWritable: false,\n      });\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a transaction that creates a new Nonce account\n   */\n  static createNonceAccount(\n    params: CreateNonceAccountParams | CreateNonceAccountWithSeedParams,\n  ): Transaction {\n    const transaction = new Transaction();\n    if ('basePubkey' in params && 'seed' in params) {\n      transaction.add(\n        SystemProgram.createAccountWithSeed({\n          fromPubkey: params.fromPubkey,\n          newAccountPubkey: params.noncePubkey,\n          basePubkey: params.basePubkey,\n          seed: params.seed,\n          lamports: params.lamports,\n          space: NONCE_ACCOUNT_LENGTH,\n          programId: this.programId,\n        }),\n      );\n    } else {\n      transaction.add(\n        SystemProgram.createAccount({\n          fromPubkey: params.fromPubkey,\n          newAccountPubkey: params.noncePubkey,\n          lamports: params.lamports,\n          space: NONCE_ACCOUNT_LENGTH,\n          programId: this.programId,\n        }),\n      );\n    }\n\n    const initParams = {\n      noncePubkey: params.noncePubkey,\n      authorizedPubkey: params.authorizedPubkey,\n    };\n\n    transaction.add(this.nonceInitialize(initParams));\n    return transaction;\n  }\n\n  /**\n   * Generate an instruction to initialize a Nonce account\n   */\n  static nonceInitialize(\n    params: InitializeNonceParams,\n  ): TransactionInstruction {\n    const type = SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount;\n    const data = encodeData(type, {\n      authorized: toBuffer(params.authorizedPubkey.toBuffer()),\n    });\n    const instructionData = {\n      keys: [\n        {pubkey: params.noncePubkey, isSigner: false, isWritable: true},\n        {\n          pubkey: SYSVAR_RECENT_BLOCKHASHES_PUBKEY,\n          isSigner: false,\n          isWritable: false,\n        },\n        {pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false},\n      ],\n      programId: this.programId,\n      data,\n    };\n    return new TransactionInstruction(instructionData);\n  }\n\n  /**\n   * Generate an instruction to advance the nonce in a Nonce account\n   */\n  static nonceAdvance(params: AdvanceNonceParams): TransactionInstruction {\n    const type = SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount;\n    const data = encodeData(type);\n    const instructionData = {\n      keys: [\n        {pubkey: params.noncePubkey, isSigner: false, isWritable: true},\n        {\n          pubkey: SYSVAR_RECENT_BLOCKHASHES_PUBKEY,\n          isSigner: false,\n          isWritable: false,\n        },\n        {pubkey: params.authorizedPubkey, isSigner: true, isWritable: false},\n      ],\n      programId: this.programId,\n      data,\n    };\n    return new TransactionInstruction(instructionData);\n  }\n\n  /**\n   * Generate a transaction instruction that withdraws lamports from a Nonce account\n   */\n  static nonceWithdraw(params: WithdrawNonceParams): TransactionInstruction {\n    const type = SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount;\n    const data = encodeData(type, {lamports: params.lamports});\n\n    return new TransactionInstruction({\n      keys: [\n        {pubkey: params.noncePubkey, isSigner: false, isWritable: true},\n        {pubkey: params.toPubkey, isSigner: false, isWritable: true},\n        {\n          pubkey: SYSVAR_RECENT_BLOCKHASHES_PUBKEY,\n          isSigner: false,\n          isWritable: false,\n        },\n        {\n          pubkey: SYSVAR_RENT_PUBKEY,\n          isSigner: false,\n          isWritable: false,\n        },\n        {pubkey: params.authorizedPubkey, isSigner: true, isWritable: false},\n      ],\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a transaction instruction that authorizes a new PublicKey as the authority\n   * on a Nonce account.\n   */\n  static nonceAuthorize(params: AuthorizeNonceParams): TransactionInstruction {\n    const type = SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount;\n    const data = encodeData(type, {\n      authorized: toBuffer(params.newAuthorizedPubkey.toBuffer()),\n    });\n\n    return new TransactionInstruction({\n      keys: [\n        {pubkey: params.noncePubkey, isSigner: false, isWritable: true},\n        {pubkey: params.authorizedPubkey, isSigner: true, isWritable: false},\n      ],\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a transaction instruction that allocates space in an account without funding\n   */\n  static allocate(\n    params: AllocateParams | AllocateWithSeedParams,\n  ): TransactionInstruction {\n    let data;\n    let keys;\n    if ('basePubkey' in params) {\n      const type = SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;\n      data = encodeData(type, {\n        base: toBuffer(params.basePubkey.toBuffer()),\n        seed: params.seed,\n        space: params.space,\n        programId: toBuffer(params.programId.toBuffer()),\n      });\n      keys = [\n        {pubkey: params.accountPubkey, isSigner: false, isWritable: true},\n        {pubkey: params.basePubkey, isSigner: true, isWritable: false},\n      ];\n    } else {\n      const type = SYSTEM_INSTRUCTION_LAYOUTS.Allocate;\n      data = encodeData(type, {\n        space: params.space,\n      });\n      keys = [{pubkey: params.accountPubkey, isSigner: true, isWritable: true}];\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n}\n", "import {Buffer} from 'buffer';\nimport * as BufferLayout from '@solana/buffer-layout';\n\nimport {PublicKey} from './publickey';\nimport {Transaction, PACKET_DATA_SIZE} from './transaction';\nimport {MS_PER_SLOT} from './timing';\nimport {SYSVAR_RENT_PUBKEY} from './sysvar';\nimport {sendAndConfirmTransaction} from './utils/send-and-confirm-transaction';\nimport {sleep} from './utils/sleep';\nimport type {Connection} from './connection';\nimport type {Signer} from './keypair';\nimport {SystemProgram} from './programs/system';\nimport {IInstructionInputData} from './instruction';\n\n// Keep program chunks under PACKET_DATA_SIZE, leaving enough room for the\n// rest of the Transaction fields\n//\n// TODO: replace 300 with a proper constant for the size of the other\n// Transaction fields\nconst CHUNK_SIZE = PACKET_DATA_SIZE - 300;\n\n/**\n * Program loader interface\n */\nexport class Loader {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Amount of program data placed in each load Transaction\n   */\n  static chunkSize: number = CHUNK_SIZE;\n\n  /**\n   * Minimum number of signatures required to load a program not including\n   * retries\n   *\n   * Can be used to calculate transaction fees\n   */\n  static getMinNumSignatures(dataLength: number): number {\n    return (\n      2 * // Every transaction requires two signatures (payer + program)\n      (Math.ceil(dataLength / Loader.chunkSize) +\n        1 + // Add one for Create transaction\n        1) // Add one for Finalize transaction\n    );\n  }\n\n  /**\n   * Loads a generic program\n   *\n   * @param connection The connection to use\n   * @param payer System account that pays to load the program\n   * @param program Account to load the program into\n   * @param programId Public key that identifies the loader\n   * @param data Program octets\n   * @return true if program was loaded successfully, false if program was already loaded\n   */\n  static async load(\n    connection: Connection,\n    payer: Signer,\n    program: Signer,\n    programId: PublicKey,\n    data: Buffer | Uint8Array | Array<number>,\n  ): Promise<boolean> {\n    {\n      const balanceNeeded = await connection.getMinimumBalanceForRentExemption(\n        data.length,\n      );\n\n      // Fetch program account info to check if it has already been created\n      const programInfo = await connection.getAccountInfo(\n        program.publicKey,\n        'confirmed',\n      );\n\n      let transaction: Transaction | null = null;\n      if (programInfo !== null) {\n        if (programInfo.executable) {\n          console.error('Program load failed, account is already executable');\n          return false;\n        }\n\n        if (programInfo.data.length !== data.length) {\n          transaction = transaction || new Transaction();\n          transaction.add(\n            SystemProgram.allocate({\n              accountPubkey: program.publicKey,\n              space: data.length,\n            }),\n          );\n        }\n\n        if (!programInfo.owner.equals(programId)) {\n          transaction = transaction || new Transaction();\n          transaction.add(\n            SystemProgram.assign({\n              accountPubkey: program.publicKey,\n              programId,\n            }),\n          );\n        }\n\n        if (programInfo.lamports < balanceNeeded) {\n          transaction = transaction || new Transaction();\n          transaction.add(\n            SystemProgram.transfer({\n              fromPubkey: payer.publicKey,\n              toPubkey: program.publicKey,\n              lamports: balanceNeeded - programInfo.lamports,\n            }),\n          );\n        }\n      } else {\n        transaction = new Transaction().add(\n          SystemProgram.createAccount({\n            fromPubkey: payer.publicKey,\n            newAccountPubkey: program.publicKey,\n            lamports: balanceNeeded > 0 ? balanceNeeded : 1,\n            space: data.length,\n            programId,\n          }),\n        );\n      }\n\n      // If the account is already created correctly, skip this step\n      // and proceed directly to loading instructions\n      if (transaction !== null) {\n        await sendAndConfirmTransaction(\n          connection,\n          transaction,\n          [payer, program],\n          {\n            commitment: 'confirmed',\n          },\n        );\n      }\n    }\n\n    const dataLayout = BufferLayout.struct<\n      Readonly<{\n        bytes: number[];\n        bytesLength: number;\n        bytesLengthPadding: number;\n        instruction: number;\n        offset: number;\n      }>\n    >([\n      BufferLayout.u32('instruction'),\n      BufferLayout.u32('offset'),\n      BufferLayout.u32('bytesLength'),\n      BufferLayout.u32('bytesLengthPadding'),\n      BufferLayout.seq(\n        BufferLayout.u8('byte'),\n        BufferLayout.offset(BufferLayout.u32(), -8),\n        'bytes',\n      ),\n    ]);\n\n    const chunkSize = Loader.chunkSize;\n    let offset = 0;\n    let array = data;\n    let transactions = [];\n    while (array.length > 0) {\n      const bytes = array.slice(0, chunkSize);\n      const data = Buffer.alloc(chunkSize + 16);\n      dataLayout.encode(\n        {\n          instruction: 0, // Load instruction\n          offset,\n          bytes: bytes as number[],\n          bytesLength: 0,\n          bytesLengthPadding: 0,\n        },\n        data,\n      );\n\n      const transaction = new Transaction().add({\n        keys: [{pubkey: program.publicKey, isSigner: true, isWritable: true}],\n        programId,\n        data,\n      });\n      transactions.push(\n        sendAndConfirmTransaction(connection, transaction, [payer, program], {\n          commitment: 'confirmed',\n        }),\n      );\n\n      // Delay between sends in an attempt to reduce rate limit errors\n      if (connection._rpcEndpoint.includes('solana.com')) {\n        const REQUESTS_PER_SECOND = 4;\n        await sleep(1000 / REQUESTS_PER_SECOND);\n      }\n\n      offset += chunkSize;\n      array = array.slice(chunkSize);\n    }\n    await Promise.all(transactions);\n\n    // Finalize the account loaded with program data for execution\n    {\n      const dataLayout = BufferLayout.struct<IInstructionInputData>([\n        BufferLayout.u32('instruction'),\n      ]);\n\n      const data = Buffer.alloc(dataLayout.span);\n      dataLayout.encode(\n        {\n          instruction: 1, // Finalize instruction\n        },\n        data,\n      );\n\n      const transaction = new Transaction().add({\n        keys: [\n          {pubkey: program.publicKey, isSigner: true, isWritable: true},\n          {pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false},\n        ],\n        programId,\n        data,\n      });\n      const deployCommitment = 'processed';\n      const finalizeSignature = await connection.sendTransaction(\n        transaction,\n        [payer, program],\n        {preflightCommitment: deployCommitment},\n      );\n      const {context, value} = await connection.confirmTransaction(\n        {\n          signature: finalizeSignature,\n          lastValidBlockHeight: transaction.lastValidBlockHeight!,\n          blockhash: transaction.recentBlockhash!,\n        },\n        deployCommitment,\n      );\n      if (value.err) {\n        throw new Error(\n          `Transaction ${finalizeSignature} failed (${JSON.stringify(value)})`,\n        );\n      }\n      // We prevent programs from being usable until the slot after their deployment.\n      // See https://github.com/solana-labs/solana/pull/29654\n      while (\n        true // eslint-disable-line no-constant-condition\n      ) {\n        try {\n          const currentSlot = await connection.getSlot({\n            commitment: deployCommitment,\n          });\n          if (currentSlot > context.slot) {\n            break;\n          }\n        } catch {\n          /* empty */\n        }\n        await new Promise(resolve =>\n          setTimeout(resolve, Math.round(MS_PER_SLOT / 2)),\n        );\n      }\n    }\n\n    // success\n    return true;\n  }\n}\n", "import type {Buffer} from 'buffer';\n\nimport {PublicKey} from './publickey';\nimport {Loader} from './loader';\nimport type {Connection} from './connection';\nimport type {Signer} from './keypair';\n\n/**\n * @deprecated Deprecated since Solana v1.17.20.\n */\nexport const BPF_LOADER_PROGRAM_ID = new PublicKey(\n  'BPFLoader2111111111111111111111111111111111',\n);\n\n/**\n * Factory class for transactions to interact with a program loader\n *\n * @deprecated Deprecated since Solana v1.17.20.\n */\nexport class BpfLoader {\n  /**\n   * Minimum number of signatures required to load a program not including\n   * retries\n   *\n   * Can be used to calculate transaction fees\n   */\n  static getMinNumSignatures(dataLength: number): number {\n    return Loader.getMinNumSignatures(dataLength);\n  }\n\n  /**\n   * Load a SBF program\n   *\n   * @param connection The connection to use\n   * @param payer Account that will pay program loading fees\n   * @param program Account to load the program into\n   * @param elf The entire ELF containing the SBF program\n   * @param loaderProgramId The program id of the BPF loader to use\n   * @return true if program was loaded successfully, false if program was already loaded\n   */\n  static load(\n    connection: Connection,\n    payer: Signer,\n    program: Signer,\n    elf: Buffer | Uint8Array | Array<number>,\n    loaderProgramId: PublicKey,\n  ): Promise<boolean> {\n    return Loader.load(connection, payer, program, loaderProgramId, elf);\n  }\n}\n", "var objToString = Object.prototype.toString;\nvar objKeys = Object.keys || function(obj) {\n\t\tvar keys = [];\n\t\tfor (var name in obj) {\n\t\t\tkeys.push(name);\n\t\t}\n\t\treturn keys;\n\t};\n\nfunction stringify(val, isArrayProp) {\n\tvar i, max, str, keys, key, propVal, toStr;\n\tif (val === true) {\n\t\treturn \"true\";\n\t}\n\tif (val === false) {\n\t\treturn \"false\";\n\t}\n\tswitch (typeof val) {\n\t\tcase \"object\":\n\t\t\tif (val === null) {\n\t\t\t\treturn null;\n\t\t\t} else if (val.toJSON && typeof val.toJSON === \"function\") {\n\t\t\t\treturn stringify(val.toJSON(), isArrayProp);\n\t\t\t} else {\n\t\t\t\ttoStr = objToString.call(val);\n\t\t\t\tif (toStr === \"[object Array]\") {\n\t\t\t\t\tstr = '[';\n\t\t\t\t\tmax = val.length - 1;\n\t\t\t\t\tfor(i = 0; i < max; i++) {\n\t\t\t\t\t\tstr += stringify(val[i], true) + ',';\n\t\t\t\t\t}\n\t\t\t\t\tif (max > -1) {\n\t\t\t\t\t\tstr += stringify(val[i], true);\n\t\t\t\t\t}\n\t\t\t\t\treturn str + ']';\n\t\t\t\t} else if (toStr === \"[object Object]\") {\n\t\t\t\t\t// only object is left\n\t\t\t\t\tkeys = objKeys(val).sort();\n\t\t\t\t\tmax = keys.length;\n\t\t\t\t\tstr = \"\";\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile (i < max) {\n\t\t\t\t\t\tkey = keys[i];\n\t\t\t\t\t\tpropVal = stringify(val[key], false);\n\t\t\t\t\t\tif (propVal !== undefined) {\n\t\t\t\t\t\t\tif (str) {\n\t\t\t\t\t\t\t\tstr += ',';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstr += JSON.stringify(key) + ':' + propVal;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t\treturn '{' + str + '}';\n\t\t\t\t} else {\n\t\t\t\t\treturn JSON.stringify(val);\n\t\t\t\t}\n\t\t\t}\n\t\tcase \"function\":\n\t\tcase \"undefined\":\n\t\t\treturn isArrayProp ? null : undefined;\n\t\tcase \"string\":\n\t\t\treturn JSON.stringify(val);\n\t\tdefault:\n\t\t\treturn isFinite(val) ? val : null;\n\t}\n}\n\nmodule.exports = function(val) {\n\tvar returnVal = stringify(val, false);\n\tif (returnVal !== undefined) {\n\t\treturn ''+ returnVal;\n\t}\n};\n", "const MINIMUM_SLOT_PER_EPOCH = 32;\n\n// Returns the number of trailing zeros in the binary representation of self.\nfunction trailingZeros(n: number) {\n  let trailingZeros = 0;\n  while (n > 1) {\n    n /= 2;\n    trailingZeros++;\n  }\n  return trailingZeros;\n}\n\n// Returns the smallest power of two greater than or equal to n\nfunction nextPowerOfTwo(n: number) {\n  if (n === 0) return 1;\n  n--;\n  n |= n >> 1;\n  n |= n >> 2;\n  n |= n >> 4;\n  n |= n >> 8;\n  n |= n >> 16;\n  n |= n >> 32;\n  return n + 1;\n}\n\n/**\n * Epoch schedule\n * (see https://docs.solana.com/terminology#epoch)\n * Can be retrieved with the {@link Connection.getEpochSchedule} method\n */\nexport class EpochSchedule {\n  /** The maximum number of slots in each epoch */\n  public slotsPerEpoch: number;\n  /** The number of slots before beginning of an epoch to calculate a leader schedule for that epoch */\n  public leaderScheduleSlotOffset: number;\n  /** Indicates whether epochs start short and grow */\n  public warmup: boolean;\n  /** The first epoch with `slotsPerEpoch` slots */\n  public firstNormalEpoch: number;\n  /** The first slot of `firstNormalEpoch` */\n  public firstNormalSlot: number;\n\n  constructor(\n    slotsPerEpoch: number,\n    leaderScheduleSlotOffset: number,\n    warmup: boolean,\n    firstNormalEpoch: number,\n    firstNormalSlot: number,\n  ) {\n    this.slotsPerEpoch = slotsPerEpoch;\n    this.leaderScheduleSlotOffset = leaderScheduleSlotOffset;\n    this.warmup = warmup;\n    this.firstNormalEpoch = firstNormalEpoch;\n    this.firstNormalSlot = firstNormalSlot;\n  }\n\n  getEpoch(slot: number): number {\n    return this.getEpochAndSlotIndex(slot)[0];\n  }\n\n  getEpochAndSlotIndex(slot: number): [number, number] {\n    if (slot < this.firstNormalSlot) {\n      const epoch =\n        trailingZeros(nextPowerOfTwo(slot + MINIMUM_SLOT_PER_EPOCH + 1)) -\n        trailingZeros(MINIMUM_SLOT_PER_EPOCH) -\n        1;\n\n      const epochLen = this.getSlotsInEpoch(epoch);\n      const slotIndex = slot - (epochLen - MINIMUM_SLOT_PER_EPOCH);\n      return [epoch, slotIndex];\n    } else {\n      const normalSlotIndex = slot - this.firstNormalSlot;\n      const normalEpochIndex = Math.floor(normalSlotIndex / this.slotsPerEpoch);\n      const epoch = this.firstNormalEpoch + normalEpochIndex;\n      const slotIndex = normalSlotIndex % this.slotsPerEpoch;\n      return [epoch, slotIndex];\n    }\n  }\n\n  getFirstSlotInEpoch(epoch: number): number {\n    if (epoch <= this.firstNormalEpoch) {\n      return (Math.pow(2, epoch) - 1) * MINIMUM_SLOT_PER_EPOCH;\n    } else {\n      return (\n        (epoch - this.firstNormalEpoch) * this.slotsPerEpoch +\n        this.firstNormalSlot\n      );\n    }\n  }\n\n  getLastSlotInEpoch(epoch: number): number {\n    return this.getFirstSlotInEpoch(epoch) + this.getSlotsInEpoch(epoch) - 1;\n  }\n\n  getSlotsInEpoch(epoch: number) {\n    if (epoch < this.firstNormalEpoch) {\n      return Math.pow(2, epoch + trailingZeros(MINIMUM_SLOT_PER_EPOCH));\n    } else {\n      return this.slotsPerEpoch;\n    }\n  }\n}\n", "export const Headers: typeof globalThis.Headers = globalThis.Headers;\nexport const Request: typeof globalThis.Request = globalThis.Request;\nexport const Response: typeof globalThis.Response = globalThis.Response;\nexport default globalThis.fetch;\n", "import {\n  CommonClient,\n  ICommonWebSocket,\n  IWSClientAdditionalOptions,\n  NodeWebSocketType,\n  NodeWebSocketTypeOptions,\n  WebSocket as createRpc,\n} from 'rpc-websockets';\n\ninterface IHasReadyState {\n  readyState: WebSocket['readyState'];\n}\n\nexport default class RpcWebSocketClient extends CommonClient {\n  private underlyingSocket: IHasReadyState | undefined;\n  constructor(\n    address?: string,\n    options?: IWSClientAdditionalOptions & NodeWebSocketTypeOptions,\n    generate_request_id?: (\n      method: string,\n      params: object | Array<any>,\n    ) => number,\n  ) {\n    const webSocketFactory = (url: string) => {\n      const rpc = createRpc(url, {\n        autoconnect: true,\n        max_reconnects: 5,\n        reconnect: true,\n        reconnect_interval: 1000,\n        ...options,\n      });\n      if ('socket' in rpc) {\n        this.underlyingSocket = rpc.socket as ReturnType<typeof createRpc>;\n      } else {\n        this.underlyingSocket = rpc as NodeWebSocketType;\n      }\n      return rpc as ICommonWebSocket;\n    };\n    super(webSocketFactory, address, options, generate_request_id);\n  }\n  call(\n    ...args: Parameters<CommonClient['call']>\n  ): ReturnType<CommonClient['call']> {\n    const readyState = this.underlyingSocket?.readyState;\n    if (readyState === 1 /* WebSocket.OPEN */) {\n      return super.call(...args);\n    }\n    return Promise.reject(\n      new Error(\n        'Tried to call a JSON-RPC method `' +\n          args[0] +\n          '` but the socket was not `CONNECTING` or `OPEN` (`readyState` was ' +\n          readyState +\n          ')',\n      ),\n    );\n  }\n  notify(\n    ...args: Parameters<CommonClient['notify']>\n  ): ReturnType<CommonClient['notify']> {\n    const readyState = this.underlyingSocket?.readyState;\n    if (readyState === 1 /* WebSocket.OPEN */) {\n      return super.notify(...args);\n    }\n    return Promise.reject(\n      new Error(\n        'Tried to send a JSON-RPC notification `' +\n          args[0] +\n          '` but the socket was not `CONNECTING` or `OPEN` (`readyState` was ' +\n          readyState +\n          ')',\n      ),\n    );\n  }\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\n\nexport interface IAccountStateData {\n  readonly typeIndex: number;\n}\n\n/**\n * @internal\n */\nexport type AccountType<TInputData extends IAccountStateData> = {\n  /** The account type index (from solana upstream program) */\n  index: number;\n  /** The BufferLayout to use to build data */\n  layout: BufferLayout.Layout<TInputData>;\n};\n\n/**\n * Decode account data buffer using an AccountType\n * @internal\n */\nexport function decodeData<TAccountStateData extends IAccountStateData>(\n  type: AccountType<TAccountStateData>,\n  data: Uint8Array,\n): TAccountStateData {\n  let decoded: TAccountStateData;\n  try {\n    decoded = type.layout.decode(data);\n  } catch (err) {\n    throw new Error('invalid instruction; ' + err);\n  }\n\n  if (decoded.typeIndex !== type.index) {\n    throw new Error(\n      `invalid account data; account type mismatch ${decoded.typeIndex} != ${type.index}`,\n    );\n  }\n\n  return decoded;\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\n\nimport assert from '../../utils/assert';\nimport * as Layout from '../../layout';\nimport {PublicKey} from '../../publickey';\nimport {u64} from '../../utils/bigint';\nimport {decodeData} from '../../account-data';\n\nexport type AddressLookupTableState = {\n  deactivationSlot: bigint;\n  lastExtendedSlot: number;\n  lastExtendedSlotStartIndex: number;\n  authority?: PublicKey;\n  addresses: Array<PublicKey>;\n};\n\nexport type AddressLookupTableAccountArgs = {\n  key: PublicKey;\n  state: AddressLookupTableState;\n};\n\n/// The serialized size of lookup table metadata\nconst LOOKUP_TABLE_META_SIZE = 56;\n\nexport class AddressLookupTableAccount {\n  key: PublicKey;\n  state: AddressLookupTableState;\n\n  constructor(args: AddressLookupTableAccountArgs) {\n    this.key = args.key;\n    this.state = args.state;\n  }\n\n  isActive(): boolean {\n    const U64_MAX = BigInt('0xffffffffffffffff');\n    return this.state.deactivationSlot === U64_MAX;\n  }\n\n  static deserialize(accountData: Uint8Array): AddressLookupTableState {\n    const meta = decodeData(LookupTableMetaLayout, accountData);\n\n    const serializedAddressesLen = accountData.length - LOOKUP_TABLE_META_SIZE;\n    assert(serializedAddressesLen >= 0, 'lookup table is invalid');\n    assert(serializedAddressesLen % 32 === 0, 'lookup table is invalid');\n\n    const numSerializedAddresses = serializedAddressesLen / 32;\n    const {addresses} = BufferLayout.struct<{addresses: Array<Uint8Array>}>([\n      BufferLayout.seq(Layout.publicKey(), numSerializedAddresses, 'addresses'),\n    ]).decode(accountData.slice(LOOKUP_TABLE_META_SIZE));\n\n    return {\n      deactivationSlot: meta.deactivationSlot,\n      lastExtendedSlot: meta.lastExtendedSlot,\n      lastExtendedSlotStartIndex: meta.lastExtendedStartIndex,\n      authority:\n        meta.authority.length !== 0\n          ? new PublicKey(meta.authority[0])\n          : undefined,\n      addresses: addresses.map(address => new PublicKey(address)),\n    };\n  }\n}\n\nconst LookupTableMetaLayout = {\n  index: 1,\n  layout: BufferLayout.struct<{\n    typeIndex: number;\n    deactivationSlot: bigint;\n    lastExtendedSlot: number;\n    lastExtendedStartIndex: number;\n    authority: Array<Uint8Array>;\n  }>([\n    BufferLayout.u32('typeIndex'),\n    u64('deactivationSlot'),\n    BufferLayout.nu64('lastExtendedSlot'),\n    BufferLayout.u8('lastExtendedStartIndex'),\n    BufferLayout.u8(), // option\n    BufferLayout.seq(\n      Layout.publicKey(),\n      BufferLayout.offset(BufferLayout.u8(), -1),\n      'authority',\n    ),\n  ]),\n};\n", "const URL_RE = /^[^:]+:\\/\\/([^:[]+|\\[[^\\]]+\\])(:\\d+)?(.*)/i;\n\nexport function makeWebsocketUrl(endpoint: string) {\n  const matches = endpoint.match(URL_RE);\n  if (matches == null) {\n    throw TypeError(`Failed to validate endpoint URL \\`${endpoint}\\``);\n  }\n  const [\n    _, // eslint-disable-line @typescript-eslint/no-unused-vars\n    hostish,\n    portWithColon,\n    rest,\n  ] = matches;\n  const protocol = endpoint.startsWith('https:') ? 'wss:' : 'ws:';\n  const startPort =\n    portWithColon == null ? null : parseInt(portWithColon.slice(1), 10);\n  const websocketPort =\n    // Only shift the port by +1 as a convention for ws(s) only if given endpoint\n    // is explicitly specifying the endpoint port (HTTP-based RPC), assuming\n    // we're directly trying to connect to agave-validator's ws listening port.\n    // When the endpoint omits the port, we're connecting to the protocol\n    // default ports: http(80) or https(443) and it's assumed we're behind a reverse\n    // proxy which manages WebSocket upgrade and backend port redirection.\n    startPort == null ? '' : `:${startPort + 1}`;\n  return `${protocol}//${hostish}${websocketPort}${rest}`;\n}\n", "import HttpKeepAliveAgent, {\n  HttpsAgent as HttpsKeepAliveAgent,\n} from 'agentkeepalive';\nimport bs58 from 'bs58';\nimport {Buffer} from 'buffer';\n// @ts-ignore\nimport fastStableStringify from 'fast-stable-stringify';\nimport type {Agent as NodeHttpAgent} from 'http';\nimport {Agent as NodeHttpsAgent} from 'https';\nimport {\n  type as pick,\n  number,\n  string,\n  array,\n  boolean,\n  literal,\n  record,\n  union,\n  optional,\n  nullable,\n  coerce,\n  instance,\n  create,\n  tuple,\n  unknown,\n  any,\n} from 'superstruct';\nimport type {Struct} from 'superstruct';\nimport RpcClient from 'jayson/lib/client/browser';\nimport {JSONRPCError} from 'jayson';\n\nimport {EpochSchedule} from './epoch-schedule';\nimport {SendTransactionError, SolanaJSONRPCError} from './errors';\nimport fetchImpl from './fetch-impl';\nimport {DurableNonce, NonceAccount} from './nonce-account';\nimport {PublicKey} from './publickey';\nimport {Signer} from './keypair';\nimport RpcWebSocketClient from './rpc-websocket';\nimport {MS_PER_SLOT} from './timing';\nimport {\n  Transaction,\n  TransactionStatus,\n  TransactionVersion,\n  VersionedTransaction,\n} from './transaction';\nimport {Message, MessageHeader, MessageV0, VersionedMessage} from './message';\nimport {AddressLookupTableAccount} from './programs/address-lookup-table/state';\nimport assert from './utils/assert';\nimport {sleep} from './utils/sleep';\nimport {toBuffer} from './utils/to-buffer';\nimport {\n  TransactionExpiredBlockheightExceededError,\n  TransactionExpiredNonceInvalidError,\n  TransactionExpiredTimeoutError,\n} from './transaction/expiry-custom-errors';\nimport {makeWebsocketUrl} from './utils/makeWebsocketUrl';\nimport type {Blockhash} from './blockhash';\nimport type {FeeCalculator} from './fee-calculator';\nimport type {TransactionSignature} from './transaction';\nimport type {CompiledInstruction} from './message';\n\nconst PublicKeyFromString = coerce(\n  instance(PublicKey),\n  string(),\n  value => new PublicKey(value),\n);\n\nconst RawAccountDataResult = tuple([string(), literal('base64')]);\n\nconst BufferFromRawAccountData = coerce(\n  instance(Buffer),\n  RawAccountDataResult,\n  value => Buffer.from(value[0], 'base64'),\n);\n\n/**\n * Attempt to use a recent blockhash for up to 30 seconds\n * @internal\n */\nexport const BLOCKHASH_CACHE_TIMEOUT_MS = 30 * 1000;\n\n/**\n * HACK.\n * Copied from rpc-websockets/dist/lib/client.\n * Otherwise, `yarn build` fails with:\n * https://gist.github.com/steveluscher/c057eca81d479ef705cdb53162f9971d\n */\ninterface IWSRequestParams {\n  [x: string]: any;\n  [x: number]: any;\n}\n\ntype ClientSubscriptionId = number;\n/** @internal */ type ServerSubscriptionId = number;\n/** @internal */ type SubscriptionConfigHash = string;\n/** @internal */ type SubscriptionDisposeFn = () => Promise<void>;\n/** @internal */ type SubscriptionStateChangeCallback = (\n  nextState: StatefulSubscription['state'],\n) => void;\n/** @internal */ type SubscriptionStateChangeDisposeFn = () => void;\n/**\n * @internal\n * Every subscription contains the args used to open the subscription with\n * the server, and a list of callers interested in notifications.\n */\ntype BaseSubscription<TMethod = SubscriptionConfig['method']> = Readonly<{\n  args: IWSRequestParams;\n  callbacks: Set<Extract<SubscriptionConfig, {method: TMethod}>['callback']>;\n}>;\n/**\n * @internal\n * A subscription may be in various states of connectedness. Only when it is\n * fully connected will it have a server subscription id associated with it.\n * This id can be returned to the server to unsubscribe the client entirely.\n */\ntype StatefulSubscription = Readonly<\n  // New subscriptions that have not yet been\n  // sent to the server start in this state.\n  | {\n      state: 'pending';\n    }\n  // These subscriptions have been sent to the server\n  // and are waiting for the server to acknowledge them.\n  | {\n      state: 'subscribing';\n    }\n  // These subscriptions have been acknowledged by the\n  // server and have been assigned server subscription ids.\n  | {\n      serverSubscriptionId: ServerSubscriptionId;\n      state: 'subscribed';\n    }\n  // These subscriptions are intended to be torn down and\n  // are waiting on an acknowledgement from the server.\n  | {\n      serverSubscriptionId: ServerSubscriptionId;\n      state: 'unsubscribing';\n    }\n  // The request to tear down these subscriptions has been\n  // acknowledged by the server. The `serverSubscriptionId`\n  // is the id of the now-dead subscription.\n  | {\n      serverSubscriptionId: ServerSubscriptionId;\n      state: 'unsubscribed';\n    }\n>;\n/**\n * A type that encapsulates a subscription's RPC method\n * names and notification (callback) signature.\n */\ntype SubscriptionConfig = Readonly<\n  | {\n      callback: AccountChangeCallback;\n      method: 'accountSubscribe';\n      unsubscribeMethod: 'accountUnsubscribe';\n    }\n  | {\n      callback: LogsCallback;\n      method: 'logsSubscribe';\n      unsubscribeMethod: 'logsUnsubscribe';\n    }\n  | {\n      callback: ProgramAccountChangeCallback;\n      method: 'programSubscribe';\n      unsubscribeMethod: 'programUnsubscribe';\n    }\n  | {\n      callback: RootChangeCallback;\n      method: 'rootSubscribe';\n      unsubscribeMethod: 'rootUnsubscribe';\n    }\n  | {\n      callback: SignatureSubscriptionCallback;\n      method: 'signatureSubscribe';\n      unsubscribeMethod: 'signatureUnsubscribe';\n    }\n  | {\n      callback: SlotChangeCallback;\n      method: 'slotSubscribe';\n      unsubscribeMethod: 'slotUnsubscribe';\n    }\n  | {\n      callback: SlotUpdateCallback;\n      method: 'slotsUpdatesSubscribe';\n      unsubscribeMethod: 'slotsUpdatesUnsubscribe';\n    }\n>;\n/**\n * @internal\n * Utility type that keeps tagged unions intact while omitting properties.\n */\ntype DistributiveOmit<T, K extends PropertyKey> = T extends unknown\n  ? Omit<T, K>\n  : never;\n/**\n * @internal\n * This type represents a single subscribable 'topic.' It's made up of:\n *\n * - The args used to open the subscription with the server,\n * - The state of the subscription, in terms of its connectedness, and\n * - The set of callbacks to call when the server publishes notifications\n *\n * This record gets indexed by `SubscriptionConfigHash` and is used to\n * set up subscriptions, fan out notifications, and track subscription state.\n */\ntype Subscription = BaseSubscription &\n  StatefulSubscription &\n  DistributiveOmit<SubscriptionConfig, 'callback'>;\n\ntype RpcRequest = (methodName: string, args: Array<any>) => Promise<any>;\n\ntype RpcBatchRequest = (requests: RpcParams[]) => Promise<any[]>;\n\n/**\n * @internal\n */\nexport type RpcParams = {\n  methodName: string;\n  args: Array<any>;\n};\n\nexport type TokenAccountsFilter =\n  | {\n      mint: PublicKey;\n    }\n  | {\n      programId: PublicKey;\n    };\n\n/**\n * Extra contextual information for RPC responses\n */\nexport type Context = {\n  slot: number;\n};\n\n/**\n * Options for sending transactions\n */\nexport type SendOptions = {\n  /** disable transaction verification step */\n  skipPreflight?: boolean;\n  /** preflight commitment level */\n  preflightCommitment?: Commitment;\n  /** Maximum number of times for the RPC node to retry sending the transaction to the leader. */\n  maxRetries?: number;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Options for confirming transactions\n */\nexport type ConfirmOptions = {\n  /** disable transaction verification step */\n  skipPreflight?: boolean;\n  /** desired commitment level */\n  commitment?: Commitment;\n  /** preflight commitment level */\n  preflightCommitment?: Commitment;\n  /** Maximum number of times for the RPC node to retry sending the transaction to the leader. */\n  maxRetries?: number;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Options for getConfirmedSignaturesForAddress2\n */\nexport type ConfirmedSignaturesForAddress2Options = {\n  /**\n   * Start searching backwards from this transaction signature.\n   * @remarks If not provided the search starts from the highest max confirmed block.\n   */\n  before?: TransactionSignature;\n  /** Search until this transaction signature is reached, if found before `limit`. */\n  until?: TransactionSignature;\n  /** Maximum transaction signatures to return (between 1 and 1,000, default: 1,000). */\n  limit?: number;\n};\n\n/**\n * Options for getSignaturesForAddress\n */\nexport type SignaturesForAddressOptions = {\n  /**\n   * Start searching backwards from this transaction signature.\n   * @remarks If not provided the search starts from the highest max confirmed block.\n   */\n  before?: TransactionSignature;\n  /** Search until this transaction signature is reached, if found before `limit`. */\n  until?: TransactionSignature;\n  /** Maximum transaction signatures to return (between 1 and 1,000, default: 1,000). */\n  limit?: number;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * RPC Response with extra contextual information\n */\nexport type RpcResponseAndContext<T> = {\n  /** response context */\n  context: Context;\n  /** response value */\n  value: T;\n};\n\nexport type BlockhashWithExpiryBlockHeight = Readonly<{\n  blockhash: Blockhash;\n  lastValidBlockHeight: number;\n}>;\n\n/**\n * A strategy for confirming transactions that uses the last valid\n * block height for a given blockhash to check for transaction expiration.\n */\nexport type BlockheightBasedTransactionConfirmationStrategy =\n  BaseTransactionConfirmationStrategy & BlockhashWithExpiryBlockHeight;\n\n/**\n * A strategy for confirming durable nonce transactions.\n */\nexport type DurableNonceTransactionConfirmationStrategy =\n  BaseTransactionConfirmationStrategy & {\n    /**\n     * The lowest slot at which to fetch the nonce value from the\n     * nonce account. This should be no lower than the slot at\n     * which the last-known value of the nonce was fetched.\n     */\n    minContextSlot: number;\n    /**\n     * The account where the current value of the nonce is stored.\n     */\n    nonceAccountPubkey: PublicKey;\n    /**\n     * The nonce value that was used to sign the transaction\n     * for which confirmation is being sought.\n     */\n    nonceValue: DurableNonce;\n  };\n\n/**\n * Properties shared by all transaction confirmation strategies\n */\nexport type BaseTransactionConfirmationStrategy = Readonly<{\n  /** A signal that, when aborted, cancels any outstanding transaction confirmation operations */\n  abortSignal?: AbortSignal;\n  signature: TransactionSignature;\n}>;\n\n/**\n * This type represents all transaction confirmation strategies\n */\nexport type TransactionConfirmationStrategy =\n  | BlockheightBasedTransactionConfirmationStrategy\n  | DurableNonceTransactionConfirmationStrategy;\n\n/* @internal */\nfunction assertEndpointUrl(putativeUrl: string) {\n  if (/^https?:/.test(putativeUrl) === false) {\n    throw new TypeError('Endpoint URL must start with `http:` or `https:`.');\n  }\n  return putativeUrl;\n}\n\n/** @internal */\nfunction extractCommitmentFromConfig<TConfig>(\n  commitmentOrConfig?: Commitment | ({commitment?: Commitment} & TConfig),\n) {\n  let commitment: Commitment | undefined;\n  let config: Omit<TConfig, 'commitment'> | undefined;\n  if (typeof commitmentOrConfig === 'string') {\n    commitment = commitmentOrConfig;\n  } else if (commitmentOrConfig) {\n    const {commitment: specifiedCommitment, ...specifiedConfig} =\n      commitmentOrConfig;\n    commitment = specifiedCommitment;\n    config = specifiedConfig;\n  }\n  return {commitment, config};\n}\n\n/**\n * @internal\n */\nfunction applyDefaultMemcmpEncodingToFilters(\n  filters: GetProgramAccountsFilter[],\n): GetProgramAccountsFilter[] {\n  return filters.map(filter =>\n    'memcmp' in filter\n      ? {\n          ...filter,\n          memcmp: {\n            ...filter.memcmp,\n            encoding: filter.memcmp.encoding ?? 'base58',\n          },\n        }\n      : filter,\n  );\n}\n\n/**\n * @internal\n */\nfunction createRpcResult<T, U>(result: Struct<T, U>) {\n  return union([\n    pick({\n      jsonrpc: literal('2.0'),\n      id: string(),\n      result,\n    }),\n    pick({\n      jsonrpc: literal('2.0'),\n      id: string(),\n      error: pick({\n        code: unknown(),\n        message: string(),\n        data: optional(any()),\n      }),\n    }),\n  ]);\n}\n\nconst UnknownRpcResult = createRpcResult(unknown());\n\n/**\n * @internal\n */\nfunction jsonRpcResult<T, U>(schema: Struct<T, U>) {\n  return coerce(createRpcResult(schema), UnknownRpcResult, value => {\n    if ('error' in value) {\n      return value;\n    } else {\n      return {\n        ...value,\n        result: create(value.result, schema),\n      };\n    }\n  });\n}\n\n/**\n * @internal\n */\nfunction jsonRpcResultAndContext<T, U>(value: Struct<T, U>) {\n  return jsonRpcResult(\n    pick({\n      context: pick({\n        slot: number(),\n      }),\n      value,\n    }),\n  );\n}\n\n/**\n * @internal\n */\nfunction notificationResultAndContext<T, U>(value: Struct<T, U>) {\n  return pick({\n    context: pick({\n      slot: number(),\n    }),\n    value,\n  });\n}\n\n/**\n * @internal\n */\nfunction versionedMessageFromResponse(\n  version: TransactionVersion | undefined,\n  response: MessageResponse,\n): VersionedMessage {\n  if (version === 0) {\n    return new MessageV0({\n      header: response.header,\n      staticAccountKeys: response.accountKeys.map(\n        accountKey => new PublicKey(accountKey),\n      ),\n      recentBlockhash: response.recentBlockhash,\n      compiledInstructions: response.instructions.map(ix => ({\n        programIdIndex: ix.programIdIndex,\n        accountKeyIndexes: ix.accounts,\n        data: bs58.decode(ix.data),\n      })),\n      addressTableLookups: response.addressTableLookups!,\n    });\n  } else {\n    return new Message(response);\n  }\n}\n\n/**\n * The level of commitment desired when querying state\n * <pre>\n *   'processed': Query the most recent block which has reached 1 confirmation by the connected node\n *   'confirmed': Query the most recent block which has reached 1 confirmation by the cluster\n *   'finalized': Query the most recent block which has been finalized by the cluster\n * </pre>\n */\nexport type Commitment =\n  | 'processed'\n  | 'confirmed'\n  | 'finalized'\n  | 'recent' // Deprecated as of v1.5.5\n  | 'single' // Deprecated as of v1.5.5\n  | 'singleGossip' // Deprecated as of v1.5.5\n  | 'root' // Deprecated as of v1.5.5\n  | 'max'; // Deprecated as of v1.5.5\n\n/**\n * A subset of Commitment levels, which are at least optimistically confirmed\n * <pre>\n *   'confirmed': Query the most recent block which has reached 1 confirmation by the cluster\n *   'finalized': Query the most recent block which has been finalized by the cluster\n * </pre>\n */\nexport type Finality = 'confirmed' | 'finalized';\n\n/**\n * Filter for largest accounts query\n * <pre>\n *   'circulating':    Return the largest accounts that are part of the circulating supply\n *   'nonCirculating': Return the largest accounts that are not part of the circulating supply\n * </pre>\n */\nexport type LargestAccountsFilter = 'circulating' | 'nonCirculating';\n\n/**\n * Configuration object for changing `getAccountInfo` query behavior\n */\nexport type GetAccountInfoConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n  /** Optional data slice to limit the returned account data */\n  dataSlice?: DataSlice;\n};\n\n/**\n * Configuration object for changing `getBalance` query behavior\n */\nexport type GetBalanceConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for changing `getBlock` query behavior\n */\nexport type GetBlockConfig = {\n  /** The level of finality desired */\n  commitment?: Finality;\n  /**\n   * Whether to populate the rewards array. If parameter not provided, the default includes rewards.\n   */\n  rewards?: boolean;\n  /**\n   * Level of transaction detail to return, either \"full\", \"accounts\", \"signatures\", or \"none\". If\n   * parameter not provided, the default detail level is \"full\". If \"accounts\" are requested,\n   * transaction details only include signatures and an annotated list of accounts in each\n   * transaction. Transaction metadata is limited to only: fee, err, pre_balances, post_balances,\n   * pre_token_balances, and post_token_balances.\n   */\n  transactionDetails?: 'accounts' | 'full' | 'none' | 'signatures';\n};\n\n/**\n * Configuration object for changing `getBlock` query behavior\n */\nexport type GetVersionedBlockConfig = {\n  /** The level of finality desired */\n  commitment?: Finality;\n  /** The max transaction version to return in responses. If the requested transaction is a higher version, an error will be returned */\n  maxSupportedTransactionVersion?: number;\n  /**\n   * Whether to populate the rewards array. If parameter not provided, the default includes rewards.\n   */\n  rewards?: boolean;\n  /**\n   * Level of transaction detail to return, either \"full\", \"accounts\", \"signatures\", or \"none\". If\n   * parameter not provided, the default detail level is \"full\". If \"accounts\" are requested,\n   * transaction details only include signatures and an annotated list of accounts in each\n   * transaction. Transaction metadata is limited to only: fee, err, pre_balances, post_balances,\n   * pre_token_balances, and post_token_balances.\n   */\n  transactionDetails?: 'accounts' | 'full' | 'none' | 'signatures';\n};\n\n/**\n * Configuration object for changing `getStakeMinimumDelegation` query behavior\n */\nexport type GetStakeMinimumDelegationConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n};\n\n/**\n * Configuration object for changing `getBlockHeight` query behavior\n */\nexport type GetBlockHeightConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for changing `getEpochInfo` query behavior\n */\nexport type GetEpochInfoConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for changing `getInflationReward` query behavior\n */\nexport type GetInflationRewardConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** An epoch for which the reward occurs. If omitted, the previous epoch will be used */\n  epoch?: number;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for changing `getLatestBlockhash` query behavior\n */\nexport type GetLatestBlockhashConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for changing `isBlockhashValid` query behavior\n */\nexport type IsBlockhashValidConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for changing `getSlot` query behavior\n */\nexport type GetSlotConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for changing `getSlotLeader` query behavior\n */\nexport type GetSlotLeaderConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for changing `getTransaction` query behavior\n */\nexport type GetTransactionConfig = {\n  /** The level of finality desired */\n  commitment?: Finality;\n};\n\n/**\n * Configuration object for changing `getTransaction` query behavior\n */\nexport type GetVersionedTransactionConfig = {\n  /** The level of finality desired */\n  commitment?: Finality;\n  /** The max transaction version to return in responses. If the requested transaction is a higher version, an error will be returned */\n  maxSupportedTransactionVersion?: number;\n};\n\n/**\n * Configuration object for changing `getLargestAccounts` query behavior\n */\nexport type GetLargestAccountsConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** Filter largest accounts by whether they are part of the circulating supply */\n  filter?: LargestAccountsFilter;\n};\n\n/**\n * Configuration object for changing `getSupply` request behavior\n */\nexport type GetSupplyConfig = {\n  /** The level of commitment desired */\n  commitment?: Commitment;\n  /** Exclude non circulating accounts list from response */\n  excludeNonCirculatingAccountsList?: boolean;\n};\n\n/**\n * Configuration object for changing query behavior\n */\nexport type SignatureStatusConfig = {\n  /** enable searching status history, not needed for recent transactions */\n  searchTransactionHistory: boolean;\n};\n\n/**\n * Information describing a cluster node\n */\nexport type ContactInfo = {\n  /** Identity public key of the node */\n  pubkey: string;\n  /** Gossip network address for the node */\n  gossip: string | null;\n  /** TPU network address for the node (null if not available) */\n  tpu: string | null;\n  /** JSON RPC network address for the node (null if not available) */\n  rpc: string | null;\n  /** Software version of the node (null if not available) */\n  version: string | null;\n};\n\n/**\n * Information describing a vote account\n */\nexport type VoteAccountInfo = {\n  /** Public key of the vote account */\n  votePubkey: string;\n  /** Identity public key of the node voting with this account */\n  nodePubkey: string;\n  /** The stake, in lamports, delegated to this vote account and activated */\n  activatedStake: number;\n  /** Whether the vote account is staked for this epoch */\n  epochVoteAccount: boolean;\n  /** Recent epoch voting credit history for this voter */\n  epochCredits: Array<[number, number, number]>;\n  /** A percentage (0-100) of rewards payout owed to the voter */\n  commission: number;\n  /** Most recent slot voted on by this vote account */\n  lastVote: number;\n};\n\n/**\n * A collection of cluster vote accounts\n */\nexport type VoteAccountStatus = {\n  /** Active vote accounts */\n  current: Array<VoteAccountInfo>;\n  /** Inactive vote accounts */\n  delinquent: Array<VoteAccountInfo>;\n};\n\n/**\n * Network Inflation\n * (see https://docs.solana.com/implemented-proposals/ed_overview)\n */\nexport type InflationGovernor = {\n  foundation: number;\n  foundationTerm: number;\n  initial: number;\n  taper: number;\n  terminal: number;\n};\n\nconst GetInflationGovernorResult = pick({\n  foundation: number(),\n  foundationTerm: number(),\n  initial: number(),\n  taper: number(),\n  terminal: number(),\n});\n\n/**\n * The inflation reward for an epoch\n */\nexport type InflationReward = {\n  /** epoch for which the reward occurs */\n  epoch: number;\n  /** the slot in which the rewards are effective */\n  effectiveSlot: number;\n  /** reward amount in lamports */\n  amount: number;\n  /** post balance of the account in lamports */\n  postBalance: number;\n  /** vote account commission when the reward was credited */\n  commission?: number | null;\n};\n\n/**\n * Expected JSON RPC response for the \"getInflationReward\" message\n */\nconst GetInflationRewardResult = jsonRpcResult(\n  array(\n    nullable(\n      pick({\n        epoch: number(),\n        effectiveSlot: number(),\n        amount: number(),\n        postBalance: number(),\n        commission: optional(nullable(number())),\n      }),\n    ),\n  ),\n);\n\nexport type RecentPrioritizationFees = {\n  /** slot in which the fee was observed */\n  slot: number;\n  /** the per-compute-unit fee paid by at least one successfully landed transaction, specified in increments of 0.000001 lamports*/\n  prioritizationFee: number;\n};\n\n/**\n * Configuration object for changing `getRecentPrioritizationFees` query behavior\n */\nexport type GetRecentPrioritizationFeesConfig = {\n  /**\n   * If this parameter is provided, the response will reflect a fee to land a transaction locking\n   * all of the provided accounts as writable.\n   */\n  lockedWritableAccounts?: PublicKey[];\n};\n\n/**\n * Expected JSON RPC response for the \"getRecentPrioritizationFees\" message\n */\nconst GetRecentPrioritizationFeesResult = array(\n  pick({\n    slot: number(),\n    prioritizationFee: number(),\n  }),\n);\n\nexport type InflationRate = {\n  /** total inflation */\n  total: number;\n  /** inflation allocated to validators */\n  validator: number;\n  /** inflation allocated to the foundation */\n  foundation: number;\n  /** epoch for which these values are valid */\n  epoch: number;\n};\n\n/**\n * Expected JSON RPC response for the \"getInflationRate\" message\n */\nconst GetInflationRateResult = pick({\n  total: number(),\n  validator: number(),\n  foundation: number(),\n  epoch: number(),\n});\n\n/**\n * Information about the current epoch\n */\nexport type EpochInfo = {\n  epoch: number;\n  slotIndex: number;\n  slotsInEpoch: number;\n  absoluteSlot: number;\n  blockHeight?: number;\n  transactionCount?: number;\n};\n\nconst GetEpochInfoResult = pick({\n  epoch: number(),\n  slotIndex: number(),\n  slotsInEpoch: number(),\n  absoluteSlot: number(),\n  blockHeight: optional(number()),\n  transactionCount: optional(number()),\n});\n\nconst GetEpochScheduleResult = pick({\n  slotsPerEpoch: number(),\n  leaderScheduleSlotOffset: number(),\n  warmup: boolean(),\n  firstNormalEpoch: number(),\n  firstNormalSlot: number(),\n});\n\n/**\n * Leader schedule\n * (see https://docs.solana.com/terminology#leader-schedule)\n */\nexport type LeaderSchedule = {\n  [address: string]: number[];\n};\n\nconst GetLeaderScheduleResult = record(string(), array(number()));\n\n/**\n * Transaction error or null\n */\nconst TransactionErrorResult = nullable(union([pick({}), string()]));\n\n/**\n * Signature status for a transaction\n */\nconst SignatureStatusResult = pick({\n  err: TransactionErrorResult,\n});\n\n/**\n * Transaction signature received notification\n */\nconst SignatureReceivedResult = literal('receivedSignature');\n\n/**\n * Version info for a node\n */\nexport type Version = {\n  /** Version of solana-core */\n  'solana-core': string;\n  'feature-set'?: number;\n};\n\nconst VersionResult = pick({\n  'solana-core': string(),\n  'feature-set': optional(number()),\n});\n\nexport type SimulatedTransactionAccountInfo = {\n  /** `true` if this account's data contains a loaded program */\n  executable: boolean;\n  /** Identifier of the program that owns the account */\n  owner: string;\n  /** Number of lamports assigned to the account */\n  lamports: number;\n  /** Optional data assigned to the account */\n  data: string[];\n  /** Optional rent epoch info for account */\n  rentEpoch?: number;\n};\n\nexport type TransactionReturnDataEncoding = 'base64';\n\nexport type TransactionReturnData = {\n  programId: string;\n  data: [string, TransactionReturnDataEncoding];\n};\n\nexport type SimulateTransactionConfig = {\n  /** Optional parameter used to enable signature verification before simulation */\n  sigVerify?: boolean;\n  /** Optional parameter used to replace the simulated transaction's recent blockhash with the latest blockhash */\n  replaceRecentBlockhash?: boolean;\n  /** Optional parameter used to set the commitment level when selecting the latest block */\n  commitment?: Commitment;\n  /** Optional parameter used to specify a list of base58-encoded account addresses to return post simulation state for */\n  accounts?: {\n    /** The encoding of the returned account's data */\n    encoding: 'base64';\n    addresses: string[];\n  };\n  /** Optional parameter used to specify the minimum block slot that can be used for simulation */\n  minContextSlot?: number;\n  /** Optional parameter used to include inner instructions in the simulation */\n  innerInstructions?: boolean;\n};\n\nexport type SimulatedTransactionResponse = {\n  err: TransactionError | string | null;\n  logs: Array<string> | null;\n  accounts?: (SimulatedTransactionAccountInfo | null)[] | null;\n  unitsConsumed?: number;\n  returnData?: TransactionReturnData | null;\n  innerInstructions?: ParsedInnerInstruction[] | null;\n};\nconst ParsedInstructionStruct = pick({\n  program: string(),\n  programId: PublicKeyFromString,\n  parsed: unknown(),\n});\n\nconst PartiallyDecodedInstructionStruct = pick({\n  programId: PublicKeyFromString,\n  accounts: array(PublicKeyFromString),\n  data: string(),\n});\n\nconst SimulatedTransactionResponseStruct = jsonRpcResultAndContext(\n  pick({\n    err: nullable(union([pick({}), string()])),\n    logs: nullable(array(string())),\n    accounts: optional(\n      nullable(\n        array(\n          nullable(\n            pick({\n              executable: boolean(),\n              owner: string(),\n              lamports: number(),\n              data: array(string()),\n              rentEpoch: optional(number()),\n            }),\n          ),\n        ),\n      ),\n    ),\n    unitsConsumed: optional(number()),\n    returnData: optional(\n      nullable(\n        pick({\n          programId: string(),\n          data: tuple([string(), literal('base64')]),\n        }),\n      ),\n    ),\n    innerInstructions: optional(\n      nullable(\n        array(\n          pick({\n            index: number(),\n            instructions: array(\n              union([\n                ParsedInstructionStruct,\n                PartiallyDecodedInstructionStruct,\n              ]),\n            ),\n          }),\n        ),\n      ),\n    ),\n  }),\n);\n\nexport type ParsedInnerInstruction = {\n  index: number;\n  instructions: (ParsedInstruction | PartiallyDecodedInstruction)[];\n};\n\nexport type TokenBalance = {\n  accountIndex: number;\n  mint: string;\n  owner?: string;\n  programId?: string;\n  uiTokenAmount: TokenAmount;\n};\n\n/**\n * Metadata for a parsed confirmed transaction on the ledger\n *\n * @deprecated Deprecated since RPC v1.8.0. Please use {@link ParsedTransactionMeta} instead.\n */\nexport type ParsedConfirmedTransactionMeta = ParsedTransactionMeta;\n\n/**\n * Collection of addresses loaded by a transaction using address table lookups\n */\nexport type LoadedAddresses = {\n  writable: Array<PublicKey>;\n  readonly: Array<PublicKey>;\n};\n\n/**\n * Metadata for a parsed transaction on the ledger\n */\nexport type ParsedTransactionMeta = {\n  /** The fee charged for processing the transaction */\n  fee: number;\n  /** An array of cross program invoked parsed instructions */\n  innerInstructions?: ParsedInnerInstruction[] | null;\n  /** The balances of the transaction accounts before processing */\n  preBalances: Array<number>;\n  /** The balances of the transaction accounts after processing */\n  postBalances: Array<number>;\n  /** An array of program log messages emitted during a transaction */\n  logMessages?: Array<string> | null;\n  /** The token balances of the transaction accounts before processing */\n  preTokenBalances?: Array<TokenBalance> | null;\n  /** The token balances of the transaction accounts after processing */\n  postTokenBalances?: Array<TokenBalance> | null;\n  /** The error result of transaction processing */\n  err: TransactionError | null;\n  /** The collection of addresses loaded using address lookup tables */\n  loadedAddresses?: LoadedAddresses;\n  /** The compute units consumed after processing the transaction */\n  computeUnitsConsumed?: number;\n  /** The cost units consumed after processing the transaction */\n  costUnits?: number;\n};\n\nexport type CompiledInnerInstruction = {\n  index: number;\n  instructions: CompiledInstruction[];\n};\n\n/**\n * Metadata for a confirmed transaction on the ledger\n */\nexport type ConfirmedTransactionMeta = {\n  /** The fee charged for processing the transaction */\n  fee: number;\n  /** An array of cross program invoked instructions */\n  innerInstructions?: CompiledInnerInstruction[] | null;\n  /** The balances of the transaction accounts before processing */\n  preBalances: Array<number>;\n  /** The balances of the transaction accounts after processing */\n  postBalances: Array<number>;\n  /** An array of program log messages emitted during a transaction */\n  logMessages?: Array<string> | null;\n  /** The token balances of the transaction accounts before processing */\n  preTokenBalances?: Array<TokenBalance> | null;\n  /** The token balances of the transaction accounts after processing */\n  postTokenBalances?: Array<TokenBalance> | null;\n  /** The error result of transaction processing */\n  err: TransactionError | null;\n  /** The collection of addresses loaded using address lookup tables */\n  loadedAddresses?: LoadedAddresses;\n  /** The compute units consumed after processing the transaction */\n  computeUnitsConsumed?: number;\n  /** The cost units consumed after processing the transaction */\n  costUnits?: number;\n};\n\n/**\n * A processed transaction from the RPC API\n */\nexport type TransactionResponse = {\n  /** The slot during which the transaction was processed */\n  slot: number;\n  /** The transaction */\n  transaction: {\n    /** The transaction message */\n    message: Message;\n    /** The transaction signatures */\n    signatures: string[];\n  };\n  /** Metadata produced from the transaction */\n  meta: ConfirmedTransactionMeta | null;\n  /** The unix timestamp of when the transaction was processed */\n  blockTime?: number | null;\n};\n\n/**\n * A processed transaction from the RPC API\n */\nexport type VersionedTransactionResponse = {\n  /** The slot during which the transaction was processed */\n  slot: number;\n  /** The transaction */\n  transaction: {\n    /** The transaction message */\n    message: VersionedMessage;\n    /** The transaction signatures */\n    signatures: string[];\n  };\n  /** Metadata produced from the transaction */\n  meta: ConfirmedTransactionMeta | null;\n  /** The unix timestamp of when the transaction was processed */\n  blockTime?: number | null;\n  /** The transaction version */\n  version?: TransactionVersion;\n};\n\n/**\n * A processed transaction message from the RPC API\n */\ntype MessageResponse = {\n  accountKeys: string[];\n  header: MessageHeader;\n  instructions: CompiledInstruction[];\n  recentBlockhash: string;\n  addressTableLookups?: ParsedAddressTableLookup[];\n};\n\n/**\n * A confirmed transaction on the ledger\n *\n * @deprecated Deprecated since RPC v1.8.0.\n */\nexport type ConfirmedTransaction = {\n  /** The slot during which the transaction was processed */\n  slot: number;\n  /** The details of the transaction */\n  transaction: Transaction;\n  /** Metadata produced from the transaction */\n  meta: ConfirmedTransactionMeta | null;\n  /** The unix timestamp of when the transaction was processed */\n  blockTime?: number | null;\n};\n\n/**\n * A partially decoded transaction instruction\n */\nexport type PartiallyDecodedInstruction = {\n  /** Program id called by this instruction */\n  programId: PublicKey;\n  /** Public keys of accounts passed to this instruction */\n  accounts: Array<PublicKey>;\n  /** Raw base-58 instruction data */\n  data: string;\n};\n\n/**\n * A parsed transaction message account\n */\nexport type ParsedMessageAccount = {\n  /** Public key of the account */\n  pubkey: PublicKey;\n  /** Indicates if the account signed the transaction */\n  signer: boolean;\n  /** Indicates if the account is writable for this transaction */\n  writable: boolean;\n  /** Indicates if the account key came from the transaction or a lookup table */\n  source?: 'transaction' | 'lookupTable';\n};\n\n/**\n * A parsed transaction instruction\n */\nexport type ParsedInstruction = {\n  /** Name of the program for this instruction */\n  program: string;\n  /** ID of the program for this instruction */\n  programId: PublicKey;\n  /** Parsed instruction info */\n  parsed: any;\n};\n\n/**\n * A parsed address table lookup\n */\nexport type ParsedAddressTableLookup = {\n  /** Address lookup table account key */\n  accountKey: PublicKey;\n  /** Parsed instruction info */\n  writableIndexes: number[];\n  /** Parsed instruction info */\n  readonlyIndexes: number[];\n};\n\n/**\n * A parsed transaction message\n */\nexport type ParsedMessage = {\n  /** Accounts used in the instructions */\n  accountKeys: ParsedMessageAccount[];\n  /** The atomically executed instructions for the transaction */\n  instructions: (ParsedInstruction | PartiallyDecodedInstruction)[];\n  /** Recent blockhash */\n  recentBlockhash: string;\n  /** Address table lookups used to load additional accounts */\n  addressTableLookups?: ParsedAddressTableLookup[] | null;\n};\n\n/**\n * A parsed transaction\n */\nexport type ParsedTransaction = {\n  /** Signatures for the transaction */\n  signatures: Array<string>;\n  /** Message of the transaction */\n  message: ParsedMessage;\n};\n\n/**\n * A parsed and confirmed transaction on the ledger\n *\n * @deprecated Deprecated since RPC v1.8.0. Please use {@link ParsedTransactionWithMeta} instead.\n */\nexport type ParsedConfirmedTransaction = ParsedTransactionWithMeta;\n\n/**\n * A parsed transaction on the ledger with meta\n */\nexport type ParsedTransactionWithMeta = {\n  /** The slot during which the transaction was processed */\n  slot: number;\n  /** The details of the transaction */\n  transaction: ParsedTransaction;\n  /** Metadata produced from the transaction */\n  meta: ParsedTransactionMeta | null;\n  /** The unix timestamp of when the transaction was processed */\n  blockTime?: number | null;\n  /** The version of the transaction message */\n  version?: TransactionVersion;\n};\n\n/**\n * A processed block fetched from the RPC API\n */\nexport type BlockResponse = {\n  /** Blockhash of this block */\n  blockhash: Blockhash;\n  /** Blockhash of this block's parent */\n  previousBlockhash: Blockhash;\n  /** Slot index of this block's parent */\n  parentSlot: number;\n  /** Vector of transactions with status meta and original message */\n  transactions: Array<{\n    /** The transaction */\n    transaction: {\n      /** The transaction message */\n      message: Message;\n      /** The transaction signatures */\n      signatures: string[];\n    };\n    /** Metadata produced from the transaction */\n    meta: ConfirmedTransactionMeta | null;\n    /** The transaction version */\n    version?: TransactionVersion;\n  }>;\n  /** Vector of block rewards */\n  rewards?: Array<{\n    /** Public key of reward recipient */\n    pubkey: string;\n    /** Reward value in lamports */\n    lamports: number;\n    /** Account balance after reward is applied */\n    postBalance: number | null;\n    /** Type of reward received */\n    rewardType: string | null;\n    /** Vote account commission when the reward was credited, only present for voting and staking rewards */\n    commission?: number | null;\n  }>;\n  /** The unix timestamp of when the block was processed */\n  blockTime: number | null;\n};\n\n/**\n * A processed block fetched from the RPC API where the `transactionDetails` mode is `accounts`\n */\nexport type AccountsModeBlockResponse = VersionedAccountsModeBlockResponse;\n\n/**\n * A processed block fetched from the RPC API where the `transactionDetails` mode is `none`\n */\nexport type NoneModeBlockResponse = VersionedNoneModeBlockResponse;\n\n/**\n * A block with parsed transactions\n */\nexport type ParsedBlockResponse = {\n  /** Blockhash of this block */\n  blockhash: Blockhash;\n  /** Blockhash of this block's parent */\n  previousBlockhash: Blockhash;\n  /** Slot index of this block's parent */\n  parentSlot: number;\n  /** Vector of transactions with status meta and original message */\n  transactions: Array<{\n    /** The details of the transaction */\n    transaction: ParsedTransaction;\n    /** Metadata produced from the transaction */\n    meta: ParsedTransactionMeta | null;\n    /** The transaction version */\n    version?: TransactionVersion;\n  }>;\n  /** Vector of block rewards */\n  rewards?: Array<{\n    /** Public key of reward recipient */\n    pubkey: string;\n    /** Reward value in lamports */\n    lamports: number;\n    /** Account balance after reward is applied */\n    postBalance: number | null;\n    /** Type of reward received */\n    rewardType: string | null;\n    /** Vote account commission when the reward was credited, only present for voting and staking rewards */\n    commission?: number | null;\n  }>;\n  /** The unix timestamp of when the block was processed */\n  blockTime: number | null;\n  /** The number of blocks beneath this block */\n  blockHeight: number | null;\n};\n\n/**\n * A block with parsed transactions where the `transactionDetails` mode is `accounts`\n */\nexport type ParsedAccountsModeBlockResponse = Omit<\n  ParsedBlockResponse,\n  'transactions'\n> & {\n  transactions: Array<\n    Omit<ParsedBlockResponse['transactions'][number], 'transaction'> & {\n      transaction: Pick<\n        ParsedBlockResponse['transactions'][number]['transaction'],\n        'signatures'\n      > & {\n        accountKeys: ParsedMessageAccount[];\n      };\n    }\n  >;\n};\n\n/**\n * A block with parsed transactions where the `transactionDetails` mode is `none`\n */\nexport type ParsedNoneModeBlockResponse = Omit<\n  ParsedBlockResponse,\n  'transactions'\n>;\n\n/**\n * A processed block fetched from the RPC API\n */\nexport type VersionedBlockResponse = {\n  /** Blockhash of this block */\n  blockhash: Blockhash;\n  /** Blockhash of this block's parent */\n  previousBlockhash: Blockhash;\n  /** Slot index of this block's parent */\n  parentSlot: number;\n  /** Vector of transactions with status meta and original message */\n  transactions: Array<{\n    /** The transaction */\n    transaction: {\n      /** The transaction message */\n      message: VersionedMessage;\n      /** The transaction signatures */\n      signatures: string[];\n    };\n    /** Metadata produced from the transaction */\n    meta: ConfirmedTransactionMeta | null;\n    /** The transaction version */\n    version?: TransactionVersion;\n  }>;\n  /** Vector of block rewards */\n  rewards?: Array<{\n    /** Public key of reward recipient */\n    pubkey: string;\n    /** Reward value in lamports */\n    lamports: number;\n    /** Account balance after reward is applied */\n    postBalance: number | null;\n    /** Type of reward received */\n    rewardType: string | null;\n    /** Vote account commission when the reward was credited, only present for voting and staking rewards */\n    commission?: number | null;\n  }>;\n  /** The unix timestamp of when the block was processed */\n  blockTime: number | null;\n};\n\n/**\n * A processed block fetched from the RPC API where the `transactionDetails` mode is `accounts`\n */\nexport type VersionedAccountsModeBlockResponse = Omit<\n  VersionedBlockResponse,\n  'transactions'\n> & {\n  transactions: Array<\n    Omit<VersionedBlockResponse['transactions'][number], 'transaction'> & {\n      transaction: Pick<\n        VersionedBlockResponse['transactions'][number]['transaction'],\n        'signatures'\n      > & {\n        accountKeys: ParsedMessageAccount[];\n      };\n    }\n  >;\n};\n\n/**\n * A processed block fetched from the RPC API where the `transactionDetails` mode is `none`\n */\nexport type VersionedNoneModeBlockResponse = Omit<\n  VersionedBlockResponse,\n  'transactions'\n>;\n\n/**\n * A confirmed block on the ledger\n *\n * @deprecated Deprecated since RPC v1.8.0.\n */\nexport type ConfirmedBlock = {\n  /** Blockhash of this block */\n  blockhash: Blockhash;\n  /** Blockhash of this block's parent */\n  previousBlockhash: Blockhash;\n  /** Slot index of this block's parent */\n  parentSlot: number;\n  /** Vector of transactions and status metas */\n  transactions: Array<{\n    transaction: Transaction;\n    meta: ConfirmedTransactionMeta | null;\n  }>;\n  /** Vector of block rewards */\n  rewards?: Array<{\n    pubkey: string;\n    lamports: number;\n    postBalance: number | null;\n    rewardType: string | null;\n    commission?: number | null;\n  }>;\n  /** The unix timestamp of when the block was processed */\n  blockTime: number | null;\n};\n\n/**\n * A Block on the ledger with signatures only\n */\nexport type BlockSignatures = {\n  /** Blockhash of this block */\n  blockhash: Blockhash;\n  /** Blockhash of this block's parent */\n  previousBlockhash: Blockhash;\n  /** Slot index of this block's parent */\n  parentSlot: number;\n  /** Vector of signatures */\n  signatures: Array<string>;\n  /** The unix timestamp of when the block was processed */\n  blockTime: number | null;\n};\n\n/**\n * recent block production information\n */\nexport type BlockProduction = Readonly<{\n  /** a dictionary of validator identities, as base-58 encoded strings. Value is a two element array containing the number of leader slots and the number of blocks produced */\n  byIdentity: Readonly<Record<string, ReadonlyArray<number>>>;\n  /** Block production slot range */\n  range: Readonly<{\n    /** first slot of the block production information (inclusive) */\n    firstSlot: number;\n    /** last slot of block production information (inclusive) */\n    lastSlot: number;\n  }>;\n}>;\n\nexport type GetBlockProductionConfig = {\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /** Slot range to return block production for. If parameter not provided, defaults to current epoch. */\n  range?: {\n    /** first slot to return block production information for (inclusive) */\n    firstSlot: number;\n    /** last slot to return block production information for (inclusive). If parameter not provided, defaults to the highest slot */\n    lastSlot?: number;\n  };\n  /** Only return results for this validator identity (base-58 encoded) */\n  identity?: string;\n};\n\n/**\n * Expected JSON RPC response for the \"getBlockProduction\" message\n */\nconst BlockProductionResponseStruct = jsonRpcResultAndContext(\n  pick({\n    byIdentity: record(string(), array(number())),\n    range: pick({\n      firstSlot: number(),\n      lastSlot: number(),\n    }),\n  }),\n);\n\n/**\n * A performance sample\n */\nexport type PerfSample = {\n  /** Slot number of sample */\n  slot: number;\n  /** Number of transactions in a sample window */\n  numTransactions: number;\n  /** Number of slots in a sample window */\n  numSlots: number;\n  /** Sample window in seconds */\n  samplePeriodSecs: number;\n};\n\nfunction createRpcClient(\n  url: string,\n  httpHeaders?: HttpHeaders,\n  customFetch?: FetchFn,\n  fetchMiddleware?: FetchMiddleware,\n  disableRetryOnRateLimit?: boolean,\n  httpAgent?: NodeHttpAgent | NodeHttpsAgent | false,\n): RpcClient {\n  const fetch = customFetch ? customFetch : fetchImpl;\n  let agent: NodeHttpAgent | NodeHttpsAgent | undefined;\n  if (process.env.BROWSER) {\n    if (httpAgent != null) {\n      console.warn(\n        'You have supplied an `httpAgent` when creating a `Connection` in a browser environment.' +\n          'It has been ignored; `httpAgent` is only used in Node environments.',\n      );\n    }\n  } else {\n    if (httpAgent == null) {\n      if (process.env.NODE_ENV !== 'test') {\n        const agentOptions = {\n          // One second fewer than the Solana RPC's keepalive timeout.\n          // Read more: https://github.com/solana-labs/solana/issues/27859#issuecomment-1340097889\n          freeSocketTimeout: 19000,\n          keepAlive: true,\n          maxSockets: 25,\n        };\n        if (url.startsWith('https:')) {\n          agent = new HttpsKeepAliveAgent(agentOptions);\n        } else {\n          agent = new HttpKeepAliveAgent(agentOptions);\n        }\n      }\n    } else {\n      if (httpAgent !== false) {\n        const isHttps = url.startsWith('https:');\n        if (isHttps && !(httpAgent instanceof NodeHttpsAgent)) {\n          throw new Error(\n            'The endpoint `' +\n              url +\n              '` can only be paired with an `https.Agent`. You have, instead, supplied an ' +\n              '`http.Agent` through `httpAgent`.',\n          );\n        } else if (!isHttps && httpAgent instanceof NodeHttpsAgent) {\n          throw new Error(\n            'The endpoint `' +\n              url +\n              '` can only be paired with an `http.Agent`. You have, instead, supplied an ' +\n              '`https.Agent` through `httpAgent`.',\n          );\n        }\n        agent = httpAgent;\n      }\n    }\n  }\n\n  let fetchWithMiddleware: FetchFn | undefined;\n\n  if (fetchMiddleware) {\n    fetchWithMiddleware = async (info, init) => {\n      const modifiedFetchArgs = await new Promise<Parameters<FetchFn>>(\n        (resolve, reject) => {\n          try {\n            fetchMiddleware(info, init, (modifiedInfo, modifiedInit) =>\n              resolve([modifiedInfo, modifiedInit]),\n            );\n          } catch (error) {\n            reject(error);\n          }\n        },\n      );\n      return await fetch(...modifiedFetchArgs);\n    };\n  }\n\n  const clientBrowser = new RpcClient(async (request, callback) => {\n    const options = {\n      method: 'POST',\n      body: request,\n      agent,\n      headers: Object.assign(\n        {\n          'Content-Type': 'application/json',\n        },\n        httpHeaders || {},\n        COMMON_HTTP_HEADERS,\n      ),\n    };\n\n    try {\n      let too_many_requests_retries = 5;\n      let res: Response;\n      let waitTime = 500;\n      for (;;) {\n        if (fetchWithMiddleware) {\n          res = await fetchWithMiddleware(url, options);\n        } else {\n          res = await fetch(url, options);\n        }\n\n        if (res.status !== 429 /* Too many requests */) {\n          break;\n        }\n        if (disableRetryOnRateLimit === true) {\n          break;\n        }\n        too_many_requests_retries -= 1;\n        if (too_many_requests_retries === 0) {\n          break;\n        }\n        console.error(\n          `Server responded with ${res.status} ${res.statusText}.  Retrying after ${waitTime}ms delay...`,\n        );\n        await sleep(waitTime);\n        waitTime *= 2;\n      }\n\n      const text = await res.text();\n      if (res.ok) {\n        callback(null, text);\n      } else {\n        callback(new Error(`${res.status} ${res.statusText}: ${text}`));\n      }\n    } catch (err) {\n      if (err instanceof Error) callback(err);\n    }\n  }, {});\n\n  return clientBrowser;\n}\n\nfunction createRpcRequest(client: RpcClient): RpcRequest {\n  return (method, args) => {\n    return new Promise((resolve, reject) => {\n      client.request(method, args, (err: any, response: any) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(response);\n      });\n    });\n  };\n}\n\nfunction createRpcBatchRequest(client: RpcClient): RpcBatchRequest {\n  return (requests: RpcParams[]) => {\n    return new Promise((resolve, reject) => {\n      // Do nothing if requests is empty\n      if (requests.length === 0) resolve([]);\n\n      const batch = requests.map((params: RpcParams) => {\n        return client.request(params.methodName, params.args);\n      });\n\n      client.request(batch, (err: any, response: any) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(response);\n      });\n    });\n  };\n}\n\n/**\n * Expected JSON RPC response for the \"getInflationGovernor\" message\n */\nconst GetInflationGovernorRpcResult = jsonRpcResult(GetInflationGovernorResult);\n\n/**\n * Expected JSON RPC response for the \"getInflationRate\" message\n */\nconst GetInflationRateRpcResult = jsonRpcResult(GetInflationRateResult);\n\n/**\n * Expected JSON RPC response for the \"getRecentPrioritizationFees\" message\n */\nconst GetRecentPrioritizationFeesRpcResult = jsonRpcResult(\n  GetRecentPrioritizationFeesResult,\n);\n\n/**\n * Expected JSON RPC response for the \"getEpochInfo\" message\n */\nconst GetEpochInfoRpcResult = jsonRpcResult(GetEpochInfoResult);\n\n/**\n * Expected JSON RPC response for the \"getEpochSchedule\" message\n */\nconst GetEpochScheduleRpcResult = jsonRpcResult(GetEpochScheduleResult);\n\n/**\n * Expected JSON RPC response for the \"getLeaderSchedule\" message\n */\nconst GetLeaderScheduleRpcResult = jsonRpcResult(GetLeaderScheduleResult);\n\n/**\n * Expected JSON RPC response for the \"minimumLedgerSlot\" and \"getFirstAvailableBlock\" messages\n */\nconst SlotRpcResult = jsonRpcResult(number());\n\n/**\n * Supply\n */\nexport type Supply = {\n  /** Total supply in lamports */\n  total: number;\n  /** Circulating supply in lamports */\n  circulating: number;\n  /** Non-circulating supply in lamports */\n  nonCirculating: number;\n  /** List of non-circulating account addresses */\n  nonCirculatingAccounts: Array<PublicKey>;\n};\n\n/**\n * Expected JSON RPC response for the \"getSupply\" message\n */\nconst GetSupplyRpcResult = jsonRpcResultAndContext(\n  pick({\n    total: number(),\n    circulating: number(),\n    nonCirculating: number(),\n    nonCirculatingAccounts: array(PublicKeyFromString),\n  }),\n);\n\n/**\n * Token amount object which returns a token amount in different formats\n * for various client use cases.\n */\nexport type TokenAmount = {\n  /** Raw amount of tokens as string ignoring decimals */\n  amount: string;\n  /** Number of decimals configured for token's mint */\n  decimals: number;\n  /** Token amount as float, accounts for decimals */\n  uiAmount: number | null;\n  /** Token amount as string, accounts for decimals */\n  uiAmountString?: string;\n};\n\n/**\n * Expected JSON RPC structure for token amounts\n */\nconst TokenAmountResult = pick({\n  amount: string(),\n  uiAmount: nullable(number()),\n  decimals: number(),\n  uiAmountString: optional(string()),\n});\n\n/**\n * Token address and balance.\n */\nexport type TokenAccountBalancePair = {\n  /** Address of the token account */\n  address: PublicKey;\n  /** Raw amount of tokens as string ignoring decimals */\n  amount: string;\n  /** Number of decimals configured for token's mint */\n  decimals: number;\n  /** Token amount as float, accounts for decimals */\n  uiAmount: number | null;\n  /** Token amount as string, accounts for decimals */\n  uiAmountString?: string;\n};\n\n/**\n * Expected JSON RPC response for the \"getTokenLargestAccounts\" message\n */\nconst GetTokenLargestAccountsResult = jsonRpcResultAndContext(\n  array(\n    pick({\n      address: PublicKeyFromString,\n      amount: string(),\n      uiAmount: nullable(number()),\n      decimals: number(),\n      uiAmountString: optional(string()),\n    }),\n  ),\n);\n\n/**\n * Expected JSON RPC response for the \"getTokenAccountsByOwner\" message\n */\nconst GetTokenAccountsByOwner = jsonRpcResultAndContext(\n  array(\n    pick({\n      pubkey: PublicKeyFromString,\n      account: pick({\n        executable: boolean(),\n        owner: PublicKeyFromString,\n        lamports: number(),\n        data: BufferFromRawAccountData,\n        rentEpoch: number(),\n      }),\n    }),\n  ),\n);\n\nconst ParsedAccountDataResult = pick({\n  program: string(),\n  parsed: unknown(),\n  space: number(),\n});\n\n/**\n * Expected JSON RPC response for the \"getTokenAccountsByOwner\" message with parsed data\n */\nconst GetParsedTokenAccountsByOwner = jsonRpcResultAndContext(\n  array(\n    pick({\n      pubkey: PublicKeyFromString,\n      account: pick({\n        executable: boolean(),\n        owner: PublicKeyFromString,\n        lamports: number(),\n        data: ParsedAccountDataResult,\n        rentEpoch: number(),\n      }),\n    }),\n  ),\n);\n\n/**\n * Pair of an account address and its balance\n */\nexport type AccountBalancePair = {\n  address: PublicKey;\n  lamports: number;\n};\n\n/**\n * Expected JSON RPC response for the \"getLargestAccounts\" message\n */\nconst GetLargestAccountsRpcResult = jsonRpcResultAndContext(\n  array(\n    pick({\n      lamports: number(),\n      address: PublicKeyFromString,\n    }),\n  ),\n);\n\n/**\n * @internal\n */\nconst AccountInfoResult = pick({\n  executable: boolean(),\n  owner: PublicKeyFromString,\n  lamports: number(),\n  data: BufferFromRawAccountData,\n  rentEpoch: number(),\n});\n\n/**\n * @internal\n */\nconst KeyedAccountInfoResult = pick({\n  pubkey: PublicKeyFromString,\n  account: AccountInfoResult,\n});\n\nconst ParsedOrRawAccountData = coerce(\n  union([instance(Buffer), ParsedAccountDataResult]),\n  union([RawAccountDataResult, ParsedAccountDataResult]),\n  value => {\n    if (Array.isArray(value)) {\n      return create(value, BufferFromRawAccountData);\n    } else {\n      return value;\n    }\n  },\n);\n\n/**\n * @internal\n */\nconst ParsedAccountInfoResult = pick({\n  executable: boolean(),\n  owner: PublicKeyFromString,\n  lamports: number(),\n  data: ParsedOrRawAccountData,\n  rentEpoch: number(),\n});\n\nconst KeyedParsedAccountInfoResult = pick({\n  pubkey: PublicKeyFromString,\n  account: ParsedAccountInfoResult,\n});\n\n/**\n * @internal\n */\nconst StakeActivationResult = pick({\n  state: union([\n    literal('active'),\n    literal('inactive'),\n    literal('activating'),\n    literal('deactivating'),\n  ]),\n  active: number(),\n  inactive: number(),\n});\n\n/**\n * Expected JSON RPC response for the \"getConfirmedSignaturesForAddress2\" message\n */\n\nconst GetConfirmedSignaturesForAddress2RpcResult = jsonRpcResult(\n  array(\n    pick({\n      signature: string(),\n      slot: number(),\n      err: TransactionErrorResult,\n      memo: nullable(string()),\n      blockTime: optional(nullable(number())),\n    }),\n  ),\n);\n\n/**\n * Expected JSON RPC response for the \"getSignaturesForAddress\" message\n */\nconst GetSignaturesForAddressRpcResult = jsonRpcResult(\n  array(\n    pick({\n      signature: string(),\n      slot: number(),\n      err: TransactionErrorResult,\n      memo: nullable(string()),\n      blockTime: optional(nullable(number())),\n    }),\n  ),\n);\n\n/***\n * Expected JSON RPC response for the \"accountNotification\" message\n */\nconst AccountNotificationResult = pick({\n  subscription: number(),\n  result: notificationResultAndContext(AccountInfoResult),\n});\n\n/**\n * @internal\n */\nconst ProgramAccountInfoResult = pick({\n  pubkey: PublicKeyFromString,\n  account: AccountInfoResult,\n});\n\n/***\n * Expected JSON RPC response for the \"programNotification\" message\n */\nconst ProgramAccountNotificationResult = pick({\n  subscription: number(),\n  result: notificationResultAndContext(ProgramAccountInfoResult),\n});\n\n/**\n * @internal\n */\nconst SlotInfoResult = pick({\n  parent: number(),\n  slot: number(),\n  root: number(),\n});\n\n/**\n * Expected JSON RPC response for the \"slotNotification\" message\n */\nconst SlotNotificationResult = pick({\n  subscription: number(),\n  result: SlotInfoResult,\n});\n\n/**\n * Slot updates which can be used for tracking the live progress of a cluster.\n * - `\"firstShredReceived\"`: connected node received the first shred of a block.\n * Indicates that a new block that is being produced.\n * - `\"completed\"`: connected node has received all shreds of a block. Indicates\n * a block was recently produced.\n * - `\"optimisticConfirmation\"`: block was optimistically confirmed by the\n * cluster. It is not guaranteed that an optimistic confirmation notification\n * will be sent for every finalized blocks.\n * - `\"root\"`: the connected node rooted this block.\n * - `\"createdBank\"`: the connected node has started validating this block.\n * - `\"frozen\"`: the connected node has validated this block.\n * - `\"dead\"`: the connected node failed to validate this block.\n */\nexport type SlotUpdate =\n  | {\n      type: 'firstShredReceived';\n      slot: number;\n      timestamp: number;\n    }\n  | {\n      type: 'completed';\n      slot: number;\n      timestamp: number;\n    }\n  | {\n      type: 'createdBank';\n      slot: number;\n      timestamp: number;\n      parent: number;\n    }\n  | {\n      type: 'frozen';\n      slot: number;\n      timestamp: number;\n      stats: {\n        numTransactionEntries: number;\n        numSuccessfulTransactions: number;\n        numFailedTransactions: number;\n        maxTransactionsPerEntry: number;\n      };\n    }\n  | {\n      type: 'dead';\n      slot: number;\n      timestamp: number;\n      err: string;\n    }\n  | {\n      type: 'optimisticConfirmation';\n      slot: number;\n      timestamp: number;\n    }\n  | {\n      type: 'root';\n      slot: number;\n      timestamp: number;\n    };\n\n/**\n * @internal\n */\nconst SlotUpdateResult = union([\n  pick({\n    type: union([\n      literal('firstShredReceived'),\n      literal('completed'),\n      literal('optimisticConfirmation'),\n      literal('root'),\n    ]),\n    slot: number(),\n    timestamp: number(),\n  }),\n  pick({\n    type: literal('createdBank'),\n    parent: number(),\n    slot: number(),\n    timestamp: number(),\n  }),\n  pick({\n    type: literal('frozen'),\n    slot: number(),\n    timestamp: number(),\n    stats: pick({\n      numTransactionEntries: number(),\n      numSuccessfulTransactions: number(),\n      numFailedTransactions: number(),\n      maxTransactionsPerEntry: number(),\n    }),\n  }),\n  pick({\n    type: literal('dead'),\n    slot: number(),\n    timestamp: number(),\n    err: string(),\n  }),\n]);\n\n/**\n * Expected JSON RPC response for the \"slotsUpdatesNotification\" message\n */\nconst SlotUpdateNotificationResult = pick({\n  subscription: number(),\n  result: SlotUpdateResult,\n});\n\n/**\n * Expected JSON RPC response for the \"signatureNotification\" message\n */\nconst SignatureNotificationResult = pick({\n  subscription: number(),\n  result: notificationResultAndContext(\n    union([SignatureStatusResult, SignatureReceivedResult]),\n  ),\n});\n\n/**\n * Expected JSON RPC response for the \"rootNotification\" message\n */\nconst RootNotificationResult = pick({\n  subscription: number(),\n  result: number(),\n});\n\nconst ContactInfoResult = pick({\n  pubkey: string(),\n  gossip: nullable(string()),\n  tpu: nullable(string()),\n  rpc: nullable(string()),\n  version: nullable(string()),\n});\n\nconst VoteAccountInfoResult = pick({\n  votePubkey: string(),\n  nodePubkey: string(),\n  activatedStake: number(),\n  epochVoteAccount: boolean(),\n  epochCredits: array(tuple([number(), number(), number()])),\n  commission: number(),\n  lastVote: number(),\n  rootSlot: nullable(number()),\n});\n\n/**\n * Expected JSON RPC response for the \"getVoteAccounts\" message\n */\nconst GetVoteAccounts = jsonRpcResult(\n  pick({\n    current: array(VoteAccountInfoResult),\n    delinquent: array(VoteAccountInfoResult),\n  }),\n);\n\nconst ConfirmationStatus = union([\n  literal('processed'),\n  literal('confirmed'),\n  literal('finalized'),\n]);\n\nconst SignatureStatusResponse = pick({\n  slot: number(),\n  confirmations: nullable(number()),\n  err: TransactionErrorResult,\n  confirmationStatus: optional(ConfirmationStatus),\n});\n\n/**\n * Expected JSON RPC response for the \"getSignatureStatuses\" message\n */\nconst GetSignatureStatusesRpcResult = jsonRpcResultAndContext(\n  array(nullable(SignatureStatusResponse)),\n);\n\n/**\n * Expected JSON RPC response for the \"getMinimumBalanceForRentExemption\" message\n */\nconst GetMinimumBalanceForRentExemptionRpcResult = jsonRpcResult(number());\n\nconst AddressTableLookupStruct = pick({\n  accountKey: PublicKeyFromString,\n  writableIndexes: array(number()),\n  readonlyIndexes: array(number()),\n});\n\nconst ConfirmedTransactionResult = pick({\n  signatures: array(string()),\n  message: pick({\n    accountKeys: array(string()),\n    header: pick({\n      numRequiredSignatures: number(),\n      numReadonlySignedAccounts: number(),\n      numReadonlyUnsignedAccounts: number(),\n    }),\n    instructions: array(\n      pick({\n        accounts: array(number()),\n        data: string(),\n        programIdIndex: number(),\n      }),\n    ),\n    recentBlockhash: string(),\n    addressTableLookups: optional(array(AddressTableLookupStruct)),\n  }),\n});\n\nconst AnnotatedAccountKey = pick({\n  pubkey: PublicKeyFromString,\n  signer: boolean(),\n  writable: boolean(),\n  source: optional(union([literal('transaction'), literal('lookupTable')])),\n});\n\nconst ConfirmedTransactionAccountsModeResult = pick({\n  accountKeys: array(AnnotatedAccountKey),\n  signatures: array(string()),\n});\n\nconst ParsedInstructionResult = pick({\n  parsed: unknown(),\n  program: string(),\n  programId: PublicKeyFromString,\n});\n\nconst RawInstructionResult = pick({\n  accounts: array(PublicKeyFromString),\n  data: string(),\n  programId: PublicKeyFromString,\n});\n\nconst InstructionResult = union([\n  RawInstructionResult,\n  ParsedInstructionResult,\n]);\n\nconst UnknownInstructionResult = union([\n  pick({\n    parsed: unknown(),\n    program: string(),\n    programId: string(),\n  }),\n  pick({\n    accounts: array(string()),\n    data: string(),\n    programId: string(),\n  }),\n]);\n\nconst ParsedOrRawInstruction = coerce(\n  InstructionResult,\n  UnknownInstructionResult,\n  value => {\n    if ('accounts' in value) {\n      return create(value, RawInstructionResult);\n    } else {\n      return create(value, ParsedInstructionResult);\n    }\n  },\n);\n\n/**\n * @internal\n */\nconst ParsedConfirmedTransactionResult = pick({\n  signatures: array(string()),\n  message: pick({\n    accountKeys: array(AnnotatedAccountKey),\n    instructions: array(ParsedOrRawInstruction),\n    recentBlockhash: string(),\n    addressTableLookups: optional(nullable(array(AddressTableLookupStruct))),\n  }),\n});\n\nconst TokenBalanceResult = pick({\n  accountIndex: number(),\n  mint: string(),\n  owner: optional(string()),\n  programId: optional(string()),\n  uiTokenAmount: TokenAmountResult,\n});\n\nconst LoadedAddressesResult = pick({\n  writable: array(PublicKeyFromString),\n  readonly: array(PublicKeyFromString),\n});\n\n/**\n * @internal\n */\nconst ConfirmedTransactionMetaResult = pick({\n  err: TransactionErrorResult,\n  fee: number(),\n  innerInstructions: optional(\n    nullable(\n      array(\n        pick({\n          index: number(),\n          instructions: array(\n            pick({\n              accounts: array(number()),\n              data: string(),\n              programIdIndex: number(),\n            }),\n          ),\n        }),\n      ),\n    ),\n  ),\n  preBalances: array(number()),\n  postBalances: array(number()),\n  logMessages: optional(nullable(array(string()))),\n  preTokenBalances: optional(nullable(array(TokenBalanceResult))),\n  postTokenBalances: optional(nullable(array(TokenBalanceResult))),\n  loadedAddresses: optional(LoadedAddressesResult),\n  computeUnitsConsumed: optional(number()),\n  costUnits: optional(number()),\n});\n\n/**\n * @internal\n */\nconst ParsedConfirmedTransactionMetaResult = pick({\n  err: TransactionErrorResult,\n  fee: number(),\n  innerInstructions: optional(\n    nullable(\n      array(\n        pick({\n          index: number(),\n          instructions: array(ParsedOrRawInstruction),\n        }),\n      ),\n    ),\n  ),\n  preBalances: array(number()),\n  postBalances: array(number()),\n  logMessages: optional(nullable(array(string()))),\n  preTokenBalances: optional(nullable(array(TokenBalanceResult))),\n  postTokenBalances: optional(nullable(array(TokenBalanceResult))),\n  loadedAddresses: optional(LoadedAddressesResult),\n  computeUnitsConsumed: optional(number()),\n  costUnits: optional(number()),\n});\n\nconst TransactionVersionStruct = union([literal(0), literal('legacy')]);\n\n/** @internal */\nconst RewardsResult = pick({\n  pubkey: string(),\n  lamports: number(),\n  postBalance: nullable(number()),\n  rewardType: nullable(string()),\n  commission: optional(nullable(number())),\n});\n\n/**\n * Expected JSON RPC response for the \"getBlock\" message\n */\nconst GetBlockRpcResult = jsonRpcResult(\n  nullable(\n    pick({\n      blockhash: string(),\n      previousBlockhash: string(),\n      parentSlot: number(),\n      transactions: array(\n        pick({\n          transaction: ConfirmedTransactionResult,\n          meta: nullable(ConfirmedTransactionMetaResult),\n          version: optional(TransactionVersionStruct),\n        }),\n      ),\n      rewards: optional(array(RewardsResult)),\n      blockTime: nullable(number()),\n      blockHeight: nullable(number()),\n    }),\n  ),\n);\n\n/**\n * Expected JSON RPC response for the \"getBlock\" message when `transactionDetails` is `none`\n */\nconst GetNoneModeBlockRpcResult = jsonRpcResult(\n  nullable(\n    pick({\n      blockhash: string(),\n      previousBlockhash: string(),\n      parentSlot: number(),\n      rewards: optional(array(RewardsResult)),\n      blockTime: nullable(number()),\n      blockHeight: nullable(number()),\n    }),\n  ),\n);\n\n/**\n * Expected JSON RPC response for the \"getBlock\" message when `transactionDetails` is `accounts`\n */\nconst GetAccountsModeBlockRpcResult = jsonRpcResult(\n  nullable(\n    pick({\n      blockhash: string(),\n      previousBlockhash: string(),\n      parentSlot: number(),\n      transactions: array(\n        pick({\n          transaction: ConfirmedTransactionAccountsModeResult,\n          meta: nullable(ConfirmedTransactionMetaResult),\n          version: optional(TransactionVersionStruct),\n        }),\n      ),\n      rewards: optional(array(RewardsResult)),\n      blockTime: nullable(number()),\n      blockHeight: nullable(number()),\n    }),\n  ),\n);\n\n/**\n * Expected parsed JSON RPC response for the \"getBlock\" message\n */\nconst GetParsedBlockRpcResult = jsonRpcResult(\n  nullable(\n    pick({\n      blockhash: string(),\n      previousBlockhash: string(),\n      parentSlot: number(),\n      transactions: array(\n        pick({\n          transaction: ParsedConfirmedTransactionResult,\n          meta: nullable(ParsedConfirmedTransactionMetaResult),\n          version: optional(TransactionVersionStruct),\n        }),\n      ),\n      rewards: optional(array(RewardsResult)),\n      blockTime: nullable(number()),\n      blockHeight: nullable(number()),\n    }),\n  ),\n);\n\n/**\n * Expected parsed JSON RPC response for the \"getBlock\" message  when `transactionDetails` is `accounts`\n */\nconst GetParsedAccountsModeBlockRpcResult = jsonRpcResult(\n  nullable(\n    pick({\n      blockhash: string(),\n      previousBlockhash: string(),\n      parentSlot: number(),\n      transactions: array(\n        pick({\n          transaction: ConfirmedTransactionAccountsModeResult,\n          meta: nullable(ParsedConfirmedTransactionMetaResult),\n          version: optional(TransactionVersionStruct),\n        }),\n      ),\n      rewards: optional(array(RewardsResult)),\n      blockTime: nullable(number()),\n      blockHeight: nullable(number()),\n    }),\n  ),\n);\n\n/**\n * Expected parsed JSON RPC response for the \"getBlock\" message  when `transactionDetails` is `none`\n */\nconst GetParsedNoneModeBlockRpcResult = jsonRpcResult(\n  nullable(\n    pick({\n      blockhash: string(),\n      previousBlockhash: string(),\n      parentSlot: number(),\n      rewards: optional(array(RewardsResult)),\n      blockTime: nullable(number()),\n      blockHeight: nullable(number()),\n    }),\n  ),\n);\n\n/**\n * Expected JSON RPC response for the \"getConfirmedBlock\" message\n *\n * @deprecated Deprecated since RPC v1.8.0. Please use {@link GetBlockRpcResult} instead.\n */\nconst GetConfirmedBlockRpcResult = jsonRpcResult(\n  nullable(\n    pick({\n      blockhash: string(),\n      previousBlockhash: string(),\n      parentSlot: number(),\n      transactions: array(\n        pick({\n          transaction: ConfirmedTransactionResult,\n          meta: nullable(ConfirmedTransactionMetaResult),\n        }),\n      ),\n      rewards: optional(array(RewardsResult)),\n      blockTime: nullable(number()),\n    }),\n  ),\n);\n\n/**\n * Expected JSON RPC response for the \"getBlock\" message\n */\nconst GetBlockSignaturesRpcResult = jsonRpcResult(\n  nullable(\n    pick({\n      blockhash: string(),\n      previousBlockhash: string(),\n      parentSlot: number(),\n      signatures: array(string()),\n      blockTime: nullable(number()),\n    }),\n  ),\n);\n\n/**\n * Expected JSON RPC response for the \"getTransaction\" message\n */\nconst GetTransactionRpcResult = jsonRpcResult(\n  nullable(\n    pick({\n      slot: number(),\n      meta: nullable(ConfirmedTransactionMetaResult),\n      blockTime: optional(nullable(number())),\n      transaction: ConfirmedTransactionResult,\n      version: optional(TransactionVersionStruct),\n    }),\n  ),\n);\n\n/**\n * Expected parsed JSON RPC response for the \"getTransaction\" message\n */\nconst GetParsedTransactionRpcResult = jsonRpcResult(\n  nullable(\n    pick({\n      slot: number(),\n      transaction: ParsedConfirmedTransactionResult,\n      meta: nullable(ParsedConfirmedTransactionMetaResult),\n      blockTime: optional(nullable(number())),\n      version: optional(TransactionVersionStruct),\n    }),\n  ),\n);\n\n/**\n * Expected JSON RPC response for the \"getLatestBlockhash\" message\n */\nconst GetLatestBlockhashRpcResult = jsonRpcResultAndContext(\n  pick({\n    blockhash: string(),\n    lastValidBlockHeight: number(),\n  }),\n);\n\n/**\n * Expected JSON RPC response for the \"isBlockhashValid\" message\n */\nconst IsBlockhashValidRpcResult = jsonRpcResultAndContext(boolean());\n\nconst PerfSampleResult = pick({\n  slot: number(),\n  numTransactions: number(),\n  numSlots: number(),\n  samplePeriodSecs: number(),\n});\n\n/*\n * Expected JSON RPC response for \"getRecentPerformanceSamples\" message\n */\nconst GetRecentPerformanceSamplesRpcResult = jsonRpcResult(\n  array(PerfSampleResult),\n);\n\n/**\n * Expected JSON RPC response for the \"getFeeCalculatorForBlockhash\" message\n */\nconst GetFeeCalculatorRpcResult = jsonRpcResultAndContext(\n  nullable(\n    pick({\n      feeCalculator: pick({\n        lamportsPerSignature: number(),\n      }),\n    }),\n  ),\n);\n\n/**\n * Expected JSON RPC response for the \"requestAirdrop\" message\n */\nconst RequestAirdropRpcResult = jsonRpcResult(string());\n\n/**\n * Expected JSON RPC response for the \"sendTransaction\" message\n */\nconst SendTransactionRpcResult = jsonRpcResult(string());\n\n/**\n * Information about the latest slot being processed by a node\n */\nexport type SlotInfo = {\n  /** Currently processing slot */\n  slot: number;\n  /** Parent of the current slot */\n  parent: number;\n  /** The root block of the current slot's fork */\n  root: number;\n};\n\n/**\n * Parsed account data\n */\nexport type ParsedAccountData = {\n  /** Name of the program that owns this account */\n  program: string;\n  /** Parsed account data */\n  parsed: any;\n  /** Space used by account data */\n  space: number;\n};\n\n/**\n * Stake Activation data\n */\nexport type StakeActivationData = {\n  /** the stake account's activation state */\n  state: 'active' | 'inactive' | 'activating' | 'deactivating';\n  /** stake active during the epoch */\n  active: number;\n  /** stake inactive during the epoch */\n  inactive: number;\n};\n\n/**\n * Data slice argument for getProgramAccounts\n */\nexport type DataSlice = {\n  /** offset of data slice */\n  offset: number;\n  /** length of data slice */\n  length: number;\n};\n\n/**\n * Memory comparison filter for getProgramAccounts\n */\nexport type MemcmpFilter = {\n  memcmp: {\n    /** offset into program account data to start comparison */\n    offset: number;\n  } & (\n    | {\n        encoding?: 'base58'; // Base-58 is the default when not supplied.\n        /** data to match, as base-58 encoded string and limited to less than 129 bytes */\n        bytes: string;\n      }\n    | {\n        encoding: 'base64';\n        /** data to match, as base-64 encoded string */\n        bytes: string;\n      }\n  );\n};\n\n/**\n * Data size comparison filter for getProgramAccounts\n */\nexport type DataSizeFilter = {\n  /** Size of data for program account data length comparison */\n  dataSize: number;\n};\n\n/**\n * A filter object for getProgramAccounts\n */\nexport type GetProgramAccountsFilter = MemcmpFilter | DataSizeFilter;\n\n/**\n * Configuration object for getProgramAccounts requests\n */\nexport type GetProgramAccountsConfig = {\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /** Optional encoding for account data (default base64)\n   * To use \"jsonParsed\" encoding, please refer to `getParsedProgramAccounts` in connection.ts\n   * */\n  encoding?: 'base64';\n  /** Optional data slice to limit the returned account data */\n  dataSlice?: DataSlice;\n  /** Optional array of filters to apply to accounts */\n  filters?: GetProgramAccountsFilter[];\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n  /** wrap the result in an RpcResponse JSON object */\n  withContext?: boolean;\n};\n\nexport type GetProgramAccountsResponse = readonly Readonly<{\n  account: AccountInfo<Buffer>;\n  /** the account Pubkey as base-58 encoded string */\n  pubkey: PublicKey;\n}>[];\n\n/**\n * Configuration object for getParsedProgramAccounts\n */\nexport type GetParsedProgramAccountsConfig = {\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /** Optional array of filters to apply to accounts */\n  filters?: GetProgramAccountsFilter[];\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for getMultipleAccounts\n */\nexport type GetMultipleAccountsConfig = {\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n  /** Optional data slice to limit the returned account data */\n  dataSlice?: DataSlice;\n};\n\n/**\n * Configuration object for `getStakeActivation`\n */\nexport type GetStakeActivationConfig = {\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /** Epoch for which to calculate activation details. If parameter not provided, defaults to current epoch */\n  epoch?: number;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for `getStakeActivation`\n */\nexport type GetTokenAccountsByOwnerConfig = {\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for `getStakeActivation`\n */\nexport type GetTransactionCountConfig = {\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for `getNonce`\n */\nexport type GetNonceConfig = {\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\n/**\n * Configuration object for `getNonceAndContext`\n */\nexport type GetNonceAndContextConfig = {\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /** The minimum slot that the request can be evaluated at */\n  minContextSlot?: number;\n};\n\nexport type AccountSubscriptionConfig = Readonly<{\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /**\n   * Encoding format for Account data\n   *   - `base58` is slow.\n   *   - `jsonParsed` encoding attempts to use program-specific state parsers to return more\n   *      human-readable and explicit account state data\n   *   - If `jsonParsed` is requested but a parser cannot be found, the field falls back to `base64`\n   *     encoding, detectable when the `data` field is type `string`.\n   */\n  encoding?: 'base58' | 'base64' | 'base64+zstd' | 'jsonParsed';\n}>;\n\nexport type ProgramAccountSubscriptionConfig = Readonly<{\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /**\n   * Encoding format for Account data\n   *   - `base58` is slow.\n   *   - `jsonParsed` encoding attempts to use program-specific state parsers to return more\n   *      human-readable and explicit account state data\n   *   - If `jsonParsed` is requested but a parser cannot be found, the field falls back to `base64`\n   *     encoding, detectable when the `data` field is type `string`.\n   */\n  encoding?: 'base58' | 'base64' | 'base64+zstd' | 'jsonParsed';\n  /**\n   * Filter results using various filter objects\n   * The resultant account must meet ALL filter criteria to be included in the returned results\n   */\n  filters?: GetProgramAccountsFilter[];\n}>;\n\n/**\n * Information describing an account\n */\nexport type AccountInfo<T> = {\n  /** `true` if this account's data contains a loaded program */\n  executable: boolean;\n  /** Identifier of the program that owns the account */\n  owner: PublicKey;\n  /** Number of lamports assigned to the account */\n  lamports: number;\n  /** Optional data assigned to the account */\n  data: T;\n  /** Optional rent epoch info for account */\n  rentEpoch?: number;\n};\n\n/**\n * Account information identified by pubkey\n */\nexport type KeyedAccountInfo = {\n  accountId: PublicKey;\n  accountInfo: AccountInfo<Buffer>;\n};\n\n/**\n * Callback function for account change notifications\n */\nexport type AccountChangeCallback = (\n  accountInfo: AccountInfo<Buffer>,\n  context: Context,\n) => void;\n\n/**\n * Callback function for program account change notifications\n */\nexport type ProgramAccountChangeCallback = (\n  keyedAccountInfo: KeyedAccountInfo,\n  context: Context,\n) => void;\n\n/**\n * Callback function for slot change notifications\n */\nexport type SlotChangeCallback = (slotInfo: SlotInfo) => void;\n\n/**\n * Callback function for slot update notifications\n */\nexport type SlotUpdateCallback = (slotUpdate: SlotUpdate) => void;\n\n/**\n * Callback function for signature status notifications\n */\nexport type SignatureResultCallback = (\n  signatureResult: SignatureResult,\n  context: Context,\n) => void;\n\n/**\n * Signature status notification with transaction result\n */\nexport type SignatureStatusNotification = {\n  type: 'status';\n  result: SignatureResult;\n};\n\n/**\n * Signature received notification\n */\nexport type SignatureReceivedNotification = {\n  type: 'received';\n};\n\n/**\n * Callback function for signature notifications\n */\nexport type SignatureSubscriptionCallback = (\n  notification: SignatureStatusNotification | SignatureReceivedNotification,\n  context: Context,\n) => void;\n\n/**\n * Signature subscription options\n */\nexport type SignatureSubscriptionOptions = {\n  commitment?: Commitment;\n  enableReceivedNotification?: boolean;\n};\n\n/**\n * Callback function for root change notifications\n */\nexport type RootChangeCallback = (root: number) => void;\n\n/**\n * @internal\n */\nconst LogsResult = pick({\n  err: TransactionErrorResult,\n  logs: array(string()),\n  signature: string(),\n});\n\n/**\n * Logs result.\n */\nexport type Logs = {\n  err: TransactionError | null;\n  logs: string[];\n  signature: string;\n};\n\n/**\n * Expected JSON RPC response for the \"logsNotification\" message.\n */\nconst LogsNotificationResult = pick({\n  result: notificationResultAndContext(LogsResult),\n  subscription: number(),\n});\n\n/**\n * Filter for log subscriptions.\n */\nexport type LogsFilter = PublicKey | 'all' | 'allWithVotes';\n\n/**\n * Callback function for log notifications.\n */\nexport type LogsCallback = (logs: Logs, ctx: Context) => void;\n\n/**\n * Signature result\n */\nexport type SignatureResult = {\n  err: TransactionError | null;\n};\n\n/**\n * Transaction error\n */\nexport type TransactionError = {} | string;\n\n/**\n * Transaction confirmation status\n * <pre>\n *   'processed': Transaction landed in a block which has reached 1 confirmation by the connected node\n *   'confirmed': Transaction landed in a block which has reached 1 confirmation by the cluster\n *   'finalized': Transaction landed in a block which has been finalized by the cluster\n * </pre>\n */\nexport type TransactionConfirmationStatus =\n  | 'processed'\n  | 'confirmed'\n  | 'finalized';\n\n/**\n * Signature status\n */\nexport type SignatureStatus = {\n  /** when the transaction was processed */\n  slot: number;\n  /** the number of blocks that have been confirmed and voted on in the fork containing `slot` */\n  confirmations: number | null;\n  /** transaction error, if any */\n  err: TransactionError | null;\n  /** cluster confirmation status, if data available. Possible responses: `processed`, `confirmed`, `finalized` */\n  confirmationStatus?: TransactionConfirmationStatus;\n};\n\n/**\n * A confirmed signature with its status\n */\nexport type ConfirmedSignatureInfo = {\n  /** the transaction signature */\n  signature: string;\n  /** when the transaction was processed */\n  slot: number;\n  /** error, if any */\n  err: TransactionError | null;\n  /** memo associated with the transaction, if any */\n  memo: string | null;\n  /** The unix timestamp of when the transaction was processed */\n  blockTime?: number | null;\n  /** Cluster confirmation status, if available. Possible values: `processed`, `confirmed`, `finalized` */\n  confirmationStatus?: TransactionConfirmationStatus;\n};\n\n/**\n * An object defining headers to be passed to the RPC server\n */\nexport type HttpHeaders = {\n  [header: string]: string;\n} & {\n  // Prohibited headers; for internal use only.\n  'solana-client'?: never;\n};\n\n/**\n * The type of the JavaScript `fetch()` API\n */\nexport type FetchFn = typeof fetchImpl;\n\n/**\n * A callback used to augment the outgoing HTTP request\n */\nexport type FetchMiddleware = (\n  info: Parameters<FetchFn>[0],\n  init: Parameters<FetchFn>[1],\n  fetch: (...a: Parameters<FetchFn>) => void,\n) => void;\n\n/**\n * Configuration for instantiating a Connection\n */\nexport type ConnectionConfig = {\n  /**\n   * An `http.Agent` that will be used to manage socket connections (eg. to implement connection\n   * persistence). Set this to `false` to create a connection that uses no agent. This applies to\n   * Node environments only.\n   */\n  httpAgent?: NodeHttpAgent | NodeHttpsAgent | false;\n  /** Optional commitment level */\n  commitment?: Commitment;\n  /** Optional endpoint URL to the fullnode JSON RPC PubSub WebSocket Endpoint */\n  wsEndpoint?: string;\n  /** Optional HTTP headers object */\n  httpHeaders?: HttpHeaders;\n  /** Optional custom fetch function */\n  fetch?: FetchFn;\n  /** Optional fetch middleware callback */\n  fetchMiddleware?: FetchMiddleware;\n  /** Optional Disable retrying calls when server responds with HTTP 429 (Too Many Requests) */\n  disableRetryOnRateLimit?: boolean;\n  /** time to allow for the server to initially process a transaction (in milliseconds) */\n  confirmTransactionInitialTimeout?: number;\n};\n\n/** @internal */\nconst COMMON_HTTP_HEADERS = {\n  'solana-client': `js/${process.env.npm_package_version ?? 'UNKNOWN'}`,\n};\n\n/**\n * A connection to a fullnode JSON RPC endpoint\n */\nexport class Connection {\n  /** @internal */ _commitment?: Commitment;\n  /** @internal */ _confirmTransactionInitialTimeout?: number;\n  /** @internal */ _rpcEndpoint: string;\n  /** @internal */ _rpcWsEndpoint: string;\n  /** @internal */ _rpcClient: RpcClient;\n  /** @internal */ _rpcRequest: RpcRequest;\n  /** @internal */ _rpcBatchRequest: RpcBatchRequest;\n  /** @internal */ _rpcWebSocket: RpcWebSocketClient;\n  /** @internal */ _rpcWebSocketConnected: boolean = false;\n  /** @internal */ _rpcWebSocketHeartbeat: ReturnType<\n    typeof setInterval\n  > | null = null;\n  /** @internal */ _rpcWebSocketIdleTimeout: ReturnType<\n    typeof setTimeout\n  > | null = null;\n  /** @internal\n   * A number that we increment every time an active connection closes.\n   * Used to determine whether the same socket connection that was open\n   * when an async operation started is the same one that's active when\n   * its continuation fires.\n   *\n   */ private _rpcWebSocketGeneration: number = 0;\n\n  /** @internal */ _disableBlockhashCaching: boolean = false;\n  /** @internal */ _pollingBlockhash: boolean = false;\n  /** @internal */ _blockhashInfo: {\n    latestBlockhash: BlockhashWithExpiryBlockHeight | null;\n    lastFetch: number;\n    simulatedSignatures: Array<string>;\n    transactionSignatures: Array<string>;\n  } = {\n    latestBlockhash: null,\n    lastFetch: 0,\n    transactionSignatures: [],\n    simulatedSignatures: [],\n  };\n\n  /** @internal */ private _nextClientSubscriptionId: ClientSubscriptionId = 0;\n  /** @internal */ private _subscriptionDisposeFunctionsByClientSubscriptionId: {\n    [clientSubscriptionId: ClientSubscriptionId]:\n      | SubscriptionDisposeFn\n      | undefined;\n  } = {};\n  /** @internal */ private _subscriptionHashByClientSubscriptionId: {\n    [clientSubscriptionId: ClientSubscriptionId]:\n      | SubscriptionConfigHash\n      | undefined;\n  } = {};\n  /** @internal */ private _subscriptionStateChangeCallbacksByHash: {\n    [hash: SubscriptionConfigHash]:\n      | Set<SubscriptionStateChangeCallback>\n      | undefined;\n  } = {};\n  /** @internal */ private _subscriptionCallbacksByServerSubscriptionId: {\n    [serverSubscriptionId: ServerSubscriptionId]:\n      | Set<SubscriptionConfig['callback']>\n      | undefined;\n  } = {};\n  /** @internal */ private _subscriptionsByHash: {\n    [hash: SubscriptionConfigHash]: Subscription | undefined;\n  } = {};\n  /**\n   * Special case.\n   * After a signature is processed, RPCs automatically dispose of the\n   * subscription on the server side. We need to track which of these\n   * subscriptions have been disposed in such a way, so that we know\n   * whether the client is dealing with a not-yet-processed signature\n   * (in which case we must tear down the server subscription) or an\n   * already-processed signature (in which case the client can simply\n   * clear out the subscription locally without telling the server).\n   *\n   * NOTE: There is a proposal to eliminate this special case, here:\n   * https://github.com/solana-labs/solana/issues/18892\n   */\n  /** @internal */ private _subscriptionsAutoDisposedByRpc: Set<ServerSubscriptionId> =\n    new Set();\n\n  /**\n   * Establish a JSON RPC connection\n   *\n   * @param endpoint URL to the fullnode JSON RPC endpoint\n   * @param commitmentOrConfig optional default commitment level or optional ConnectionConfig configuration object\n   */\n  constructor(\n    endpoint: string,\n    commitmentOrConfig?: Commitment | ConnectionConfig,\n  ) {\n    let wsEndpoint;\n    let httpHeaders;\n    let fetch;\n    let fetchMiddleware;\n    let disableRetryOnRateLimit;\n    let httpAgent;\n    if (commitmentOrConfig && typeof commitmentOrConfig === 'string') {\n      this._commitment = commitmentOrConfig;\n    } else if (commitmentOrConfig) {\n      this._commitment = commitmentOrConfig.commitment;\n      this._confirmTransactionInitialTimeout =\n        commitmentOrConfig.confirmTransactionInitialTimeout;\n      wsEndpoint = commitmentOrConfig.wsEndpoint;\n      httpHeaders = commitmentOrConfig.httpHeaders;\n      fetch = commitmentOrConfig.fetch;\n      fetchMiddleware = commitmentOrConfig.fetchMiddleware;\n      disableRetryOnRateLimit = commitmentOrConfig.disableRetryOnRateLimit;\n      httpAgent = commitmentOrConfig.httpAgent;\n    }\n\n    this._rpcEndpoint = assertEndpointUrl(endpoint);\n    this._rpcWsEndpoint = wsEndpoint || makeWebsocketUrl(endpoint);\n\n    this._rpcClient = createRpcClient(\n      endpoint,\n      httpHeaders,\n      fetch,\n      fetchMiddleware,\n      disableRetryOnRateLimit,\n      httpAgent,\n    );\n    this._rpcRequest = createRpcRequest(this._rpcClient);\n    this._rpcBatchRequest = createRpcBatchRequest(this._rpcClient);\n\n    this._rpcWebSocket = new RpcWebSocketClient(this._rpcWsEndpoint, {\n      autoconnect: false,\n      max_reconnects: Infinity,\n    });\n    this._rpcWebSocket.on('open', this._wsOnOpen.bind(this));\n    this._rpcWebSocket.on('error', this._wsOnError.bind(this));\n    this._rpcWebSocket.on('close', this._wsOnClose.bind(this));\n    this._rpcWebSocket.on(\n      'accountNotification',\n      this._wsOnAccountNotification.bind(this),\n    );\n    this._rpcWebSocket.on(\n      'programNotification',\n      this._wsOnProgramAccountNotification.bind(this),\n    );\n    this._rpcWebSocket.on(\n      'slotNotification',\n      this._wsOnSlotNotification.bind(this),\n    );\n    this._rpcWebSocket.on(\n      'slotsUpdatesNotification',\n      this._wsOnSlotUpdatesNotification.bind(this),\n    );\n    this._rpcWebSocket.on(\n      'signatureNotification',\n      this._wsOnSignatureNotification.bind(this),\n    );\n    this._rpcWebSocket.on(\n      'rootNotification',\n      this._wsOnRootNotification.bind(this),\n    );\n    this._rpcWebSocket.on(\n      'logsNotification',\n      this._wsOnLogsNotification.bind(this),\n    );\n  }\n\n  /**\n   * The default commitment used for requests\n   */\n  get commitment(): Commitment | undefined {\n    return this._commitment;\n  }\n\n  /**\n   * The RPC endpoint\n   */\n  get rpcEndpoint(): string {\n    return this._rpcEndpoint;\n  }\n\n  /**\n   * Fetch the balance for the specified public key, return with context\n   */\n  async getBalanceAndContext(\n    publicKey: PublicKey,\n    commitmentOrConfig?: Commitment | GetBalanceConfig,\n  ): Promise<RpcResponseAndContext<number>> {\n    /** @internal */\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [publicKey.toBase58()],\n      commitment,\n      undefined /* encoding */,\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getBalance', args);\n    const res = create(unsafeRes, jsonRpcResultAndContext(number()));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get balance for ${publicKey.toBase58()}`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the balance for the specified public key\n   */\n  async getBalance(\n    publicKey: PublicKey,\n    commitmentOrConfig?: Commitment | GetBalanceConfig,\n  ): Promise<number> {\n    return await this.getBalanceAndContext(publicKey, commitmentOrConfig)\n      .then(x => x.value)\n      .catch(e => {\n        throw new Error(\n          'failed to get balance of account ' + publicKey.toBase58() + ': ' + e,\n        );\n      });\n  }\n\n  /**\n   * Fetch the estimated production time of a block\n   */\n  async getBlockTime(slot: number): Promise<number | null> {\n    const unsafeRes = await this._rpcRequest('getBlockTime', [slot]);\n    const res = create(unsafeRes, jsonRpcResult(nullable(number())));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get block time for slot ${slot}`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the lowest slot that the node has information about in its ledger.\n   * This value may increase over time if the node is configured to purge older ledger data\n   */\n  async getMinimumLedgerSlot(): Promise<number> {\n    const unsafeRes = await this._rpcRequest('minimumLedgerSlot', []);\n    const res = create(unsafeRes, jsonRpcResult(number()));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get minimum ledger slot',\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the slot of the lowest confirmed block that has not been purged from the ledger\n   */\n  async getFirstAvailableBlock(): Promise<number> {\n    const unsafeRes = await this._rpcRequest('getFirstAvailableBlock', []);\n    const res = create(unsafeRes, SlotRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get first available block',\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch information about the current supply\n   */\n  async getSupply(\n    config?: GetSupplyConfig | Commitment,\n  ): Promise<RpcResponseAndContext<Supply>> {\n    let configArg: GetSupplyConfig = {};\n    if (typeof config === 'string') {\n      configArg = {commitment: config};\n    } else if (config) {\n      configArg = {\n        ...config,\n        commitment: (config && config.commitment) || this.commitment,\n      };\n    } else {\n      configArg = {\n        commitment: this.commitment,\n      };\n    }\n\n    const unsafeRes = await this._rpcRequest('getSupply', [configArg]);\n    const res = create(unsafeRes, GetSupplyRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get supply');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the current supply of a token mint\n   */\n  async getTokenSupply(\n    tokenMintAddress: PublicKey,\n    commitment?: Commitment,\n  ): Promise<RpcResponseAndContext<TokenAmount>> {\n    const args = this._buildArgs([tokenMintAddress.toBase58()], commitment);\n    const unsafeRes = await this._rpcRequest('getTokenSupply', args);\n    const res = create(unsafeRes, jsonRpcResultAndContext(TokenAmountResult));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get token supply');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the current balance of a token account\n   */\n  async getTokenAccountBalance(\n    tokenAddress: PublicKey,\n    commitment?: Commitment,\n  ): Promise<RpcResponseAndContext<TokenAmount>> {\n    const args = this._buildArgs([tokenAddress.toBase58()], commitment);\n    const unsafeRes = await this._rpcRequest('getTokenAccountBalance', args);\n    const res = create(unsafeRes, jsonRpcResultAndContext(TokenAmountResult));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get token account balance',\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch all the token accounts owned by the specified account\n   *\n   * @return {Promise<RpcResponseAndContext<GetProgramAccountsResponse>}\n   */\n  async getTokenAccountsByOwner(\n    ownerAddress: PublicKey,\n    filter: TokenAccountsFilter,\n    commitmentOrConfig?: Commitment | GetTokenAccountsByOwnerConfig,\n  ): Promise<RpcResponseAndContext<GetProgramAccountsResponse>> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    let _args: any[] = [ownerAddress.toBase58()];\n    if ('mint' in filter) {\n      _args.push({mint: filter.mint.toBase58()});\n    } else {\n      _args.push({programId: filter.programId.toBase58()});\n    }\n\n    const args = this._buildArgs(_args, commitment, 'base64', config);\n    const unsafeRes = await this._rpcRequest('getTokenAccountsByOwner', args);\n    const res = create(unsafeRes, GetTokenAccountsByOwner);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get token accounts owned by account ${ownerAddress.toBase58()}`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch parsed token accounts owned by the specified account\n   *\n   * @return {Promise<RpcResponseAndContext<Array<{pubkey: PublicKey, account: AccountInfo<ParsedAccountData>}>>>}\n   */\n  async getParsedTokenAccountsByOwner(\n    ownerAddress: PublicKey,\n    filter: TokenAccountsFilter,\n    commitment?: Commitment,\n  ): Promise<\n    RpcResponseAndContext<\n      Array<{pubkey: PublicKey; account: AccountInfo<ParsedAccountData>}>\n    >\n  > {\n    let _args: any[] = [ownerAddress.toBase58()];\n    if ('mint' in filter) {\n      _args.push({mint: filter.mint.toBase58()});\n    } else {\n      _args.push({programId: filter.programId.toBase58()});\n    }\n\n    const args = this._buildArgs(_args, commitment, 'jsonParsed');\n    const unsafeRes = await this._rpcRequest('getTokenAccountsByOwner', args);\n    const res = create(unsafeRes, GetParsedTokenAccountsByOwner);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get token accounts owned by account ${ownerAddress.toBase58()}`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the 20 largest accounts with their current balances\n   */\n  async getLargestAccounts(\n    config?: GetLargestAccountsConfig,\n  ): Promise<RpcResponseAndContext<Array<AccountBalancePair>>> {\n    const arg = {\n      ...config,\n      commitment: (config && config.commitment) || this.commitment,\n    };\n    const args = arg.filter || arg.commitment ? [arg] : [];\n    const unsafeRes = await this._rpcRequest('getLargestAccounts', args);\n    const res = create(unsafeRes, GetLargestAccountsRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get largest accounts');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the 20 largest token accounts with their current balances\n   * for a given mint.\n   */\n  async getTokenLargestAccounts(\n    mintAddress: PublicKey,\n    commitment?: Commitment,\n  ): Promise<RpcResponseAndContext<Array<TokenAccountBalancePair>>> {\n    const args = this._buildArgs([mintAddress.toBase58()], commitment);\n    const unsafeRes = await this._rpcRequest('getTokenLargestAccounts', args);\n    const res = create(unsafeRes, GetTokenLargestAccountsResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get token largest accounts',\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch all the account info for the specified public key, return with context\n   */\n  async getAccountInfoAndContext(\n    publicKey: PublicKey,\n    commitmentOrConfig?: Commitment | GetAccountInfoConfig,\n  ): Promise<RpcResponseAndContext<AccountInfo<Buffer> | null>> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [publicKey.toBase58()],\n      commitment,\n      'base64',\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getAccountInfo', args);\n    const res = create(\n      unsafeRes,\n      jsonRpcResultAndContext(nullable(AccountInfoResult)),\n    );\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get info about account ${publicKey.toBase58()}`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch parsed account info for the specified public key\n   */\n  async getParsedAccountInfo(\n    publicKey: PublicKey,\n    commitmentOrConfig?: Commitment | GetAccountInfoConfig,\n  ): Promise<\n    RpcResponseAndContext<AccountInfo<Buffer | ParsedAccountData> | null>\n  > {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [publicKey.toBase58()],\n      commitment,\n      'jsonParsed',\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getAccountInfo', args);\n    const res = create(\n      unsafeRes,\n      jsonRpcResultAndContext(nullable(ParsedAccountInfoResult)),\n    );\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get info about account ${publicKey.toBase58()}`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch all the account info for the specified public key\n   */\n  async getAccountInfo(\n    publicKey: PublicKey,\n    commitmentOrConfig?: Commitment | GetAccountInfoConfig,\n  ): Promise<AccountInfo<Buffer> | null> {\n    try {\n      const res = await this.getAccountInfoAndContext(\n        publicKey,\n        commitmentOrConfig,\n      );\n      return res.value;\n    } catch (e) {\n      throw new Error(\n        'failed to get info about account ' + publicKey.toBase58() + ': ' + e,\n      );\n    }\n  }\n\n  /**\n   * Fetch all the account info for multiple accounts specified by an array of public keys, return with context\n   */\n  async getMultipleParsedAccounts(\n    publicKeys: PublicKey[],\n    rawConfig?: GetMultipleAccountsConfig,\n  ): Promise<\n    RpcResponseAndContext<(AccountInfo<Buffer | ParsedAccountData> | null)[]>\n  > {\n    const {commitment, config} = extractCommitmentFromConfig(rawConfig);\n    const keys = publicKeys.map(key => key.toBase58());\n    const args = this._buildArgs([keys], commitment, 'jsonParsed', config);\n    const unsafeRes = await this._rpcRequest('getMultipleAccounts', args);\n    const res = create(\n      unsafeRes,\n      jsonRpcResultAndContext(array(nullable(ParsedAccountInfoResult))),\n    );\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get info for accounts ${keys}`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch all the account info for multiple accounts specified by an array of public keys, return with context\n   */\n  async getMultipleAccountsInfoAndContext(\n    publicKeys: PublicKey[],\n    commitmentOrConfig?: Commitment | GetMultipleAccountsConfig,\n  ): Promise<RpcResponseAndContext<(AccountInfo<Buffer> | null)[]>> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const keys = publicKeys.map(key => key.toBase58());\n    const args = this._buildArgs([keys], commitment, 'base64', config);\n    const unsafeRes = await this._rpcRequest('getMultipleAccounts', args);\n    const res = create(\n      unsafeRes,\n      jsonRpcResultAndContext(array(nullable(AccountInfoResult))),\n    );\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get info for accounts ${keys}`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch all the account info for multiple accounts specified by an array of public keys\n   */\n  async getMultipleAccountsInfo(\n    publicKeys: PublicKey[],\n    commitmentOrConfig?: Commitment | GetMultipleAccountsConfig,\n  ): Promise<(AccountInfo<Buffer> | null)[]> {\n    const res = await this.getMultipleAccountsInfoAndContext(\n      publicKeys,\n      commitmentOrConfig,\n    );\n    return res.value;\n  }\n\n  /**\n   * Returns epoch activation information for a stake account that has been delegated\n   *\n   * @deprecated Deprecated since RPC v1.18; will be removed in a future version.\n   */\n  async getStakeActivation(\n    publicKey: PublicKey,\n    commitmentOrConfig?: Commitment | GetStakeActivationConfig,\n    epoch?: number,\n  ): Promise<StakeActivationData> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [publicKey.toBase58()],\n      commitment,\n      undefined /* encoding */,\n      {\n        ...config,\n        epoch: epoch != null ? epoch : config?.epoch,\n      },\n    );\n\n    const unsafeRes = await this._rpcRequest('getStakeActivation', args);\n    const res = create(unsafeRes, jsonRpcResult(StakeActivationResult));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get Stake Activation ${publicKey.toBase58()}`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch all the accounts owned by the specified program id\n   *\n   * @return {Promise<Array<{pubkey: PublicKey, account: AccountInfo<Buffer>}>>}\n   */\n  async getProgramAccounts(\n    programId: PublicKey,\n    configOrCommitment: GetProgramAccountsConfig &\n      Readonly<{withContext: true}>,\n  ): Promise<RpcResponseAndContext<GetProgramAccountsResponse>>;\n  // eslint-disable-next-line no-dupe-class-members\n  async getProgramAccounts(\n    programId: PublicKey,\n    configOrCommitment?: GetProgramAccountsConfig | Commitment,\n  ): Promise<GetProgramAccountsResponse>;\n  // eslint-disable-next-line no-dupe-class-members\n  async getProgramAccounts(\n    programId: PublicKey,\n    configOrCommitment?: GetProgramAccountsConfig | Commitment,\n  ): Promise<\n    | GetProgramAccountsResponse\n    | RpcResponseAndContext<GetProgramAccountsResponse>\n  > {\n    const {commitment, config} =\n      extractCommitmentFromConfig(configOrCommitment);\n    const {encoding, ...configWithoutEncoding} = config || {};\n    const args = this._buildArgs(\n      [programId.toBase58()],\n      commitment,\n      encoding || 'base64',\n      {\n        ...configWithoutEncoding,\n        ...(configWithoutEncoding.filters\n          ? {\n              filters: applyDefaultMemcmpEncodingToFilters(\n                configWithoutEncoding.filters,\n              ),\n            }\n          : null),\n      },\n    );\n    const unsafeRes = await this._rpcRequest('getProgramAccounts', args);\n    const baseSchema = array(KeyedAccountInfoResult);\n    const res =\n      configWithoutEncoding.withContext === true\n        ? create(unsafeRes, jsonRpcResultAndContext(baseSchema))\n        : create(unsafeRes, jsonRpcResult(baseSchema));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get accounts owned by program ${programId.toBase58()}`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch and parse all the accounts owned by the specified program id\n   *\n   * @return {Promise<Array<{pubkey: PublicKey, account: AccountInfo<Buffer | ParsedAccountData>}>>}\n   */\n  async getParsedProgramAccounts(\n    programId: PublicKey,\n    configOrCommitment?: GetParsedProgramAccountsConfig | Commitment,\n  ): Promise<\n    Array<{\n      pubkey: PublicKey;\n      account: AccountInfo<Buffer | ParsedAccountData>;\n    }>\n  > {\n    const {commitment, config} =\n      extractCommitmentFromConfig(configOrCommitment);\n    const args = this._buildArgs(\n      [programId.toBase58()],\n      commitment,\n      'jsonParsed',\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getProgramAccounts', args);\n    const res = create(\n      unsafeRes,\n      jsonRpcResult(array(KeyedParsedAccountInfoResult)),\n    );\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get accounts owned by program ${programId.toBase58()}`,\n      );\n    }\n    return res.result;\n  }\n\n  confirmTransaction(\n    strategy: TransactionConfirmationStrategy,\n    commitment?: Commitment,\n  ): Promise<RpcResponseAndContext<SignatureResult>>;\n\n  /** @deprecated Instead, call `confirmTransaction` and pass in {@link TransactionConfirmationStrategy} */\n  // eslint-disable-next-line no-dupe-class-members\n  confirmTransaction(\n    strategy: TransactionSignature,\n    commitment?: Commitment,\n  ): Promise<RpcResponseAndContext<SignatureResult>>;\n\n  // eslint-disable-next-line no-dupe-class-members\n  async confirmTransaction(\n    strategy: TransactionConfirmationStrategy | TransactionSignature,\n    commitment?: Commitment,\n  ): Promise<RpcResponseAndContext<SignatureResult>> {\n    let rawSignature: string;\n\n    if (typeof strategy == 'string') {\n      rawSignature = strategy;\n    } else {\n      const config = strategy as TransactionConfirmationStrategy;\n\n      if (config.abortSignal?.aborted) {\n        return Promise.reject(config.abortSignal.reason);\n      }\n      rawSignature = config.signature;\n    }\n\n    let decodedSignature;\n\n    try {\n      decodedSignature = bs58.decode(rawSignature);\n    } catch (err) {\n      throw new Error('signature must be base58 encoded: ' + rawSignature);\n    }\n\n    assert(decodedSignature.length === 64, 'signature has invalid length');\n\n    if (typeof strategy === 'string') {\n      return await this.confirmTransactionUsingLegacyTimeoutStrategy({\n        commitment: commitment || this.commitment,\n        signature: rawSignature,\n      });\n    } else if ('lastValidBlockHeight' in strategy) {\n      return await this.confirmTransactionUsingBlockHeightExceedanceStrategy({\n        commitment: commitment || this.commitment,\n        strategy,\n      });\n    } else {\n      return await this.confirmTransactionUsingDurableNonceStrategy({\n        commitment: commitment || this.commitment,\n        strategy,\n      });\n    }\n  }\n\n  private getCancellationPromise(signal?: AbortSignal): Promise<never> {\n    return new Promise<never>((_, reject) => {\n      if (signal == null) {\n        return;\n      }\n      if (signal.aborted) {\n        reject(signal.reason);\n      } else {\n        signal.addEventListener('abort', () => {\n          reject(signal.reason);\n        });\n      }\n    });\n  }\n\n  private getTransactionConfirmationPromise({\n    commitment,\n    signature,\n  }: {\n    commitment?: Commitment;\n    signature: string;\n  }): {\n    abortConfirmation(): void;\n    confirmationPromise: Promise<{\n      __type: TransactionStatus.PROCESSED;\n      response: RpcResponseAndContext<SignatureResult>;\n    }>;\n  } {\n    let signatureSubscriptionId: number | undefined;\n    let disposeSignatureSubscriptionStateChangeObserver:\n      | SubscriptionStateChangeDisposeFn\n      | undefined;\n    let done = false;\n    const confirmationPromise = new Promise<{\n      __type: TransactionStatus.PROCESSED;\n      response: RpcResponseAndContext<SignatureResult>;\n    }>((resolve, reject) => {\n      try {\n        signatureSubscriptionId = this.onSignature(\n          signature,\n          (result: SignatureResult, context: Context) => {\n            signatureSubscriptionId = undefined;\n            const response = {\n              context,\n              value: result,\n            };\n            resolve({__type: TransactionStatus.PROCESSED, response});\n          },\n          commitment,\n        );\n        const subscriptionSetupPromise = new Promise<void>(\n          resolveSubscriptionSetup => {\n            if (signatureSubscriptionId == null) {\n              resolveSubscriptionSetup();\n            } else {\n              disposeSignatureSubscriptionStateChangeObserver =\n                this._onSubscriptionStateChange(\n                  signatureSubscriptionId,\n                  nextState => {\n                    if (nextState === 'subscribed') {\n                      resolveSubscriptionSetup();\n                    }\n                  },\n                );\n            }\n          },\n        );\n        (async () => {\n          await subscriptionSetupPromise;\n          if (done) return;\n          const response = await this.getSignatureStatus(signature);\n          if (done) return;\n          if (response == null) {\n            return;\n          }\n          const {context, value} = response;\n          if (value == null) {\n            return;\n          }\n          if (value?.err) {\n            reject(value.err);\n          } else {\n            switch (commitment) {\n              case 'confirmed':\n              case 'single':\n              case 'singleGossip': {\n                if (value.confirmationStatus === 'processed') {\n                  return;\n                }\n                break;\n              }\n              case 'finalized':\n              case 'max':\n              case 'root': {\n                if (\n                  value.confirmationStatus === 'processed' ||\n                  value.confirmationStatus === 'confirmed'\n                ) {\n                  return;\n                }\n                break;\n              }\n              // exhaust enums to ensure full coverage\n              case 'processed':\n              case 'recent':\n            }\n            done = true;\n            resolve({\n              __type: TransactionStatus.PROCESSED,\n              response: {\n                context,\n                value,\n              },\n            });\n          }\n        })();\n      } catch (err) {\n        reject(err);\n      }\n    });\n    const abortConfirmation = () => {\n      if (disposeSignatureSubscriptionStateChangeObserver) {\n        disposeSignatureSubscriptionStateChangeObserver();\n        disposeSignatureSubscriptionStateChangeObserver = undefined;\n      }\n      if (signatureSubscriptionId != null) {\n        this.removeSignatureListener(signatureSubscriptionId);\n        signatureSubscriptionId = undefined;\n      }\n    };\n    return {abortConfirmation, confirmationPromise};\n  }\n\n  private async confirmTransactionUsingBlockHeightExceedanceStrategy({\n    commitment,\n    strategy: {abortSignal, lastValidBlockHeight, signature},\n  }: {\n    commitment?: Commitment;\n    strategy: BlockheightBasedTransactionConfirmationStrategy;\n  }) {\n    let done: boolean = false;\n    const expiryPromise = new Promise<{\n      __type: TransactionStatus.BLOCKHEIGHT_EXCEEDED;\n    }>(resolve => {\n      const checkBlockHeight = async () => {\n        try {\n          const blockHeight = await this.getBlockHeight(commitment);\n          return blockHeight;\n        } catch (_e) {\n          return -1;\n        }\n      };\n      (async () => {\n        let currentBlockHeight = await checkBlockHeight();\n        if (done) return;\n        while (currentBlockHeight <= lastValidBlockHeight) {\n          await sleep(1000);\n          if (done) return;\n          currentBlockHeight = await checkBlockHeight();\n          if (done) return;\n        }\n        resolve({__type: TransactionStatus.BLOCKHEIGHT_EXCEEDED});\n      })();\n    });\n    const {abortConfirmation, confirmationPromise} =\n      this.getTransactionConfirmationPromise({commitment, signature});\n    const cancellationPromise = this.getCancellationPromise(abortSignal);\n    let result: RpcResponseAndContext<SignatureResult>;\n    try {\n      const outcome = await Promise.race([\n        cancellationPromise,\n        confirmationPromise,\n        expiryPromise,\n      ]);\n      if (outcome.__type === TransactionStatus.PROCESSED) {\n        result = outcome.response;\n      } else {\n        throw new TransactionExpiredBlockheightExceededError(signature);\n      }\n    } finally {\n      done = true;\n      abortConfirmation();\n    }\n    return result;\n  }\n\n  private async confirmTransactionUsingDurableNonceStrategy({\n    commitment,\n    strategy: {\n      abortSignal,\n      minContextSlot,\n      nonceAccountPubkey,\n      nonceValue,\n      signature,\n    },\n  }: {\n    commitment?: Commitment;\n    strategy: DurableNonceTransactionConfirmationStrategy;\n  }) {\n    let done: boolean = false;\n    const expiryPromise = new Promise<{\n      __type: TransactionStatus.NONCE_INVALID;\n      slotInWhichNonceDidAdvance: number | null;\n    }>(resolve => {\n      let currentNonceValue: string | undefined = nonceValue;\n      let lastCheckedSlot: number | null = null;\n      const getCurrentNonceValue = async () => {\n        try {\n          const {context, value: nonceAccount} = await this.getNonceAndContext(\n            nonceAccountPubkey,\n            {\n              commitment,\n              minContextSlot,\n            },\n          );\n          lastCheckedSlot = context.slot;\n          return nonceAccount?.nonce;\n        } catch (e) {\n          // If for whatever reason we can't reach/read the nonce\n          // account, just keep using the last-known value.\n          return currentNonceValue;\n        }\n      };\n      (async () => {\n        currentNonceValue = await getCurrentNonceValue();\n        if (done) return;\n        while (\n          true // eslint-disable-line no-constant-condition\n        ) {\n          if (nonceValue !== currentNonceValue) {\n            resolve({\n              __type: TransactionStatus.NONCE_INVALID,\n              slotInWhichNonceDidAdvance: lastCheckedSlot,\n            });\n            return;\n          }\n          await sleep(2000);\n          if (done) return;\n          currentNonceValue = await getCurrentNonceValue();\n          if (done) return;\n        }\n      })();\n    });\n    const {abortConfirmation, confirmationPromise} =\n      this.getTransactionConfirmationPromise({commitment, signature});\n    const cancellationPromise = this.getCancellationPromise(abortSignal);\n    let result: RpcResponseAndContext<SignatureResult>;\n    try {\n      const outcome = await Promise.race([\n        cancellationPromise,\n        confirmationPromise,\n        expiryPromise,\n      ]);\n      if (outcome.__type === TransactionStatus.PROCESSED) {\n        result = outcome.response;\n      } else {\n        // Double check that the transaction is indeed unconfirmed.\n        let signatureStatus:\n          | RpcResponseAndContext<SignatureStatus | null>\n          | null\n          | undefined;\n        while (\n          true // eslint-disable-line no-constant-condition\n        ) {\n          const status = await this.getSignatureStatus(signature);\n          if (status == null) {\n            break;\n          }\n          if (\n            status.context.slot <\n            (outcome.slotInWhichNonceDidAdvance ?? minContextSlot)\n          ) {\n            await sleep(400);\n            continue;\n          }\n          signatureStatus = status;\n          break;\n        }\n        if (signatureStatus?.value) {\n          const commitmentForStatus = commitment || 'finalized';\n          const {confirmationStatus} = signatureStatus.value;\n          switch (commitmentForStatus) {\n            case 'processed':\n            case 'recent':\n              if (\n                confirmationStatus !== 'processed' &&\n                confirmationStatus !== 'confirmed' &&\n                confirmationStatus !== 'finalized'\n              ) {\n                throw new TransactionExpiredNonceInvalidError(signature);\n              }\n              break;\n            case 'confirmed':\n            case 'single':\n            case 'singleGossip':\n              if (\n                confirmationStatus !== 'confirmed' &&\n                confirmationStatus !== 'finalized'\n              ) {\n                throw new TransactionExpiredNonceInvalidError(signature);\n              }\n              break;\n            case 'finalized':\n            case 'max':\n            case 'root':\n              if (confirmationStatus !== 'finalized') {\n                throw new TransactionExpiredNonceInvalidError(signature);\n              }\n              break;\n            default:\n              // Exhaustive switch.\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              ((_: never) => {})(commitmentForStatus);\n          }\n          result = {\n            context: signatureStatus.context,\n            value: {err: signatureStatus.value.err},\n          };\n        } else {\n          throw new TransactionExpiredNonceInvalidError(signature);\n        }\n      }\n    } finally {\n      done = true;\n      abortConfirmation();\n    }\n    return result;\n  }\n\n  private async confirmTransactionUsingLegacyTimeoutStrategy({\n    commitment,\n    signature,\n  }: {\n    commitment?: Commitment;\n    signature: string;\n  }) {\n    let timeoutId;\n    const expiryPromise = new Promise<{\n      __type: TransactionStatus.TIMED_OUT;\n      timeoutMs: number;\n    }>(resolve => {\n      let timeoutMs = this._confirmTransactionInitialTimeout || 60 * 1000;\n      switch (commitment) {\n        case 'processed':\n        case 'recent':\n        case 'single':\n        case 'confirmed':\n        case 'singleGossip': {\n          timeoutMs = this._confirmTransactionInitialTimeout || 30 * 1000;\n          break;\n        }\n        // exhaust enums to ensure full coverage\n        case 'finalized':\n        case 'max':\n        case 'root':\n      }\n      timeoutId = setTimeout(\n        () => resolve({__type: TransactionStatus.TIMED_OUT, timeoutMs}),\n        timeoutMs,\n      );\n    });\n    const {abortConfirmation, confirmationPromise} =\n      this.getTransactionConfirmationPromise({\n        commitment,\n        signature,\n      });\n    let result: RpcResponseAndContext<SignatureResult>;\n    try {\n      const outcome = await Promise.race([confirmationPromise, expiryPromise]);\n      if (outcome.__type === TransactionStatus.PROCESSED) {\n        result = outcome.response;\n      } else {\n        throw new TransactionExpiredTimeoutError(\n          signature,\n          outcome.timeoutMs / 1000,\n        );\n      }\n    } finally {\n      clearTimeout(timeoutId);\n      abortConfirmation();\n    }\n    return result;\n  }\n\n  /**\n   * Return the list of nodes that are currently participating in the cluster\n   */\n  async getClusterNodes(): Promise<Array<ContactInfo>> {\n    const unsafeRes = await this._rpcRequest('getClusterNodes', []);\n    const res = create(unsafeRes, jsonRpcResult(array(ContactInfoResult)));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get cluster nodes');\n    }\n    return res.result;\n  }\n\n  /**\n   * Return the list of nodes that are currently participating in the cluster\n   */\n  async getVoteAccounts(commitment?: Commitment): Promise<VoteAccountStatus> {\n    const args = this._buildArgs([], commitment);\n    const unsafeRes = await this._rpcRequest('getVoteAccounts', args);\n    const res = create(unsafeRes, GetVoteAccounts);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get vote accounts');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the current slot that the node is processing\n   */\n  async getSlot(\n    commitmentOrConfig?: Commitment | GetSlotConfig,\n  ): Promise<number> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [],\n      commitment,\n      undefined /* encoding */,\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getSlot', args);\n    const res = create(unsafeRes, jsonRpcResult(number()));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get slot');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the current slot leader of the cluster\n   */\n  async getSlotLeader(\n    commitmentOrConfig?: Commitment | GetSlotLeaderConfig,\n  ): Promise<string> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [],\n      commitment,\n      undefined /* encoding */,\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getSlotLeader', args);\n    const res = create(unsafeRes, jsonRpcResult(string()));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get slot leader');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch `limit` number of slot leaders starting from `startSlot`\n   *\n   * @param startSlot fetch slot leaders starting from this slot\n   * @param limit number of slot leaders to return\n   */\n  async getSlotLeaders(\n    startSlot: number,\n    limit: number,\n  ): Promise<Array<PublicKey>> {\n    const args = [startSlot, limit];\n    const unsafeRes = await this._rpcRequest('getSlotLeaders', args);\n    const res = create(unsafeRes, jsonRpcResult(array(PublicKeyFromString)));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get slot leaders');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the current status of a signature\n   */\n  async getSignatureStatus(\n    signature: TransactionSignature,\n    config?: SignatureStatusConfig,\n  ): Promise<RpcResponseAndContext<SignatureStatus | null>> {\n    const {context, value: values} = await this.getSignatureStatuses(\n      [signature],\n      config,\n    );\n    assert(values.length === 1);\n    const value = values[0];\n    return {context, value};\n  }\n\n  /**\n   * Fetch the current statuses of a batch of signatures\n   */\n  async getSignatureStatuses(\n    signatures: Array<TransactionSignature>,\n    config?: SignatureStatusConfig,\n  ): Promise<RpcResponseAndContext<Array<SignatureStatus | null>>> {\n    const params: any[] = [signatures];\n    if (config) {\n      params.push(config);\n    }\n    const unsafeRes = await this._rpcRequest('getSignatureStatuses', params);\n    const res = create(unsafeRes, GetSignatureStatusesRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get signature status');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the current transaction count of the cluster\n   */\n  async getTransactionCount(\n    commitmentOrConfig?: Commitment | GetTransactionCountConfig,\n  ): Promise<number> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [],\n      commitment,\n      undefined /* encoding */,\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getTransactionCount', args);\n    const res = create(unsafeRes, jsonRpcResult(number()));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get transaction count',\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the current total currency supply of the cluster in lamports\n   *\n   * @deprecated Deprecated since RPC v1.2.8. Please use {@link getSupply} instead.\n   */\n  async getTotalSupply(commitment?: Commitment): Promise<number> {\n    const result = await this.getSupply({\n      commitment,\n      excludeNonCirculatingAccountsList: true,\n    });\n    return result.value.total;\n  }\n\n  /**\n   * Fetch the cluster InflationGovernor parameters\n   */\n  async getInflationGovernor(\n    commitment?: Commitment,\n  ): Promise<InflationGovernor> {\n    const args = this._buildArgs([], commitment);\n    const unsafeRes = await this._rpcRequest('getInflationGovernor', args);\n    const res = create(unsafeRes, GetInflationGovernorRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get inflation');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the inflation reward for a list of addresses for an epoch\n   */\n  async getInflationReward(\n    addresses: PublicKey[],\n    epoch?: number,\n    commitmentOrConfig?: Commitment | GetInflationRewardConfig,\n  ): Promise<(InflationReward | null)[]> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [addresses.map(pubkey => pubkey.toBase58())],\n      commitment,\n      undefined /* encoding */,\n      {\n        ...config,\n        epoch: epoch != null ? epoch : config?.epoch,\n      },\n    );\n    const unsafeRes = await this._rpcRequest('getInflationReward', args);\n    const res = create(unsafeRes, GetInflationRewardResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get inflation reward');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the specific inflation values for the current epoch\n   */\n  async getInflationRate(): Promise<InflationRate> {\n    const unsafeRes = await this._rpcRequest('getInflationRate', []);\n    const res = create(unsafeRes, GetInflationRateRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get inflation rate');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the Epoch Info parameters\n   */\n  async getEpochInfo(\n    commitmentOrConfig?: Commitment | GetEpochInfoConfig,\n  ): Promise<EpochInfo> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [],\n      commitment,\n      undefined /* encoding */,\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getEpochInfo', args);\n    const res = create(unsafeRes, GetEpochInfoRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get epoch info');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the Epoch Schedule parameters\n   */\n  async getEpochSchedule(): Promise<EpochSchedule> {\n    const unsafeRes = await this._rpcRequest('getEpochSchedule', []);\n    const res = create(unsafeRes, GetEpochScheduleRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get epoch schedule');\n    }\n    const epochSchedule = res.result;\n    return new EpochSchedule(\n      epochSchedule.slotsPerEpoch,\n      epochSchedule.leaderScheduleSlotOffset,\n      epochSchedule.warmup,\n      epochSchedule.firstNormalEpoch,\n      epochSchedule.firstNormalSlot,\n    );\n  }\n\n  /**\n   * Fetch the leader schedule for the current epoch\n   * @return {Promise<RpcResponseAndContext<LeaderSchedule>>}\n   */\n  async getLeaderSchedule(): Promise<LeaderSchedule> {\n    const unsafeRes = await this._rpcRequest('getLeaderSchedule', []);\n    const res = create(unsafeRes, GetLeaderScheduleRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get leader schedule');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the minimum balance needed to exempt an account of `dataLength`\n   * size from rent\n   */\n  async getMinimumBalanceForRentExemption(\n    dataLength: number,\n    commitment?: Commitment,\n  ): Promise<number> {\n    const args = this._buildArgs([dataLength], commitment);\n    const unsafeRes = await this._rpcRequest(\n      'getMinimumBalanceForRentExemption',\n      args,\n    );\n    const res = create(unsafeRes, GetMinimumBalanceForRentExemptionRpcResult);\n    if ('error' in res) {\n      console.warn('Unable to fetch minimum balance for rent exemption');\n      return 0;\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch a recent blockhash from the cluster, return with context\n   * @return {Promise<RpcResponseAndContext<{blockhash: Blockhash, feeCalculator: FeeCalculator}>>}\n   *\n   * @deprecated Deprecated since RPC v1.9.0. Please use {@link getLatestBlockhash} instead.\n   */\n  async getRecentBlockhashAndContext(commitment?: Commitment): Promise<\n    RpcResponseAndContext<{\n      blockhash: Blockhash;\n      feeCalculator: FeeCalculator;\n    }>\n  > {\n    const {\n      context,\n      value: {blockhash},\n    } = await this.getLatestBlockhashAndContext(commitment);\n    const feeCalculator = {\n      get lamportsPerSignature(): number {\n        throw new Error(\n          'The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is ' +\n            'no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee ' +\n            'for a given message.',\n        );\n      },\n      toJSON() {\n        return {};\n      },\n    };\n    return {\n      context,\n      value: {\n        blockhash,\n        feeCalculator,\n      },\n    };\n  }\n\n  /**\n   * Fetch recent performance samples\n   * @return {Promise<Array<PerfSample>>}\n   */\n  async getRecentPerformanceSamples(\n    limit?: number,\n  ): Promise<Array<PerfSample>> {\n    const unsafeRes = await this._rpcRequest(\n      'getRecentPerformanceSamples',\n      limit ? [limit] : [],\n    );\n    const res = create(unsafeRes, GetRecentPerformanceSamplesRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get recent performance samples',\n      );\n    }\n\n    return res.result;\n  }\n\n  /**\n   * Fetch the fee calculator for a recent blockhash from the cluster, return with context\n   *\n   * @deprecated Deprecated since RPC v1.9.0. Please use {@link getFeeForMessage} instead.\n   */\n  async getFeeCalculatorForBlockhash(\n    blockhash: Blockhash,\n    commitment?: Commitment,\n  ): Promise<RpcResponseAndContext<FeeCalculator | null>> {\n    const args = this._buildArgs([blockhash], commitment);\n    const unsafeRes = await this._rpcRequest(\n      'getFeeCalculatorForBlockhash',\n      args,\n    );\n\n    const res = create(unsafeRes, GetFeeCalculatorRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get fee calculator');\n    }\n    const {context, value} = res.result;\n    return {\n      context,\n      value: value !== null ? value.feeCalculator : null,\n    };\n  }\n\n  /**\n   * Fetch the fee for a message from the cluster, return with context\n   */\n  async getFeeForMessage(\n    message: VersionedMessage,\n    commitment?: Commitment,\n  ): Promise<RpcResponseAndContext<number | null>> {\n    const wireMessage = toBuffer(message.serialize()).toString('base64');\n    const args = this._buildArgs([wireMessage], commitment);\n    const unsafeRes = await this._rpcRequest('getFeeForMessage', args);\n\n    const res = create(unsafeRes, jsonRpcResultAndContext(nullable(number())));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get fee for message');\n    }\n    if (res.result === null) {\n      throw new Error('invalid blockhash');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch a list of prioritization fees from recent blocks.\n   */\n  async getRecentPrioritizationFees(\n    config?: GetRecentPrioritizationFeesConfig,\n  ): Promise<RecentPrioritizationFees[]> {\n    const accounts = config?.lockedWritableAccounts?.map(key => key.toBase58());\n    const args = accounts?.length ? [accounts] : [];\n    const unsafeRes = await this._rpcRequest(\n      'getRecentPrioritizationFees',\n      args,\n    );\n    const res = create(unsafeRes, GetRecentPrioritizationFeesRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get recent prioritization fees',\n      );\n    }\n    return res.result;\n  }\n  /**\n   * Fetch a recent blockhash from the cluster\n   * @return {Promise<{blockhash: Blockhash, feeCalculator: FeeCalculator}>}\n   *\n   * @deprecated Deprecated since RPC v1.8.0. Please use {@link getLatestBlockhash} instead.\n   */\n  async getRecentBlockhash(\n    commitment?: Commitment,\n  ): Promise<{blockhash: Blockhash; feeCalculator: FeeCalculator}> {\n    try {\n      const res = await this.getRecentBlockhashAndContext(commitment);\n      return res.value;\n    } catch (e) {\n      throw new Error('failed to get recent blockhash: ' + e);\n    }\n  }\n\n  /**\n   * Fetch the latest blockhash from the cluster\n   * @return {Promise<BlockhashWithExpiryBlockHeight>}\n   */\n  async getLatestBlockhash(\n    commitmentOrConfig?: Commitment | GetLatestBlockhashConfig,\n  ): Promise<BlockhashWithExpiryBlockHeight> {\n    try {\n      const res = await this.getLatestBlockhashAndContext(commitmentOrConfig);\n      return res.value;\n    } catch (e) {\n      throw new Error('failed to get recent blockhash: ' + e);\n    }\n  }\n\n  /**\n   * Fetch the latest blockhash from the cluster\n   * @return {Promise<BlockhashWithExpiryBlockHeight>}\n   */\n  async getLatestBlockhashAndContext(\n    commitmentOrConfig?: Commitment | GetLatestBlockhashConfig,\n  ): Promise<RpcResponseAndContext<BlockhashWithExpiryBlockHeight>> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [],\n      commitment,\n      undefined /* encoding */,\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getLatestBlockhash', args);\n    const res = create(unsafeRes, GetLatestBlockhashRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get latest blockhash');\n    }\n    return res.result;\n  }\n\n  /**\n   * Returns whether a blockhash is still valid or not\n   */\n  async isBlockhashValid(\n    blockhash: Blockhash,\n    rawConfig?: IsBlockhashValidConfig,\n  ): Promise<RpcResponseAndContext<boolean>> {\n    const {commitment, config} = extractCommitmentFromConfig(rawConfig);\n    const args = this._buildArgs(\n      [blockhash],\n      commitment,\n      undefined /* encoding */,\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('isBlockhashValid', args);\n    const res = create(unsafeRes, IsBlockhashValidRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to determine if the blockhash `' + blockhash + '`is valid',\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the node version\n   */\n  async getVersion(): Promise<Version> {\n    const unsafeRes = await this._rpcRequest('getVersion', []);\n    const res = create(unsafeRes, jsonRpcResult(VersionResult));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get version');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch the genesis hash\n   */\n  async getGenesisHash(): Promise<string> {\n    const unsafeRes = await this._rpcRequest('getGenesisHash', []);\n    const res = create(unsafeRes, jsonRpcResult(string()));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get genesis hash');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch a processed block from the cluster.\n   *\n   * @deprecated Instead, call `getBlock` using a `GetVersionedBlockConfig` by\n   * setting the `maxSupportedTransactionVersion` property.\n   */\n  async getBlock(\n    slot: number,\n    rawConfig?: GetBlockConfig,\n  ): Promise<BlockResponse | null>;\n\n  /**\n   * @deprecated Instead, call `getBlock` using a `GetVersionedBlockConfig` by\n   * setting the `maxSupportedTransactionVersion` property.\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  async getBlock(\n    slot: number,\n    rawConfig: GetBlockConfig & {transactionDetails: 'accounts'},\n  ): Promise<AccountsModeBlockResponse | null>;\n\n  /**\n   * @deprecated Instead, call `getBlock` using a `GetVersionedBlockConfig` by\n   * setting the `maxSupportedTransactionVersion` property.\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  async getBlock(\n    slot: number,\n    rawConfig: GetBlockConfig & {transactionDetails: 'none'},\n  ): Promise<NoneModeBlockResponse | null>;\n\n  /**\n   * Fetch a processed block from the cluster.\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  async getBlock(\n    slot: number,\n    rawConfig?: GetVersionedBlockConfig,\n  ): Promise<VersionedBlockResponse | null>;\n\n  // eslint-disable-next-line no-dupe-class-members\n  async getBlock(\n    slot: number,\n    rawConfig: GetVersionedBlockConfig & {transactionDetails: 'accounts'},\n  ): Promise<VersionedAccountsModeBlockResponse | null>;\n\n  // eslint-disable-next-line no-dupe-class-members\n  async getBlock(\n    slot: number,\n    rawConfig: GetVersionedBlockConfig & {transactionDetails: 'none'},\n  ): Promise<VersionedNoneModeBlockResponse | null>;\n\n  /**\n   * Fetch a processed block from the cluster.\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  async getBlock(\n    slot: number,\n    rawConfig?: GetVersionedBlockConfig,\n  ): Promise<\n    | VersionedBlockResponse\n    | VersionedAccountsModeBlockResponse\n    | VersionedNoneModeBlockResponse\n    | null\n  > {\n    const {commitment, config} = extractCommitmentFromConfig(rawConfig);\n    const args = this._buildArgsAtLeastConfirmed(\n      [slot],\n      commitment as Finality,\n      undefined /* encoding */,\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getBlock', args);\n    try {\n      switch (config?.transactionDetails) {\n        case 'accounts': {\n          const res = create(unsafeRes, GetAccountsModeBlockRpcResult);\n          if ('error' in res) {\n            throw res.error;\n          }\n          return res.result;\n        }\n        case 'none': {\n          const res = create(unsafeRes, GetNoneModeBlockRpcResult);\n          if ('error' in res) {\n            throw res.error;\n          }\n          return res.result;\n        }\n        default: {\n          const res = create(unsafeRes, GetBlockRpcResult);\n          if ('error' in res) {\n            throw res.error;\n          }\n          const {result} = res;\n          return result\n            ? {\n                ...result,\n                transactions: result.transactions.map(\n                  ({transaction, meta, version}) => ({\n                    meta,\n                    transaction: {\n                      ...transaction,\n                      message: versionedMessageFromResponse(\n                        version,\n                        transaction.message,\n                      ),\n                    },\n                    version,\n                  }),\n                ),\n              }\n            : null;\n        }\n      }\n    } catch (e) {\n      throw new SolanaJSONRPCError(\n        e as JSONRPCError,\n        'failed to get confirmed block',\n      );\n    }\n  }\n\n  /**\n   * Fetch parsed transaction details for a confirmed or finalized block\n   */\n  async getParsedBlock(\n    slot: number,\n    rawConfig?: GetVersionedBlockConfig,\n  ): Promise<ParsedAccountsModeBlockResponse>;\n\n  // eslint-disable-next-line no-dupe-class-members\n  async getParsedBlock(\n    slot: number,\n    rawConfig: GetVersionedBlockConfig & {transactionDetails: 'accounts'},\n  ): Promise<ParsedAccountsModeBlockResponse>;\n\n  // eslint-disable-next-line no-dupe-class-members\n  async getParsedBlock(\n    slot: number,\n    rawConfig: GetVersionedBlockConfig & {transactionDetails: 'none'},\n  ): Promise<ParsedNoneModeBlockResponse>;\n  // eslint-disable-next-line no-dupe-class-members\n  async getParsedBlock(\n    slot: number,\n    rawConfig?: GetVersionedBlockConfig,\n  ): Promise<\n    | ParsedBlockResponse\n    | ParsedAccountsModeBlockResponse\n    | ParsedNoneModeBlockResponse\n    | null\n  > {\n    const {commitment, config} = extractCommitmentFromConfig(rawConfig);\n    const args = this._buildArgsAtLeastConfirmed(\n      [slot],\n      commitment as Finality,\n      'jsonParsed',\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getBlock', args);\n    try {\n      switch (config?.transactionDetails) {\n        case 'accounts': {\n          const res = create(unsafeRes, GetParsedAccountsModeBlockRpcResult);\n          if ('error' in res) {\n            throw res.error;\n          }\n          return res.result;\n        }\n        case 'none': {\n          const res = create(unsafeRes, GetParsedNoneModeBlockRpcResult);\n          if ('error' in res) {\n            throw res.error;\n          }\n          return res.result;\n        }\n        default: {\n          const res = create(unsafeRes, GetParsedBlockRpcResult);\n          if ('error' in res) {\n            throw res.error;\n          }\n          return res.result;\n        }\n      }\n    } catch (e) {\n      throw new SolanaJSONRPCError(e as JSONRPCError, 'failed to get block');\n    }\n  }\n\n  /*\n   * Returns the current block height of the node\n   */\n  getBlockHeight = (() => {\n    const requestPromises: {[hash: string]: Promise<number>} = {};\n    return async (\n      commitmentOrConfig?: Commitment | GetBlockHeightConfig,\n    ): Promise<number> => {\n      const {commitment, config} =\n        extractCommitmentFromConfig(commitmentOrConfig);\n      const args = this._buildArgs(\n        [],\n        commitment,\n        undefined /* encoding */,\n        config,\n      );\n      const requestHash = fastStableStringify(args);\n      requestPromises[requestHash] =\n        requestPromises[requestHash] ??\n        (async () => {\n          try {\n            const unsafeRes = await this._rpcRequest('getBlockHeight', args);\n            const res = create(unsafeRes, jsonRpcResult(number()));\n            if ('error' in res) {\n              throw new SolanaJSONRPCError(\n                res.error,\n                'failed to get block height information',\n              );\n            }\n            return res.result;\n          } finally {\n            delete requestPromises[requestHash];\n          }\n        })();\n      return await requestPromises[requestHash];\n    };\n  })();\n\n  /*\n   * Returns recent block production information from the current or previous epoch\n   */\n  async getBlockProduction(\n    configOrCommitment?: GetBlockProductionConfig | Commitment,\n  ): Promise<RpcResponseAndContext<BlockProduction>> {\n    let extra: Omit<GetBlockProductionConfig, 'commitment'> | undefined;\n    let commitment: Commitment | undefined;\n\n    if (typeof configOrCommitment === 'string') {\n      commitment = configOrCommitment;\n    } else if (configOrCommitment) {\n      const {commitment: c, ...rest} = configOrCommitment;\n      commitment = c;\n      extra = rest;\n    }\n\n    const args = this._buildArgs([], commitment, 'base64', extra);\n    const unsafeRes = await this._rpcRequest('getBlockProduction', args);\n    const res = create(unsafeRes, BlockProductionResponseStruct);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get block production information',\n      );\n    }\n\n    return res.result;\n  }\n\n  /**\n   * Fetch a confirmed or finalized transaction from the cluster.\n   *\n   * @deprecated Instead, call `getTransaction` using a\n   * `GetVersionedTransactionConfig` by setting the\n   * `maxSupportedTransactionVersion` property.\n   */\n  async getTransaction(\n    signature: string,\n    rawConfig?: GetTransactionConfig,\n  ): Promise<TransactionResponse | null>;\n\n  /**\n   * Fetch a confirmed or finalized transaction from the cluster.\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  async getTransaction(\n    signature: string,\n    rawConfig: GetVersionedTransactionConfig,\n  ): Promise<VersionedTransactionResponse | null>;\n\n  /**\n   * Fetch a confirmed or finalized transaction from the cluster.\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  async getTransaction(\n    signature: string,\n    rawConfig?: GetVersionedTransactionConfig,\n  ): Promise<VersionedTransactionResponse | null> {\n    const {commitment, config} = extractCommitmentFromConfig(rawConfig);\n    const args = this._buildArgsAtLeastConfirmed(\n      [signature],\n      commitment as Finality,\n      undefined /* encoding */,\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getTransaction', args);\n    const res = create(unsafeRes, GetTransactionRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get transaction');\n    }\n\n    const result = res.result;\n    if (!result) return result;\n\n    return {\n      ...result,\n      transaction: {\n        ...result.transaction,\n        message: versionedMessageFromResponse(\n          result.version,\n          result.transaction.message,\n        ),\n      },\n    };\n  }\n\n  /**\n   * Fetch parsed transaction details for a confirmed or finalized transaction\n   */\n  async getParsedTransaction(\n    signature: TransactionSignature,\n    commitmentOrConfig?: GetVersionedTransactionConfig | Finality,\n  ): Promise<ParsedTransactionWithMeta | null> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgsAtLeastConfirmed(\n      [signature],\n      commitment as Finality,\n      'jsonParsed',\n      config,\n    );\n    const unsafeRes = await this._rpcRequest('getTransaction', args);\n    const res = create(unsafeRes, GetParsedTransactionRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get transaction');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch parsed transaction details for a batch of confirmed transactions\n   */\n  async getParsedTransactions(\n    signatures: TransactionSignature[],\n    commitmentOrConfig?: GetVersionedTransactionConfig | Finality,\n  ): Promise<(ParsedTransactionWithMeta | null)[]> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const batch = signatures.map(signature => {\n      const args = this._buildArgsAtLeastConfirmed(\n        [signature],\n        commitment as Finality,\n        'jsonParsed',\n        config,\n      );\n      return {\n        methodName: 'getTransaction',\n        args,\n      };\n    });\n\n    const unsafeRes = await this._rpcBatchRequest(batch);\n    const res = unsafeRes.map((unsafeRes: any) => {\n      const res = create(unsafeRes, GetParsedTransactionRpcResult);\n      if ('error' in res) {\n        throw new SolanaJSONRPCError(res.error, 'failed to get transactions');\n      }\n      return res.result;\n    });\n\n    return res;\n  }\n\n  /**\n   * Fetch transaction details for a batch of confirmed transactions.\n   * Similar to {@link getParsedTransactions} but returns a {@link TransactionResponse}.\n   *\n   * @deprecated Instead, call `getTransactions` using a\n   * `GetVersionedTransactionConfig` by setting the\n   * `maxSupportedTransactionVersion` property.\n   */\n  async getTransactions(\n    signatures: TransactionSignature[],\n    commitmentOrConfig?: GetTransactionConfig | Finality,\n  ): Promise<(TransactionResponse | null)[]>;\n\n  /**\n   * Fetch transaction details for a batch of confirmed transactions.\n   * Similar to {@link getParsedTransactions} but returns a {@link\n   * VersionedTransactionResponse}.\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  async getTransactions(\n    signatures: TransactionSignature[],\n    commitmentOrConfig: GetVersionedTransactionConfig | Finality,\n  ): Promise<(VersionedTransactionResponse | null)[]>;\n\n  /**\n   * Fetch transaction details for a batch of confirmed transactions.\n   * Similar to {@link getParsedTransactions} but returns a {@link\n   * VersionedTransactionResponse}.\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  async getTransactions(\n    signatures: TransactionSignature[],\n    commitmentOrConfig: GetVersionedTransactionConfig | Finality,\n  ): Promise<(VersionedTransactionResponse | null)[]> {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const batch = signatures.map(signature => {\n      const args = this._buildArgsAtLeastConfirmed(\n        [signature],\n        commitment as Finality,\n        undefined /* encoding */,\n        config,\n      );\n      return {\n        methodName: 'getTransaction',\n        args,\n      };\n    });\n\n    const unsafeRes = await this._rpcBatchRequest(batch);\n    const res = unsafeRes.map((unsafeRes: any) => {\n      const res = create(unsafeRes, GetTransactionRpcResult);\n      if ('error' in res) {\n        throw new SolanaJSONRPCError(res.error, 'failed to get transactions');\n      }\n      const result = res.result;\n      if (!result) return result;\n\n      return {\n        ...result,\n        transaction: {\n          ...result.transaction,\n          message: versionedMessageFromResponse(\n            result.version,\n            result.transaction.message,\n          ),\n        },\n      };\n    });\n\n    return res;\n  }\n\n  /**\n   * Fetch a list of Transactions and transaction statuses from the cluster\n   * for a confirmed block.\n   *\n   * @deprecated Deprecated since RPC v1.7.0. Please use {@link getBlock} instead.\n   */\n  async getConfirmedBlock(\n    slot: number,\n    commitment?: Finality,\n  ): Promise<ConfirmedBlock> {\n    const args = this._buildArgsAtLeastConfirmed([slot], commitment);\n    const unsafeRes = await this._rpcRequest('getBlock', args);\n    const res = create(unsafeRes, GetConfirmedBlockRpcResult);\n\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get confirmed block');\n    }\n\n    const result = res.result;\n    if (!result) {\n      throw new Error('Confirmed block ' + slot + ' not found');\n    }\n\n    const block = {\n      ...result,\n      transactions: result.transactions.map(({transaction, meta}) => {\n        const message = new Message(transaction.message);\n        return {\n          meta,\n          transaction: {\n            ...transaction,\n            message,\n          },\n        };\n      }),\n    };\n\n    return {\n      ...block,\n      transactions: block.transactions.map(({transaction, meta}) => {\n        return {\n          meta,\n          transaction: Transaction.populate(\n            transaction.message,\n            transaction.signatures,\n          ),\n        };\n      }),\n    };\n  }\n\n  /**\n   * Fetch confirmed blocks between two slots\n   */\n  async getBlocks(\n    startSlot: number,\n    endSlot?: number,\n    commitment?: Finality,\n  ): Promise<Array<number>> {\n    const args = this._buildArgsAtLeastConfirmed(\n      endSlot !== undefined ? [startSlot, endSlot] : [startSlot],\n      commitment,\n    );\n    const unsafeRes = await this._rpcRequest('getBlocks', args);\n    const res = create(unsafeRes, jsonRpcResult(array(number())));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get blocks');\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch a list of Signatures from the cluster for a block, excluding rewards\n   */\n  async getBlockSignatures(\n    slot: number,\n    commitment?: Finality,\n  ): Promise<BlockSignatures> {\n    const args = this._buildArgsAtLeastConfirmed(\n      [slot],\n      commitment,\n      undefined,\n      {\n        transactionDetails: 'signatures',\n        rewards: false,\n      },\n    );\n    const unsafeRes = await this._rpcRequest('getBlock', args);\n    const res = create(unsafeRes, GetBlockSignaturesRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get block');\n    }\n    const result = res.result;\n    if (!result) {\n      throw new Error('Block ' + slot + ' not found');\n    }\n    return result;\n  }\n\n  /**\n   * Fetch a list of Signatures from the cluster for a confirmed block, excluding rewards\n   *\n   * @deprecated Deprecated since RPC v1.7.0. Please use {@link getBlockSignatures} instead.\n   */\n  async getConfirmedBlockSignatures(\n    slot: number,\n    commitment?: Finality,\n  ): Promise<BlockSignatures> {\n    const args = this._buildArgsAtLeastConfirmed(\n      [slot],\n      commitment,\n      undefined,\n      {\n        transactionDetails: 'signatures',\n        rewards: false,\n      },\n    );\n    const unsafeRes = await this._rpcRequest('getBlock', args);\n    const res = create(unsafeRes, GetBlockSignaturesRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get confirmed block');\n    }\n    const result = res.result;\n    if (!result) {\n      throw new Error('Confirmed block ' + slot + ' not found');\n    }\n    return result;\n  }\n\n  /**\n   * Fetch a transaction details for a confirmed transaction\n   *\n   * @deprecated Deprecated since RPC v1.7.0. Please use {@link getTransaction} instead.\n   */\n  async getConfirmedTransaction(\n    signature: TransactionSignature,\n    commitment?: Finality,\n  ): Promise<ConfirmedTransaction | null> {\n    const args = this._buildArgsAtLeastConfirmed([signature], commitment);\n    const unsafeRes = await this._rpcRequest('getTransaction', args);\n    const res = create(unsafeRes, GetTransactionRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(res.error, 'failed to get transaction');\n    }\n\n    const result = res.result;\n    if (!result) return result;\n\n    const message = new Message(result.transaction.message);\n    const signatures = result.transaction.signatures;\n    return {\n      ...result,\n      transaction: Transaction.populate(message, signatures),\n    };\n  }\n\n  /**\n   * Fetch parsed transaction details for a confirmed transaction\n   *\n   * @deprecated Deprecated since RPC v1.7.0. Please use {@link getParsedTransaction} instead.\n   */\n  async getParsedConfirmedTransaction(\n    signature: TransactionSignature,\n    commitment?: Finality,\n  ): Promise<ParsedConfirmedTransaction | null> {\n    const args = this._buildArgsAtLeastConfirmed(\n      [signature],\n      commitment,\n      'jsonParsed',\n    );\n    const unsafeRes = await this._rpcRequest('getTransaction', args);\n    const res = create(unsafeRes, GetParsedTransactionRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get confirmed transaction',\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Fetch parsed transaction details for a batch of confirmed transactions\n   *\n   * @deprecated Deprecated since RPC v1.7.0. Please use {@link getParsedTransactions} instead.\n   */\n  async getParsedConfirmedTransactions(\n    signatures: TransactionSignature[],\n    commitment?: Finality,\n  ): Promise<(ParsedConfirmedTransaction | null)[]> {\n    const batch = signatures.map(signature => {\n      const args = this._buildArgsAtLeastConfirmed(\n        [signature],\n        commitment,\n        'jsonParsed',\n      );\n      return {\n        methodName: 'getTransaction',\n        args,\n      };\n    });\n\n    const unsafeRes = await this._rpcBatchRequest(batch);\n    const res = unsafeRes.map((unsafeRes: any) => {\n      const res = create(unsafeRes, GetParsedTransactionRpcResult);\n      if ('error' in res) {\n        throw new SolanaJSONRPCError(\n          res.error,\n          'failed to get confirmed transactions',\n        );\n      }\n      return res.result;\n    });\n\n    return res;\n  }\n\n  /**\n   * Fetch a list of all the confirmed signatures for transactions involving an address\n   * within a specified slot range. Max range allowed is 10,000 slots.\n   *\n   * @deprecated Deprecated since RPC v1.3. Please use {@link getConfirmedSignaturesForAddress2} instead.\n   *\n   * @param address queried address\n   * @param startSlot start slot, inclusive\n   * @param endSlot end slot, inclusive\n   */\n  async getConfirmedSignaturesForAddress(\n    address: PublicKey,\n    startSlot: number,\n    endSlot: number,\n  ): Promise<Array<TransactionSignature>> {\n    let options: any = {};\n\n    let firstAvailableBlock = await this.getFirstAvailableBlock();\n    while (!('until' in options)) {\n      startSlot--;\n      if (startSlot <= 0 || startSlot < firstAvailableBlock) {\n        break;\n      }\n\n      try {\n        const block = await this.getConfirmedBlockSignatures(\n          startSlot,\n          'finalized',\n        );\n        if (block.signatures.length > 0) {\n          options.until =\n            block.signatures[block.signatures.length - 1].toString();\n        }\n      } catch (err) {\n        if (err instanceof Error && err.message.includes('skipped')) {\n          continue;\n        } else {\n          throw err;\n        }\n      }\n    }\n\n    let highestConfirmedRoot = await this.getSlot('finalized');\n    while (!('before' in options)) {\n      endSlot++;\n      if (endSlot > highestConfirmedRoot) {\n        break;\n      }\n\n      try {\n        const block = await this.getConfirmedBlockSignatures(endSlot);\n        if (block.signatures.length > 0) {\n          options.before =\n            block.signatures[block.signatures.length - 1].toString();\n        }\n      } catch (err) {\n        if (err instanceof Error && err.message.includes('skipped')) {\n          continue;\n        } else {\n          throw err;\n        }\n      }\n    }\n\n    const confirmedSignatureInfo = await this.getConfirmedSignaturesForAddress2(\n      address,\n      options,\n    );\n    return confirmedSignatureInfo.map(info => info.signature);\n  }\n\n  /**\n   * Returns confirmed signatures for transactions involving an\n   * address backwards in time from the provided signature or most recent confirmed block\n   *\n   * @deprecated Deprecated since RPC v1.7.0. Please use {@link getSignaturesForAddress} instead.\n   */\n  async getConfirmedSignaturesForAddress2(\n    address: PublicKey,\n    options?: ConfirmedSignaturesForAddress2Options,\n    commitment?: Finality,\n  ): Promise<Array<ConfirmedSignatureInfo>> {\n    const args = this._buildArgsAtLeastConfirmed(\n      [address.toBase58()],\n      commitment,\n      undefined,\n      options,\n    );\n    const unsafeRes = await this._rpcRequest(\n      'getConfirmedSignaturesForAddress2',\n      args,\n    );\n    const res = create(unsafeRes, GetConfirmedSignaturesForAddress2RpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get confirmed signatures for address',\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Returns confirmed signatures for transactions involving an\n   * address backwards in time from the provided signature or most recent confirmed block\n   *\n   *\n   * @param address queried address\n   * @param options\n   */\n  async getSignaturesForAddress(\n    address: PublicKey,\n    options?: SignaturesForAddressOptions,\n    commitment?: Finality,\n  ): Promise<Array<ConfirmedSignatureInfo>> {\n    const args = this._buildArgsAtLeastConfirmed(\n      [address.toBase58()],\n      commitment,\n      undefined,\n      options,\n    );\n    const unsafeRes = await this._rpcRequest('getSignaturesForAddress', args);\n    const res = create(unsafeRes, GetSignaturesForAddressRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        'failed to get signatures for address',\n      );\n    }\n    return res.result;\n  }\n\n  async getAddressLookupTable(\n    accountKey: PublicKey,\n    config?: GetAccountInfoConfig,\n  ): Promise<RpcResponseAndContext<AddressLookupTableAccount | null>> {\n    const {context, value: accountInfo} = await this.getAccountInfoAndContext(\n      accountKey,\n      config,\n    );\n\n    let value = null;\n    if (accountInfo !== null) {\n      value = new AddressLookupTableAccount({\n        key: accountKey,\n        state: AddressLookupTableAccount.deserialize(accountInfo.data),\n      });\n    }\n\n    return {\n      context,\n      value,\n    };\n  }\n\n  /**\n   * Fetch the contents of a Nonce account from the cluster, return with context\n   */\n  async getNonceAndContext(\n    nonceAccount: PublicKey,\n    commitmentOrConfig?: Commitment | GetNonceAndContextConfig,\n  ): Promise<RpcResponseAndContext<NonceAccount | null>> {\n    const {context, value: accountInfo} = await this.getAccountInfoAndContext(\n      nonceAccount,\n      commitmentOrConfig,\n    );\n\n    let value = null;\n    if (accountInfo !== null) {\n      value = NonceAccount.fromAccountData(accountInfo.data);\n    }\n\n    return {\n      context,\n      value,\n    };\n  }\n\n  /**\n   * Fetch the contents of a Nonce account from the cluster\n   */\n  async getNonce(\n    nonceAccount: PublicKey,\n    commitmentOrConfig?: Commitment | GetNonceConfig,\n  ): Promise<NonceAccount | null> {\n    return await this.getNonceAndContext(nonceAccount, commitmentOrConfig)\n      .then(x => x.value)\n      .catch(e => {\n        throw new Error(\n          'failed to get nonce for account ' +\n            nonceAccount.toBase58() +\n            ': ' +\n            e,\n        );\n      });\n  }\n\n  /**\n   * Request an allocation of lamports to the specified address\n   *\n   * ```typescript\n   * import { Connection, PublicKey, LAMPORTS_PER_SOL } from \"@solana/web3.js\";\n   *\n   * (async () => {\n   *   const connection = new Connection(\"https://api.testnet.solana.com\", \"confirmed\");\n   *   const myAddress = new PublicKey(\"2nr1bHFT86W9tGnyvmYW4vcHKsQB3sVQfnddasz4kExM\");\n   *   const signature = await connection.requestAirdrop(myAddress, LAMPORTS_PER_SOL);\n   *   await connection.confirmTransaction(signature);\n   * })();\n   * ```\n   */\n  async requestAirdrop(\n    to: PublicKey,\n    lamports: number,\n  ): Promise<TransactionSignature> {\n    const unsafeRes = await this._rpcRequest('requestAirdrop', [\n      to.toBase58(),\n      lamports,\n    ]);\n    const res = create(unsafeRes, RequestAirdropRpcResult);\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `airdrop to ${to.toBase58()} failed`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * @internal\n   */\n  async _blockhashWithExpiryBlockHeight(\n    disableCache: boolean,\n  ): Promise<BlockhashWithExpiryBlockHeight> {\n    if (!disableCache) {\n      // Wait for polling to finish\n      while (this._pollingBlockhash) {\n        await sleep(100);\n      }\n      const timeSinceFetch = Date.now() - this._blockhashInfo.lastFetch;\n      const expired = timeSinceFetch >= BLOCKHASH_CACHE_TIMEOUT_MS;\n      if (this._blockhashInfo.latestBlockhash !== null && !expired) {\n        return this._blockhashInfo.latestBlockhash;\n      }\n    }\n\n    return await this._pollNewBlockhash();\n  }\n\n  /**\n   * @internal\n   */\n  async _pollNewBlockhash(): Promise<BlockhashWithExpiryBlockHeight> {\n    this._pollingBlockhash = true;\n    try {\n      const startTime = Date.now();\n      const cachedLatestBlockhash = this._blockhashInfo.latestBlockhash;\n      const cachedBlockhash = cachedLatestBlockhash\n        ? cachedLatestBlockhash.blockhash\n        : null;\n      for (let i = 0; i < 50; i++) {\n        const latestBlockhash = await this.getLatestBlockhash('finalized');\n\n        if (cachedBlockhash !== latestBlockhash.blockhash) {\n          this._blockhashInfo = {\n            latestBlockhash,\n            lastFetch: Date.now(),\n            transactionSignatures: [],\n            simulatedSignatures: [],\n          };\n          return latestBlockhash;\n        }\n\n        // Sleep for approximately half a slot\n        await sleep(MS_PER_SLOT / 2);\n      }\n\n      throw new Error(\n        `Unable to obtain a new blockhash after ${Date.now() - startTime}ms`,\n      );\n    } finally {\n      this._pollingBlockhash = false;\n    }\n  }\n\n  /**\n   * get the stake minimum delegation\n   */\n  async getStakeMinimumDelegation(\n    config?: GetStakeMinimumDelegationConfig,\n  ): Promise<RpcResponseAndContext<number>> {\n    const {commitment, config: configArg} = extractCommitmentFromConfig(config);\n    const args = this._buildArgs([], commitment, 'base64', configArg);\n    const unsafeRes = await this._rpcRequest('getStakeMinimumDelegation', args);\n    const res = create(unsafeRes, jsonRpcResultAndContext(number()));\n    if ('error' in res) {\n      throw new SolanaJSONRPCError(\n        res.error,\n        `failed to get stake minimum delegation`,\n      );\n    }\n    return res.result;\n  }\n\n  /**\n   * Simulate a transaction\n   *\n   * @deprecated Instead, call {@link simulateTransaction} with {@link\n   * VersionedTransaction} and {@link SimulateTransactionConfig} parameters\n   */\n  simulateTransaction(\n    transactionOrMessage: Transaction | Message,\n    signers?: Array<Signer>,\n    includeAccounts?: boolean | Array<PublicKey>,\n  ): Promise<RpcResponseAndContext<SimulatedTransactionResponse>>;\n\n  /**\n   * Simulate a transaction\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  simulateTransaction(\n    transaction: VersionedTransaction,\n    config?: SimulateTransactionConfig,\n  ): Promise<RpcResponseAndContext<SimulatedTransactionResponse>>;\n\n  /**\n   * Simulate a transaction\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  async simulateTransaction(\n    transactionOrMessage: VersionedTransaction | Transaction | Message,\n    configOrSigners?: SimulateTransactionConfig | Array<Signer>,\n    includeAccounts?: boolean | Array<PublicKey>,\n  ): Promise<RpcResponseAndContext<SimulatedTransactionResponse>> {\n    if ('message' in transactionOrMessage) {\n      const versionedTx = transactionOrMessage;\n      const wireTransaction = versionedTx.serialize();\n      const encodedTransaction =\n        Buffer.from(wireTransaction).toString('base64');\n      if (Array.isArray(configOrSigners) || includeAccounts !== undefined) {\n        throw new Error('Invalid arguments');\n      }\n\n      const config: any = configOrSigners || {};\n      config.encoding = 'base64';\n      if (!('commitment' in config)) {\n        config.commitment = this.commitment;\n      }\n\n      if (\n        configOrSigners &&\n        typeof configOrSigners === 'object' &&\n        'innerInstructions' in configOrSigners\n      ) {\n        config.innerInstructions = configOrSigners.innerInstructions;\n      }\n\n      const args = [encodedTransaction, config];\n      const unsafeRes = await this._rpcRequest('simulateTransaction', args);\n      const res = create(unsafeRes, SimulatedTransactionResponseStruct);\n      if ('error' in res) {\n        throw new Error('failed to simulate transaction: ' + res.error.message);\n      }\n      return res.result;\n    }\n\n    let transaction;\n    if (transactionOrMessage instanceof Transaction) {\n      let originalTx: Transaction = transactionOrMessage;\n      transaction = new Transaction();\n      transaction.feePayer = originalTx.feePayer;\n      transaction.instructions = transactionOrMessage.instructions;\n      transaction.nonceInfo = originalTx.nonceInfo;\n      transaction.signatures = originalTx.signatures;\n    } else {\n      transaction = Transaction.populate(transactionOrMessage);\n      // HACK: this function relies on mutating the populated transaction\n      transaction._message = transaction._json = undefined;\n    }\n\n    if (configOrSigners !== undefined && !Array.isArray(configOrSigners)) {\n      throw new Error('Invalid arguments');\n    }\n\n    const signers = configOrSigners;\n    if (transaction.nonceInfo && signers) {\n      transaction.sign(...signers);\n    } else {\n      let disableCache = this._disableBlockhashCaching;\n      for (;;) {\n        const latestBlockhash =\n          await this._blockhashWithExpiryBlockHeight(disableCache);\n        transaction.lastValidBlockHeight = latestBlockhash.lastValidBlockHeight;\n        transaction.recentBlockhash = latestBlockhash.blockhash;\n\n        if (!signers) break;\n\n        transaction.sign(...signers);\n        if (!transaction.signature) {\n          throw new Error('!signature'); // should never happen\n        }\n\n        const signature = transaction.signature.toString('base64');\n        if (\n          !this._blockhashInfo.simulatedSignatures.includes(signature) &&\n          !this._blockhashInfo.transactionSignatures.includes(signature)\n        ) {\n          // The signature of this transaction has not been seen before with the\n          // current recentBlockhash, all done. Let's break\n          this._blockhashInfo.simulatedSignatures.push(signature);\n          break;\n        } else {\n          // This transaction would be treated as duplicate (its derived signature\n          // matched to one of already recorded signatures).\n          // So, we must fetch a new blockhash for a different signature by disabling\n          // our cache not to wait for the cache expiration (BLOCKHASH_CACHE_TIMEOUT_MS).\n          disableCache = true;\n        }\n      }\n    }\n\n    const message = transaction._compile();\n    const signData = message.serialize();\n    const wireTransaction = transaction._serialize(signData);\n    const encodedTransaction = wireTransaction.toString('base64');\n    const config: any = {\n      encoding: 'base64',\n      commitment: this.commitment,\n    };\n\n    if (includeAccounts) {\n      const addresses = (\n        Array.isArray(includeAccounts)\n          ? includeAccounts\n          : message.nonProgramIds()\n      ).map(key => key.toBase58());\n\n      config['accounts'] = {\n        encoding: 'base64',\n        addresses,\n      };\n    }\n\n    if (signers) {\n      config.sigVerify = true;\n    }\n\n    if (\n      configOrSigners &&\n      typeof configOrSigners === 'object' &&\n      'innerInstructions' in configOrSigners\n    ) {\n      config.innerInstructions = configOrSigners.innerInstructions;\n    }\n\n    const args = [encodedTransaction, config];\n    const unsafeRes = await this._rpcRequest('simulateTransaction', args);\n    const res = create(unsafeRes, SimulatedTransactionResponseStruct);\n    if ('error' in res) {\n      let logs;\n      if ('data' in res.error) {\n        logs = res.error.data.logs;\n        if (logs && Array.isArray(logs)) {\n          const traceIndent = '\\n    ';\n          const logTrace = traceIndent + logs.join(traceIndent);\n          console.error(res.error.message, logTrace);\n        }\n      }\n\n      throw new SendTransactionError({\n        action: 'simulate',\n        signature: '',\n        transactionMessage: res.error.message,\n        logs: logs,\n      });\n    }\n    return res.result;\n  }\n\n  /**\n   * Sign and send a transaction\n   *\n   * @deprecated Instead, call {@link sendTransaction} with a {@link\n   * VersionedTransaction}\n   */\n  sendTransaction(\n    transaction: Transaction,\n    signers: Array<Signer>,\n    options?: SendOptions,\n  ): Promise<TransactionSignature>;\n\n  /**\n   * Send a signed transaction\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  sendTransaction(\n    transaction: VersionedTransaction,\n    options?: SendOptions,\n  ): Promise<TransactionSignature>;\n\n  /**\n   * Sign and send a transaction\n   */\n  // eslint-disable-next-line no-dupe-class-members\n  async sendTransaction(\n    transaction: VersionedTransaction | Transaction,\n    signersOrOptions?: Array<Signer> | SendOptions,\n    options?: SendOptions,\n  ): Promise<TransactionSignature> {\n    if ('version' in transaction) {\n      if (signersOrOptions && Array.isArray(signersOrOptions)) {\n        throw new Error('Invalid arguments');\n      }\n\n      const wireTransaction = transaction.serialize();\n      return await this.sendRawTransaction(wireTransaction, signersOrOptions);\n    }\n\n    if (signersOrOptions === undefined || !Array.isArray(signersOrOptions)) {\n      throw new Error('Invalid arguments');\n    }\n\n    const signers = signersOrOptions;\n    if (transaction.nonceInfo) {\n      transaction.sign(...signers);\n    } else {\n      let disableCache = this._disableBlockhashCaching;\n      for (;;) {\n        const latestBlockhash =\n          await this._blockhashWithExpiryBlockHeight(disableCache);\n        transaction.lastValidBlockHeight = latestBlockhash.lastValidBlockHeight;\n        transaction.recentBlockhash = latestBlockhash.blockhash;\n        transaction.sign(...signers);\n        if (!transaction.signature) {\n          throw new Error('!signature'); // should never happen\n        }\n\n        const signature = transaction.signature.toString('base64');\n        if (!this._blockhashInfo.transactionSignatures.includes(signature)) {\n          // The signature of this transaction has not been seen before with the\n          // current recentBlockhash, all done. Let's break\n          this._blockhashInfo.transactionSignatures.push(signature);\n          break;\n        } else {\n          // This transaction would be treated as duplicate (its derived signature\n          // matched to one of already recorded signatures).\n          // So, we must fetch a new blockhash for a different signature by disabling\n          // our cache not to wait for the cache expiration (BLOCKHASH_CACHE_TIMEOUT_MS).\n          disableCache = true;\n        }\n      }\n    }\n\n    const wireTransaction = transaction.serialize();\n    return await this.sendRawTransaction(wireTransaction, options);\n  }\n\n  /**\n   * Send a transaction that has already been signed and serialized into the\n   * wire format\n   */\n  async sendRawTransaction(\n    rawTransaction: Buffer | Uint8Array | Array<number>,\n    options?: SendOptions,\n  ): Promise<TransactionSignature> {\n    const encodedTransaction = toBuffer(rawTransaction).toString('base64');\n    const result = await this.sendEncodedTransaction(\n      encodedTransaction,\n      options,\n    );\n    return result;\n  }\n\n  /**\n   * Send a transaction that has already been signed, serialized into the\n   * wire format, and encoded as a base64 string\n   */\n  async sendEncodedTransaction(\n    encodedTransaction: string,\n    options?: SendOptions,\n  ): Promise<TransactionSignature> {\n    const config: any = {encoding: 'base64'};\n    const skipPreflight = options && options.skipPreflight;\n    const preflightCommitment =\n      skipPreflight === true\n        ? 'processed' // FIXME Remove when https://github.com/anza-xyz/agave/pull/483 is deployed.\n        : (options && options.preflightCommitment) || this.commitment;\n\n    if (options && options.maxRetries != null) {\n      config.maxRetries = options.maxRetries;\n    }\n    if (options && options.minContextSlot != null) {\n      config.minContextSlot = options.minContextSlot;\n    }\n    if (skipPreflight) {\n      config.skipPreflight = skipPreflight;\n    }\n    if (preflightCommitment) {\n      config.preflightCommitment = preflightCommitment;\n    }\n\n    const args = [encodedTransaction, config];\n    const unsafeRes = await this._rpcRequest('sendTransaction', args);\n    const res = create(unsafeRes, SendTransactionRpcResult);\n    if ('error' in res) {\n      let logs = undefined;\n      if ('data' in res.error) {\n        logs = res.error.data.logs;\n      }\n\n      throw new SendTransactionError({\n        action: skipPreflight ? 'send' : 'simulate',\n        signature: '',\n        transactionMessage: res.error.message,\n        logs: logs,\n      });\n    }\n    return res.result;\n  }\n\n  /**\n   * @internal\n   */\n  _wsOnOpen() {\n    this._rpcWebSocketConnected = true;\n    this._rpcWebSocketHeartbeat = setInterval(() => {\n      // Ping server every 5s to prevent idle timeouts\n      (async () => {\n        try {\n          await this._rpcWebSocket.notify('ping');\n          // eslint-disable-next-line no-empty\n        } catch {}\n      })();\n    }, 5000);\n    this._updateSubscriptions();\n  }\n\n  /**\n   * @internal\n   */\n  _wsOnError(err: Error) {\n    this._rpcWebSocketConnected = false;\n    console.error('ws error:', err.message);\n  }\n\n  /**\n   * @internal\n   */\n  _wsOnClose(code: number) {\n    this._rpcWebSocketConnected = false;\n    this._rpcWebSocketGeneration =\n      (this._rpcWebSocketGeneration + 1) % Number.MAX_SAFE_INTEGER;\n    if (this._rpcWebSocketIdleTimeout) {\n      clearTimeout(this._rpcWebSocketIdleTimeout);\n      this._rpcWebSocketIdleTimeout = null;\n    }\n    if (this._rpcWebSocketHeartbeat) {\n      clearInterval(this._rpcWebSocketHeartbeat);\n      this._rpcWebSocketHeartbeat = null;\n    }\n\n    if (code === 1000) {\n      // explicit close, check if any subscriptions have been made since close\n      this._updateSubscriptions();\n      return;\n    }\n\n    // implicit close, prepare subscriptions for auto-reconnect\n    this._subscriptionCallbacksByServerSubscriptionId = {};\n    Object.entries(\n      this._subscriptionsByHash as Record<SubscriptionConfigHash, Subscription>,\n    ).forEach(([hash, subscription]) => {\n      this._setSubscription(hash, {\n        ...subscription,\n        state: 'pending',\n      });\n    });\n  }\n\n  /**\n   * @internal\n   */\n  private _setSubscription(\n    hash: SubscriptionConfigHash,\n    nextSubscription: Subscription,\n  ) {\n    const prevState = this._subscriptionsByHash[hash]?.state;\n    this._subscriptionsByHash[hash] = nextSubscription;\n    if (prevState !== nextSubscription.state) {\n      const stateChangeCallbacks =\n        this._subscriptionStateChangeCallbacksByHash[hash];\n      if (stateChangeCallbacks) {\n        stateChangeCallbacks.forEach(cb => {\n          try {\n            cb(nextSubscription.state);\n            // eslint-disable-next-line no-empty\n          } catch {}\n        });\n      }\n    }\n  }\n\n  /**\n   * @internal\n   */\n  private _onSubscriptionStateChange(\n    clientSubscriptionId: ClientSubscriptionId,\n    callback: SubscriptionStateChangeCallback,\n  ): SubscriptionStateChangeDisposeFn {\n    const hash =\n      this._subscriptionHashByClientSubscriptionId[clientSubscriptionId];\n    if (hash == null) {\n      return () => {};\n    }\n    const stateChangeCallbacks = (this._subscriptionStateChangeCallbacksByHash[\n      hash\n    ] ||= new Set());\n    stateChangeCallbacks.add(callback);\n    return () => {\n      stateChangeCallbacks.delete(callback);\n      if (stateChangeCallbacks.size === 0) {\n        delete this._subscriptionStateChangeCallbacksByHash[hash];\n      }\n    };\n  }\n\n  /**\n   * @internal\n   */\n  async _updateSubscriptions() {\n    if (Object.keys(this._subscriptionsByHash).length === 0) {\n      if (this._rpcWebSocketConnected) {\n        this._rpcWebSocketConnected = false;\n        this._rpcWebSocketIdleTimeout = setTimeout(() => {\n          this._rpcWebSocketIdleTimeout = null;\n          try {\n            this._rpcWebSocket.close();\n          } catch (err) {\n            // swallow error if socket has already been closed.\n            if (err instanceof Error) {\n              console.log(\n                `Error when closing socket connection: ${err.message}`,\n              );\n            }\n          }\n        }, 500);\n      }\n      return;\n    }\n\n    if (this._rpcWebSocketIdleTimeout !== null) {\n      clearTimeout(this._rpcWebSocketIdleTimeout);\n      this._rpcWebSocketIdleTimeout = null;\n      this._rpcWebSocketConnected = true;\n    }\n\n    if (!this._rpcWebSocketConnected) {\n      this._rpcWebSocket.connect();\n      return;\n    }\n\n    const activeWebSocketGeneration = this._rpcWebSocketGeneration;\n    const isCurrentConnectionStillActive = () => {\n      return activeWebSocketGeneration === this._rpcWebSocketGeneration;\n    };\n\n    await Promise.all(\n      // Don't be tempted to change this to `Object.entries`. We call\n      // `_updateSubscriptions` recursively when processing the state,\n      // so it's important that we look up the *current* version of\n      // each subscription, every time we process a hash.\n      Object.keys(this._subscriptionsByHash).map(async hash => {\n        const subscription = this._subscriptionsByHash[hash];\n        if (subscription === undefined) {\n          // This entry has since been deleted. Skip.\n          return;\n        }\n        switch (subscription.state) {\n          case 'pending':\n          case 'unsubscribed':\n            if (subscription.callbacks.size === 0) {\n              /**\n               * You can end up here when:\n               *\n               * - a subscription has recently unsubscribed\n               *   without having new callbacks added to it\n               *   while the unsubscribe was in flight, or\n               * - when a pending subscription has its\n               *   listeners removed before a request was\n               *   sent to the server.\n               *\n               * Being that nobody is interested in this\n               * subscription any longer, delete it.\n               */\n              delete this._subscriptionsByHash[hash];\n              if (subscription.state === 'unsubscribed') {\n                delete this._subscriptionCallbacksByServerSubscriptionId[\n                  subscription.serverSubscriptionId\n                ];\n              }\n              await this._updateSubscriptions();\n              return;\n            }\n            await (async () => {\n              const {args, method} = subscription;\n              try {\n                this._setSubscription(hash, {\n                  ...subscription,\n                  state: 'subscribing',\n                });\n                const serverSubscriptionId: ServerSubscriptionId =\n                  (await this._rpcWebSocket.call(method, args)) as number;\n                this._setSubscription(hash, {\n                  ...subscription,\n                  serverSubscriptionId,\n                  state: 'subscribed',\n                });\n                this._subscriptionCallbacksByServerSubscriptionId[\n                  serverSubscriptionId\n                ] = subscription.callbacks;\n                await this._updateSubscriptions();\n              } catch (e) {\n                console.error(\n                  `Received ${e instanceof Error ? '' : 'JSON-RPC '}error calling \\`${method}\\``,\n                  {\n                    args,\n                    error: e,\n                  },\n                );\n                if (!isCurrentConnectionStillActive()) {\n                  return;\n                }\n                // TODO: Maybe add an 'errored' state or a retry limit?\n                this._setSubscription(hash, {\n                  ...subscription,\n                  state: 'pending',\n                });\n                await this._updateSubscriptions();\n              }\n            })();\n            break;\n          case 'subscribed':\n            if (subscription.callbacks.size === 0) {\n              // By the time we successfully set up a subscription\n              // with the server, the client stopped caring about it.\n              // Tear it down now.\n              await (async () => {\n                const {serverSubscriptionId, unsubscribeMethod} = subscription;\n                if (\n                  this._subscriptionsAutoDisposedByRpc.has(serverSubscriptionId)\n                ) {\n                  /**\n                   * Special case.\n                   * If we're dealing with a subscription that has been auto-\n                   * disposed by the RPC, then we can skip the RPC call to\n                   * tear down the subscription here.\n                   *\n                   * NOTE: There is a proposal to eliminate this special case, here:\n                   * https://github.com/solana-labs/solana/issues/18892\n                   */\n                  this._subscriptionsAutoDisposedByRpc.delete(\n                    serverSubscriptionId,\n                  );\n                } else {\n                  this._setSubscription(hash, {\n                    ...subscription,\n                    state: 'unsubscribing',\n                  });\n                  this._setSubscription(hash, {\n                    ...subscription,\n                    state: 'unsubscribing',\n                  });\n                  try {\n                    await this._rpcWebSocket.call(unsubscribeMethod, [\n                      serverSubscriptionId,\n                    ]);\n                  } catch (e) {\n                    if (e instanceof Error) {\n                      console.error(`${unsubscribeMethod} error:`, e.message);\n                    }\n                    if (!isCurrentConnectionStillActive()) {\n                      return;\n                    }\n                    // TODO: Maybe add an 'errored' state or a retry limit?\n                    this._setSubscription(hash, {\n                      ...subscription,\n                      state: 'subscribed',\n                    });\n                    await this._updateSubscriptions();\n                    return;\n                  }\n                }\n                this._setSubscription(hash, {\n                  ...subscription,\n                  state: 'unsubscribed',\n                });\n                await this._updateSubscriptions();\n              })();\n            }\n            break;\n          case 'subscribing':\n          case 'unsubscribing':\n            break;\n        }\n      }),\n    );\n  }\n\n  /**\n   * @internal\n   */\n  private _handleServerNotification<\n    TCallback extends SubscriptionConfig['callback'],\n  >(\n    serverSubscriptionId: ServerSubscriptionId,\n    callbackArgs: Parameters<TCallback>,\n  ): void {\n    const callbacks =\n      this._subscriptionCallbacksByServerSubscriptionId[serverSubscriptionId];\n    if (callbacks === undefined) {\n      return;\n    }\n    callbacks.forEach(cb => {\n      try {\n        cb(\n          // I failed to find a way to convince TypeScript that `cb` is of type\n          // `TCallback` which is certainly compatible with `Parameters<TCallback>`.\n          // See https://github.com/microsoft/TypeScript/issues/47615\n          // @ts-ignore\n          ...callbackArgs,\n        );\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n\n  /**\n   * @internal\n   */\n  _wsOnAccountNotification(notification: object) {\n    const {result, subscription} = create(\n      notification,\n      AccountNotificationResult,\n    );\n    this._handleServerNotification<AccountChangeCallback>(subscription, [\n      result.value,\n      result.context,\n    ]);\n  }\n\n  /**\n   * @internal\n   */\n  private _makeSubscription(\n    subscriptionConfig: SubscriptionConfig,\n    /**\n     * When preparing `args` for a call to `_makeSubscription`, be sure\n     * to carefully apply a default `commitment` property, if necessary.\n     *\n     * - If the user supplied a `commitment` use that.\n     * - Otherwise, if the `Connection::commitment` is set, use that.\n     * - Otherwise, set it to the RPC server default: `finalized`.\n     *\n     * This is extremely important to ensure that these two fundamentally\n     * identical subscriptions produce the same identifying hash:\n     *\n     * - A subscription made without specifying a commitment.\n     * - A subscription made where the commitment specified is the same\n     *   as the default applied to the subscription above.\n     *\n     * Example; these two subscriptions must produce the same hash:\n     *\n     * - An `accountSubscribe` subscription for `'PUBKEY'`\n     * - An `accountSubscribe` subscription for `'PUBKEY'` with commitment\n     *   `'finalized'`.\n     *\n     * See the 'making a subscription with defaulted params omitted' test\n     * in `connection-subscriptions.ts` for more.\n     */\n    args: IWSRequestParams,\n  ): ClientSubscriptionId {\n    const clientSubscriptionId = this._nextClientSubscriptionId++;\n    const hash = fastStableStringify([subscriptionConfig.method, args]);\n    const existingSubscription = this._subscriptionsByHash[hash];\n    if (existingSubscription === undefined) {\n      this._subscriptionsByHash[hash] = {\n        ...subscriptionConfig,\n        args,\n        callbacks: new Set([subscriptionConfig.callback]),\n        state: 'pending',\n      };\n    } else {\n      existingSubscription.callbacks.add(subscriptionConfig.callback);\n    }\n    this._subscriptionHashByClientSubscriptionId[clientSubscriptionId] = hash;\n    this._subscriptionDisposeFunctionsByClientSubscriptionId[\n      clientSubscriptionId\n    ] = async () => {\n      delete this._subscriptionDisposeFunctionsByClientSubscriptionId[\n        clientSubscriptionId\n      ];\n      delete this._subscriptionHashByClientSubscriptionId[clientSubscriptionId];\n      const subscription = this._subscriptionsByHash[hash];\n      assert(\n        subscription !== undefined,\n        `Could not find a \\`Subscription\\` when tearing down client subscription #${clientSubscriptionId}`,\n      );\n      subscription.callbacks.delete(subscriptionConfig.callback);\n      await this._updateSubscriptions();\n    };\n    this._updateSubscriptions();\n    return clientSubscriptionId;\n  }\n\n  /**\n   * Register a callback to be invoked whenever the specified account changes\n   *\n   * @param publicKey Public key of the account to monitor\n   * @param callback Function to invoke whenever the account is changed\n   * @param config\n   * @return subscription id\n   */\n  onAccountChange(\n    publicKey: PublicKey,\n    callback: AccountChangeCallback,\n    config?: AccountSubscriptionConfig,\n  ): ClientSubscriptionId;\n  /** @deprecated Instead, pass in an {@link AccountSubscriptionConfig} */\n  // eslint-disable-next-line no-dupe-class-members\n  onAccountChange(\n    publicKey: PublicKey,\n    callback: AccountChangeCallback,\n    commitment?: Commitment,\n  ): ClientSubscriptionId;\n  // eslint-disable-next-line no-dupe-class-members\n  onAccountChange(\n    publicKey: PublicKey,\n    callback: AccountChangeCallback,\n    commitmentOrConfig?: Commitment | AccountSubscriptionConfig,\n  ): ClientSubscriptionId {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [publicKey.toBase58()],\n      commitment || this._commitment || 'finalized', // Apply connection/server default.\n      'base64',\n      config,\n    );\n    return this._makeSubscription(\n      {\n        callback,\n        method: 'accountSubscribe',\n        unsubscribeMethod: 'accountUnsubscribe',\n      },\n      args,\n    );\n  }\n\n  /**\n   * Deregister an account notification callback\n   *\n   * @param clientSubscriptionId client subscription id to deregister\n   */\n  async removeAccountChangeListener(\n    clientSubscriptionId: ClientSubscriptionId,\n  ): Promise<void> {\n    await this._unsubscribeClientSubscription(\n      clientSubscriptionId,\n      'account change',\n    );\n  }\n\n  /**\n   * @internal\n   */\n  _wsOnProgramAccountNotification(notification: Object) {\n    const {result, subscription} = create(\n      notification,\n      ProgramAccountNotificationResult,\n    );\n    this._handleServerNotification<ProgramAccountChangeCallback>(subscription, [\n      {\n        accountId: result.value.pubkey,\n        accountInfo: result.value.account,\n      },\n      result.context,\n    ]);\n  }\n\n  /**\n   * Register a callback to be invoked whenever accounts owned by the\n   * specified program change\n   *\n   * @param programId Public key of the program to monitor\n   * @param callback Function to invoke whenever the account is changed\n   * @param config\n   * @return subscription id\n   */\n  onProgramAccountChange(\n    programId: PublicKey,\n    callback: ProgramAccountChangeCallback,\n    config?: ProgramAccountSubscriptionConfig,\n  ): ClientSubscriptionId;\n  /** @deprecated Instead, pass in a {@link ProgramAccountSubscriptionConfig} */\n  // eslint-disable-next-line no-dupe-class-members\n  onProgramAccountChange(\n    programId: PublicKey,\n    callback: ProgramAccountChangeCallback,\n    commitment?: Commitment,\n    filters?: GetProgramAccountsFilter[],\n  ): ClientSubscriptionId;\n  // eslint-disable-next-line no-dupe-class-members\n  onProgramAccountChange(\n    programId: PublicKey,\n    callback: ProgramAccountChangeCallback,\n    commitmentOrConfig?: Commitment | ProgramAccountSubscriptionConfig,\n    maybeFilters?: GetProgramAccountsFilter[],\n  ): ClientSubscriptionId {\n    const {commitment, config} =\n      extractCommitmentFromConfig(commitmentOrConfig);\n    const args = this._buildArgs(\n      [programId.toBase58()],\n      commitment || this._commitment || 'finalized', // Apply connection/server default.\n      'base64' /* encoding */,\n      config\n        ? config\n        : maybeFilters\n          ? {filters: applyDefaultMemcmpEncodingToFilters(maybeFilters)}\n          : undefined /* extra */,\n    );\n    return this._makeSubscription(\n      {\n        callback,\n        method: 'programSubscribe',\n        unsubscribeMethod: 'programUnsubscribe',\n      },\n      args,\n    );\n  }\n\n  /**\n   * Deregister an account notification callback\n   *\n   * @param clientSubscriptionId client subscription id to deregister\n   */\n  async removeProgramAccountChangeListener(\n    clientSubscriptionId: ClientSubscriptionId,\n  ): Promise<void> {\n    await this._unsubscribeClientSubscription(\n      clientSubscriptionId,\n      'program account change',\n    );\n  }\n\n  /**\n   * Registers a callback to be invoked whenever logs are emitted.\n   */\n  onLogs(\n    filter: LogsFilter,\n    callback: LogsCallback,\n    commitment?: Commitment,\n  ): ClientSubscriptionId {\n    const args = this._buildArgs(\n      [typeof filter === 'object' ? {mentions: [filter.toString()]} : filter],\n      commitment || this._commitment || 'finalized', // Apply connection/server default.\n    );\n    return this._makeSubscription(\n      {\n        callback,\n        method: 'logsSubscribe',\n        unsubscribeMethod: 'logsUnsubscribe',\n      },\n      args,\n    );\n  }\n\n  /**\n   * Deregister a logs callback.\n   *\n   * @param clientSubscriptionId client subscription id to deregister.\n   */\n  async removeOnLogsListener(\n    clientSubscriptionId: ClientSubscriptionId,\n  ): Promise<void> {\n    await this._unsubscribeClientSubscription(clientSubscriptionId, 'logs');\n  }\n\n  /**\n   * @internal\n   */\n  _wsOnLogsNotification(notification: Object) {\n    const {result, subscription} = create(notification, LogsNotificationResult);\n    this._handleServerNotification<LogsCallback>(subscription, [\n      result.value,\n      result.context,\n    ]);\n  }\n\n  /**\n   * @internal\n   */\n  _wsOnSlotNotification(notification: Object) {\n    const {result, subscription} = create(notification, SlotNotificationResult);\n    this._handleServerNotification<SlotChangeCallback>(subscription, [result]);\n  }\n\n  /**\n   * Register a callback to be invoked upon slot changes\n   *\n   * @param callback Function to invoke whenever the slot changes\n   * @return subscription id\n   */\n  onSlotChange(callback: SlotChangeCallback): ClientSubscriptionId {\n    return this._makeSubscription(\n      {\n        callback,\n        method: 'slotSubscribe',\n        unsubscribeMethod: 'slotUnsubscribe',\n      },\n      [] /* args */,\n    );\n  }\n\n  /**\n   * Deregister a slot notification callback\n   *\n   * @param clientSubscriptionId client subscription id to deregister\n   */\n  async removeSlotChangeListener(\n    clientSubscriptionId: ClientSubscriptionId,\n  ): Promise<void> {\n    await this._unsubscribeClientSubscription(\n      clientSubscriptionId,\n      'slot change',\n    );\n  }\n\n  /**\n   * @internal\n   */\n  _wsOnSlotUpdatesNotification(notification: Object) {\n    const {result, subscription} = create(\n      notification,\n      SlotUpdateNotificationResult,\n    );\n    this._handleServerNotification<SlotUpdateCallback>(subscription, [result]);\n  }\n\n  /**\n   * Register a callback to be invoked upon slot updates. {@link SlotUpdate}'s\n   * may be useful to track live progress of a cluster.\n   *\n   * @param callback Function to invoke whenever the slot updates\n   * @return subscription id\n   */\n  onSlotUpdate(callback: SlotUpdateCallback): ClientSubscriptionId {\n    return this._makeSubscription(\n      {\n        callback,\n        method: 'slotsUpdatesSubscribe',\n        unsubscribeMethod: 'slotsUpdatesUnsubscribe',\n      },\n      [] /* args */,\n    );\n  }\n\n  /**\n   * Deregister a slot update notification callback\n   *\n   * @param clientSubscriptionId client subscription id to deregister\n   */\n  async removeSlotUpdateListener(\n    clientSubscriptionId: ClientSubscriptionId,\n  ): Promise<void> {\n    await this._unsubscribeClientSubscription(\n      clientSubscriptionId,\n      'slot update',\n    );\n  }\n\n  /**\n   * @internal\n   */\n\n  private async _unsubscribeClientSubscription(\n    clientSubscriptionId: ClientSubscriptionId,\n    subscriptionName: string,\n  ) {\n    const dispose =\n      this._subscriptionDisposeFunctionsByClientSubscriptionId[\n        clientSubscriptionId\n      ];\n    if (dispose) {\n      await dispose();\n    } else {\n      console.warn(\n        'Ignored unsubscribe request because an active subscription with id ' +\n          `\\`${clientSubscriptionId}\\` for '${subscriptionName}' events ` +\n          'could not be found.',\n      );\n    }\n  }\n\n  _buildArgs(\n    args: Array<any>,\n    override?: Commitment,\n    encoding?: 'jsonParsed' | 'base64',\n    extra?: any,\n  ): Array<any> {\n    const commitment = override || this._commitment;\n    if (commitment || encoding || extra) {\n      let options: any = {};\n      if (encoding) {\n        options.encoding = encoding;\n      }\n      if (commitment) {\n        options.commitment = commitment;\n      }\n      if (extra) {\n        options = Object.assign(options, extra);\n      }\n      args.push(options);\n    }\n    return args;\n  }\n\n  /**\n   * @internal\n   */\n  _buildArgsAtLeastConfirmed(\n    args: Array<any>,\n    override?: Finality,\n    encoding?: 'jsonParsed' | 'base64',\n    extra?: any,\n  ): Array<any> {\n    const commitment = override || this._commitment;\n    if (commitment && !['confirmed', 'finalized'].includes(commitment)) {\n      throw new Error(\n        'Using Connection with default commitment: `' +\n          this._commitment +\n          '`, but method requires at least `confirmed`',\n      );\n    }\n    return this._buildArgs(args, override, encoding, extra);\n  }\n\n  /**\n   * @internal\n   */\n  _wsOnSignatureNotification(notification: Object) {\n    const {result, subscription} = create(\n      notification,\n      SignatureNotificationResult,\n    );\n    if (result.value !== 'receivedSignature') {\n      /**\n       * Special case.\n       * After a signature is processed, RPCs automatically dispose of the\n       * subscription on the server side. We need to track which of these\n       * subscriptions have been disposed in such a way, so that we know\n       * whether the client is dealing with a not-yet-processed signature\n       * (in which case we must tear down the server subscription) or an\n       * already-processed signature (in which case the client can simply\n       * clear out the subscription locally without telling the server).\n       *\n       * NOTE: There is a proposal to eliminate this special case, here:\n       * https://github.com/solana-labs/solana/issues/18892\n       */\n      this._subscriptionsAutoDisposedByRpc.add(subscription);\n    }\n    this._handleServerNotification<SignatureSubscriptionCallback>(\n      subscription,\n      result.value === 'receivedSignature'\n        ? [{type: 'received'}, result.context]\n        : [{type: 'status', result: result.value}, result.context],\n    );\n  }\n\n  /**\n   * Register a callback to be invoked upon signature updates\n   *\n   * @param signature Transaction signature string in base 58\n   * @param callback Function to invoke on signature notifications\n   * @param commitment Specify the commitment level signature must reach before notification\n   * @return subscription id\n   */\n  onSignature(\n    signature: TransactionSignature,\n    callback: SignatureResultCallback,\n    commitment?: Commitment,\n  ): ClientSubscriptionId {\n    const args = this._buildArgs(\n      [signature],\n      commitment || this._commitment || 'finalized', // Apply connection/server default.\n    );\n    const clientSubscriptionId = this._makeSubscription(\n      {\n        callback: (notification, context) => {\n          if (notification.type === 'status') {\n            callback(notification.result, context);\n            // Signatures subscriptions are auto-removed by the RPC service\n            // so no need to explicitly send an unsubscribe message.\n            try {\n              this.removeSignatureListener(clientSubscriptionId);\n              // eslint-disable-next-line no-empty\n            } catch (_err) {\n              // Already removed.\n            }\n          }\n        },\n        method: 'signatureSubscribe',\n        unsubscribeMethod: 'signatureUnsubscribe',\n      },\n      args,\n    );\n    return clientSubscriptionId;\n  }\n\n  /**\n   * Register a callback to be invoked when a transaction is\n   * received and/or processed.\n   *\n   * @param signature Transaction signature string in base 58\n   * @param callback Function to invoke on signature notifications\n   * @param options Enable received notifications and set the commitment\n   *   level that signature must reach before notification\n   * @return subscription id\n   */\n  onSignatureWithOptions(\n    signature: TransactionSignature,\n    callback: SignatureSubscriptionCallback,\n    options?: SignatureSubscriptionOptions,\n  ): ClientSubscriptionId {\n    const {commitment, ...extra} = {\n      ...options,\n      commitment:\n        (options && options.commitment) || this._commitment || 'finalized', // Apply connection/server default.\n    };\n    const args = this._buildArgs(\n      [signature],\n      commitment,\n      undefined /* encoding */,\n      extra,\n    );\n    const clientSubscriptionId = this._makeSubscription(\n      {\n        callback: (notification, context) => {\n          callback(notification, context);\n          // Signatures subscriptions are auto-removed by the RPC service\n          // so no need to explicitly send an unsubscribe message.\n          try {\n            this.removeSignatureListener(clientSubscriptionId);\n            // eslint-disable-next-line no-empty\n          } catch (_err) {\n            // Already removed.\n          }\n        },\n        method: 'signatureSubscribe',\n        unsubscribeMethod: 'signatureUnsubscribe',\n      },\n      args,\n    );\n    return clientSubscriptionId;\n  }\n\n  /**\n   * Deregister a signature notification callback\n   *\n   * @param clientSubscriptionId client subscription id to deregister\n   */\n  async removeSignatureListener(\n    clientSubscriptionId: ClientSubscriptionId,\n  ): Promise<void> {\n    await this._unsubscribeClientSubscription(\n      clientSubscriptionId,\n      'signature result',\n    );\n  }\n\n  /**\n   * @internal\n   */\n  _wsOnRootNotification(notification: Object) {\n    const {result, subscription} = create(notification, RootNotificationResult);\n    this._handleServerNotification<RootChangeCallback>(subscription, [result]);\n  }\n\n  /**\n   * Register a callback to be invoked upon root changes\n   *\n   * @param callback Function to invoke whenever the root changes\n   * @return subscription id\n   */\n  onRootChange(callback: RootChangeCallback): ClientSubscriptionId {\n    return this._makeSubscription(\n      {\n        callback,\n        method: 'rootSubscribe',\n        unsubscribeMethod: 'rootUnsubscribe',\n      },\n      [] /* args */,\n    );\n  }\n\n  /**\n   * Deregister a root notification callback\n   *\n   * @param clientSubscriptionId client subscription id to deregister\n   */\n  async removeRootChangeListener(\n    clientSubscriptionId: ClientSubscriptionId,\n  ): Promise<void> {\n    await this._unsubscribeClientSubscription(\n      clientSubscriptionId,\n      'root change',\n    );\n  }\n}\n", "import {generateKeypair, getPublicKey, Ed25519Keypair} from './utils/ed25519';\nimport {PublicKey} from './publickey';\n\n/**\n * Keypair signer interface\n */\nexport interface Signer {\n  publicKey: PublicKey;\n  secretKey: Uint8Array;\n}\n\n/**\n * An account keypair used for signing transactions.\n */\nexport class Keypair {\n  private _keypair: Ed25519Keypair;\n\n  /**\n   * Create a new keypair instance.\n   * Generate random keypair if no {@link Ed25519Keypair} is provided.\n   *\n   * @param {Ed25519Keypair} keypair ed25519 keypair\n   */\n  constructor(keypair?: Ed25519Keypair) {\n    this._keypair = keypair ?? generateKeypair();\n  }\n\n  /**\n   * Generate a new random keypair\n   *\n   * @returns {Keypair} Keypair\n   */\n  static generate(): Keypair {\n    return new Keypair(generateKeypair());\n  }\n\n  /**\n   * Create a keypair from a raw secret key byte array.\n   *\n   * This method should only be used to recreate a keypair from a previously\n   * generated secret key. Generating keypairs from a random seed should be done\n   * with the {@link Keypair.fromSeed} method.\n   *\n   * @throws error if the provided secret key is invalid and validation is not skipped.\n   *\n   * @param secretKey secret key byte array\n   * @param options skip secret key validation\n   *\n   * @returns {Keypair} Keypair\n   */\n  static fromSecretKey(\n    secretKey: Uint8Array,\n    options?: {skipValidation?: boolean},\n  ): Keypair {\n    if (secretKey.byteLength !== 64) {\n      throw new Error('bad secret key size');\n    }\n    const publicKey = secretKey.slice(32, 64);\n    if (!options || !options.skipValidation) {\n      const privateScalar = secretKey.slice(0, 32);\n      const computedPublicKey = getPublicKey(privateScalar);\n      for (let ii = 0; ii < 32; ii++) {\n        if (publicKey[ii] !== computedPublicKey[ii]) {\n          throw new Error('provided secretKey is invalid');\n        }\n      }\n    }\n    return new Keypair({publicKey, secretKey});\n  }\n\n  /**\n   * Generate a keypair from a 32 byte seed.\n   *\n   * @param seed seed byte array\n   *\n   * @returns {Keypair} Keypair\n   */\n  static fromSeed(seed: Uint8Array): Keypair {\n    const publicKey = getPublicKey(seed);\n    const secretKey = new Uint8Array(64);\n    secretKey.set(seed);\n    secretKey.set(publicKey, 32);\n    return new Keypair({publicKey, secretKey});\n  }\n\n  /**\n   * The public key for this keypair\n   *\n   * @returns {PublicKey} PublicKey\n   */\n  get publicKey(): PublicKey {\n    return new PublicKey(this._keypair.publicKey);\n  }\n\n  /**\n   * The raw secret key for this keypair\n   * @returns {Uint8Array} Secret key in an array of Uint8 bytes\n   */\n  get secretKey(): Uint8Array {\n    return new Uint8Array(this._keypair.secretKey);\n  }\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\nimport {getU64Encoder} from '@solana/codecs-numbers';\n\nimport * as Layout from '../../layout';\nimport {PublicKey} from '../../publickey';\nimport * as bigintLayout from '../../utils/bigint';\nimport {SystemProgram} from '../system';\nimport {TransactionInstruction} from '../../transaction';\nimport {decodeData, encodeData, IInstructionInputData} from '../../instruction';\n\nexport * from './state';\n\nexport type CreateLookupTableParams = {\n  /** Account used to derive and control the new address lookup table. */\n  authority: PublicKey;\n  /** Account that will fund the new address lookup table. */\n  payer: PublicKey;\n  /** A recent slot must be used in the derivation path for each initialized table. */\n  recentSlot: bigint | number;\n};\n\nexport type FreezeLookupTableParams = {\n  /** Address lookup table account to freeze. */\n  lookupTable: PublicKey;\n  /** Account which is the current authority. */\n  authority: PublicKey;\n};\n\nexport type ExtendLookupTableParams = {\n  /** Address lookup table account to extend. */\n  lookupTable: PublicKey;\n  /** Account which is the current authority. */\n  authority: PublicKey;\n  /** Account that will fund the table reallocation.\n   * Not required if the reallocation has already been funded. */\n  payer?: PublicKey;\n  /** List of Public Keys to be added to the lookup table. */\n  addresses: Array<PublicKey>;\n};\n\nexport type DeactivateLookupTableParams = {\n  /** Address lookup table account to deactivate. */\n  lookupTable: PublicKey;\n  /** Account which is the current authority. */\n  authority: PublicKey;\n};\n\nexport type CloseLookupTableParams = {\n  /** Address lookup table account to close. */\n  lookupTable: PublicKey;\n  /** Account which is the current authority. */\n  authority: PublicKey;\n  /** Recipient of closed account lamports. */\n  recipient: PublicKey;\n};\n\n/**\n * An enumeration of valid LookupTableInstructionType's\n */\nexport type LookupTableInstructionType =\n  | 'CreateLookupTable'\n  | 'ExtendLookupTable'\n  | 'CloseLookupTable'\n  | 'FreezeLookupTable'\n  | 'DeactivateLookupTable';\n\ntype LookupTableInstructionInputData = {\n  CreateLookupTable: IInstructionInputData &\n    Readonly<{\n      recentSlot: bigint;\n      bumpSeed: number;\n    }>;\n  FreezeLookupTable: IInstructionInputData;\n  ExtendLookupTable: IInstructionInputData &\n    Readonly<{\n      numberOfAddresses: bigint;\n      addresses: Array<Uint8Array>;\n    }>;\n  DeactivateLookupTable: IInstructionInputData;\n  CloseLookupTable: IInstructionInputData;\n};\n\n/**\n * An enumeration of valid address lookup table InstructionType's\n * @internal\n */\nexport const LOOKUP_TABLE_INSTRUCTION_LAYOUTS = Object.freeze({\n  CreateLookupTable: {\n    index: 0,\n    layout: BufferLayout.struct<\n      LookupTableInstructionInputData['CreateLookupTable']\n    >([\n      BufferLayout.u32('instruction'),\n      bigintLayout.u64('recentSlot'),\n      BufferLayout.u8('bumpSeed'),\n    ]),\n  },\n  FreezeLookupTable: {\n    index: 1,\n    layout: BufferLayout.struct<\n      LookupTableInstructionInputData['FreezeLookupTable']\n    >([BufferLayout.u32('instruction')]),\n  },\n  ExtendLookupTable: {\n    index: 2,\n    layout: BufferLayout.struct<\n      LookupTableInstructionInputData['ExtendLookupTable']\n    >([\n      BufferLayout.u32('instruction'),\n      bigintLayout.u64(),\n      BufferLayout.seq(\n        Layout.publicKey(),\n        BufferLayout.offset(BufferLayout.u32(), -8),\n        'addresses',\n      ),\n    ]),\n  },\n  DeactivateLookupTable: {\n    index: 3,\n    layout: BufferLayout.struct<\n      LookupTableInstructionInputData['DeactivateLookupTable']\n    >([BufferLayout.u32('instruction')]),\n  },\n  CloseLookupTable: {\n    index: 4,\n    layout: BufferLayout.struct<\n      LookupTableInstructionInputData['CloseLookupTable']\n    >([BufferLayout.u32('instruction')]),\n  },\n});\n\nexport class AddressLookupTableInstruction {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  static decodeInstructionType(\n    instruction: TransactionInstruction,\n  ): LookupTableInstructionType {\n    this.checkProgramId(instruction.programId);\n\n    const instructionTypeLayout = BufferLayout.u32('instruction');\n    const index = instructionTypeLayout.decode(instruction.data);\n\n    let type: LookupTableInstructionType | undefined;\n    for (const [layoutType, layout] of Object.entries(\n      LOOKUP_TABLE_INSTRUCTION_LAYOUTS,\n    )) {\n      if ((layout as any).index == index) {\n        type = layoutType as LookupTableInstructionType;\n        break;\n      }\n    }\n    if (!type) {\n      throw new Error(\n        'Invalid Instruction. Should be a LookupTable Instruction',\n      );\n    }\n    return type;\n  }\n\n  static decodeCreateLookupTable(\n    instruction: TransactionInstruction,\n  ): CreateLookupTableParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeysLength(instruction.keys, 4);\n\n    const {recentSlot} = decodeData(\n      LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,\n      instruction.data,\n    );\n\n    return {\n      authority: instruction.keys[1].pubkey,\n      payer: instruction.keys[2].pubkey,\n      recentSlot: Number(recentSlot),\n    };\n  }\n\n  static decodeExtendLookupTable(\n    instruction: TransactionInstruction,\n  ): ExtendLookupTableParams {\n    this.checkProgramId(instruction.programId);\n    if (instruction.keys.length < 2) {\n      throw new Error(\n        `invalid instruction; found ${instruction.keys.length} keys, expected at least 2`,\n      );\n    }\n\n    const {addresses} = decodeData(\n      LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,\n      instruction.data,\n    );\n    return {\n      lookupTable: instruction.keys[0].pubkey,\n      authority: instruction.keys[1].pubkey,\n      payer:\n        instruction.keys.length > 2 ? instruction.keys[2].pubkey : undefined,\n      addresses: addresses.map(buffer => new PublicKey(buffer)),\n    };\n  }\n\n  static decodeCloseLookupTable(\n    instruction: TransactionInstruction,\n  ): CloseLookupTableParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeysLength(instruction.keys, 3);\n\n    return {\n      lookupTable: instruction.keys[0].pubkey,\n      authority: instruction.keys[1].pubkey,\n      recipient: instruction.keys[2].pubkey,\n    };\n  }\n\n  static decodeFreezeLookupTable(\n    instruction: TransactionInstruction,\n  ): FreezeLookupTableParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeysLength(instruction.keys, 2);\n\n    return {\n      lookupTable: instruction.keys[0].pubkey,\n      authority: instruction.keys[1].pubkey,\n    };\n  }\n\n  static decodeDeactivateLookupTable(\n    instruction: TransactionInstruction,\n  ): DeactivateLookupTableParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeysLength(instruction.keys, 2);\n\n    return {\n      lookupTable: instruction.keys[0].pubkey,\n      authority: instruction.keys[1].pubkey,\n    };\n  }\n\n  /**\n   * @internal\n   */\n  static checkProgramId(programId: PublicKey) {\n    if (!programId.equals(AddressLookupTableProgram.programId)) {\n      throw new Error(\n        'invalid instruction; programId is not AddressLookupTable Program',\n      );\n    }\n  }\n  /**\n   * @internal\n   */\n  static checkKeysLength(keys: Array<any>, expectedLength: number) {\n    if (keys.length < expectedLength) {\n      throw new Error(\n        `invalid instruction; found ${keys.length} keys, expected at least ${expectedLength}`,\n      );\n    }\n  }\n}\n\nexport class AddressLookupTableProgram {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  static programId: PublicKey = new PublicKey(\n    'AddressLookupTab1e1111111111111111111111111',\n  );\n\n  static createLookupTable(params: CreateLookupTableParams) {\n    const [lookupTableAddress, bumpSeed] = PublicKey.findProgramAddressSync(\n      [\n        params.authority.toBuffer(),\n        getU64Encoder().encode(params.recentSlot) as Uint8Array,\n      ],\n      this.programId,\n    );\n\n    const type = LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable;\n    const data = encodeData(type, {\n      recentSlot: BigInt(params.recentSlot),\n      bumpSeed: bumpSeed,\n    });\n\n    const keys = [\n      {\n        pubkey: lookupTableAddress,\n        isSigner: false,\n        isWritable: true,\n      },\n      {\n        pubkey: params.authority,\n        isSigner: true,\n        isWritable: false,\n      },\n      {\n        pubkey: params.payer,\n        isSigner: true,\n        isWritable: true,\n      },\n      {\n        pubkey: SystemProgram.programId,\n        isSigner: false,\n        isWritable: false,\n      },\n    ];\n\n    return [\n      new TransactionInstruction({\n        programId: this.programId,\n        keys: keys,\n        data: data,\n      }),\n      lookupTableAddress,\n    ] as [TransactionInstruction, PublicKey];\n  }\n\n  static freezeLookupTable(params: FreezeLookupTableParams) {\n    const type = LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable;\n    const data = encodeData(type);\n\n    const keys = [\n      {\n        pubkey: params.lookupTable,\n        isSigner: false,\n        isWritable: true,\n      },\n      {\n        pubkey: params.authority,\n        isSigner: true,\n        isWritable: false,\n      },\n    ];\n\n    return new TransactionInstruction({\n      programId: this.programId,\n      keys: keys,\n      data: data,\n    });\n  }\n\n  static extendLookupTable(params: ExtendLookupTableParams) {\n    const type = LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable;\n    const data = encodeData(type, {\n      addresses: params.addresses.map(addr => addr.toBytes()),\n    });\n\n    const keys = [\n      {\n        pubkey: params.lookupTable,\n        isSigner: false,\n        isWritable: true,\n      },\n      {\n        pubkey: params.authority,\n        isSigner: true,\n        isWritable: false,\n      },\n    ];\n\n    if (params.payer) {\n      keys.push(\n        {\n          pubkey: params.payer,\n          isSigner: true,\n          isWritable: true,\n        },\n        {\n          pubkey: SystemProgram.programId,\n          isSigner: false,\n          isWritable: false,\n        },\n      );\n    }\n\n    return new TransactionInstruction({\n      programId: this.programId,\n      keys: keys,\n      data: data,\n    });\n  }\n\n  static deactivateLookupTable(params: DeactivateLookupTableParams) {\n    const type = LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable;\n    const data = encodeData(type);\n\n    const keys = [\n      {\n        pubkey: params.lookupTable,\n        isSigner: false,\n        isWritable: true,\n      },\n      {\n        pubkey: params.authority,\n        isSigner: true,\n        isWritable: false,\n      },\n    ];\n\n    return new TransactionInstruction({\n      programId: this.programId,\n      keys: keys,\n      data: data,\n    });\n  }\n\n  static closeLookupTable(params: CloseLookupTableParams) {\n    const type = LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable;\n    const data = encodeData(type);\n\n    const keys = [\n      {\n        pubkey: params.lookupTable,\n        isSigner: false,\n        isWritable: true,\n      },\n      {\n        pubkey: params.authority,\n        isSigner: true,\n        isWritable: false,\n      },\n      {\n        pubkey: params.recipient,\n        isSigner: false,\n        isWritable: true,\n      },\n    ];\n\n    return new TransactionInstruction({\n      programId: this.programId,\n      keys: keys,\n      data: data,\n    });\n  }\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\n\nimport {\n  encodeData,\n  decodeData,\n  InstructionType,\n  IInstructionInputData,\n} from '../instruction';\nimport {PublicKey} from '../publickey';\nimport {TransactionInstruction} from '../transaction';\nimport {u64} from '../utils/bigint';\n\n/**\n * Compute Budget Instruction class\n */\nexport class ComputeBudgetInstruction {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Decode a compute budget instruction and retrieve the instruction type.\n   */\n  static decodeInstructionType(\n    instruction: TransactionInstruction,\n  ): ComputeBudgetInstructionType {\n    this.checkProgramId(instruction.programId);\n\n    const instructionTypeLayout = BufferLayout.u8('instruction');\n    const typeIndex = instructionTypeLayout.decode(instruction.data);\n\n    let type: ComputeBudgetInstructionType | undefined;\n    for (const [ixType, layout] of Object.entries(\n      COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,\n    )) {\n      if (layout.index == typeIndex) {\n        type = ixType as ComputeBudgetInstructionType;\n        break;\n      }\n    }\n\n    if (!type) {\n      throw new Error(\n        'Instruction type incorrect; not a ComputeBudgetInstruction',\n      );\n    }\n\n    return type;\n  }\n\n  /**\n   * Decode request units compute budget instruction and retrieve the instruction params.\n   */\n  static decodeRequestUnits(\n    instruction: TransactionInstruction,\n  ): RequestUnitsParams {\n    this.checkProgramId(instruction.programId);\n    const {units, additionalFee} = decodeData(\n      COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,\n      instruction.data,\n    );\n    return {units, additionalFee};\n  }\n\n  /**\n   * Decode request heap frame compute budget instruction and retrieve the instruction params.\n   */\n  static decodeRequestHeapFrame(\n    instruction: TransactionInstruction,\n  ): RequestHeapFrameParams {\n    this.checkProgramId(instruction.programId);\n    const {bytes} = decodeData(\n      COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,\n      instruction.data,\n    );\n    return {bytes};\n  }\n\n  /**\n   * Decode set compute unit limit compute budget instruction and retrieve the instruction params.\n   */\n  static decodeSetComputeUnitLimit(\n    instruction: TransactionInstruction,\n  ): SetComputeUnitLimitParams {\n    this.checkProgramId(instruction.programId);\n    const {units} = decodeData(\n      COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,\n      instruction.data,\n    );\n    return {units};\n  }\n\n  /**\n   * Decode set compute unit price compute budget instruction and retrieve the instruction params.\n   */\n  static decodeSetComputeUnitPrice(\n    instruction: TransactionInstruction,\n  ): SetComputeUnitPriceParams {\n    this.checkProgramId(instruction.programId);\n    const {microLamports} = decodeData(\n      COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,\n      instruction.data,\n    );\n    return {microLamports};\n  }\n\n  /**\n   * @internal\n   */\n  static checkProgramId(programId: PublicKey) {\n    if (!programId.equals(ComputeBudgetProgram.programId)) {\n      throw new Error(\n        'invalid instruction; programId is not ComputeBudgetProgram',\n      );\n    }\n  }\n}\n\n/**\n * An enumeration of valid ComputeBudgetInstructionType's\n */\nexport type ComputeBudgetInstructionType =\n  // FIXME\n  // It would be preferable for this type to be `keyof ComputeBudgetInstructionInputData`\n  // but Typedoc does not transpile `keyof` expressions.\n  // See https://github.com/TypeStrong/typedoc/issues/1894\n  | 'RequestUnits'\n  | 'RequestHeapFrame'\n  | 'SetComputeUnitLimit'\n  | 'SetComputeUnitPrice';\n\ntype ComputeBudgetInstructionInputData = {\n  RequestUnits: IInstructionInputData & Readonly<RequestUnitsParams>;\n  RequestHeapFrame: IInstructionInputData & Readonly<RequestHeapFrameParams>;\n  SetComputeUnitLimit: IInstructionInputData &\n    Readonly<SetComputeUnitLimitParams>;\n  SetComputeUnitPrice: IInstructionInputData &\n    Readonly<SetComputeUnitPriceParams>;\n};\n\n/**\n * Request units instruction params\n */\nexport interface RequestUnitsParams {\n  /** Units to request for transaction-wide compute */\n  units: number;\n  /** Prioritization fee lamports */\n  additionalFee: number;\n}\n\n/**\n * Request heap frame instruction params\n */\nexport type RequestHeapFrameParams = {\n  /** Requested transaction-wide program heap size in bytes. Must be multiple of 1024. Applies to each program, including CPIs. */\n  bytes: number;\n};\n\n/**\n * Set compute unit limit instruction params\n */\nexport interface SetComputeUnitLimitParams {\n  /** Transaction-wide compute unit limit */\n  units: number;\n}\n\n/**\n * Set compute unit price instruction params\n */\nexport interface SetComputeUnitPriceParams {\n  /** Transaction compute unit price used for prioritization fees */\n  microLamports: number | bigint;\n}\n\n/**\n * An enumeration of valid ComputeBudget InstructionType's\n * @internal\n */\nexport const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS = Object.freeze<{\n  [Instruction in ComputeBudgetInstructionType]: InstructionType<\n    ComputeBudgetInstructionInputData[Instruction]\n  >;\n}>({\n  RequestUnits: {\n    index: 0,\n    layout: BufferLayout.struct<\n      ComputeBudgetInstructionInputData['RequestUnits']\n    >([\n      BufferLayout.u8('instruction'),\n      BufferLayout.u32('units'),\n      BufferLayout.u32('additionalFee'),\n    ]),\n  },\n  RequestHeapFrame: {\n    index: 1,\n    layout: BufferLayout.struct<\n      ComputeBudgetInstructionInputData['RequestHeapFrame']\n    >([BufferLayout.u8('instruction'), BufferLayout.u32('bytes')]),\n  },\n  SetComputeUnitLimit: {\n    index: 2,\n    layout: BufferLayout.struct<\n      ComputeBudgetInstructionInputData['SetComputeUnitLimit']\n    >([BufferLayout.u8('instruction'), BufferLayout.u32('units')]),\n  },\n  SetComputeUnitPrice: {\n    index: 3,\n    layout: BufferLayout.struct<\n      ComputeBudgetInstructionInputData['SetComputeUnitPrice']\n    >([BufferLayout.u8('instruction'), u64('microLamports')]),\n  },\n});\n\n/**\n * Factory class for transaction instructions to interact with the Compute Budget program\n */\nexport class ComputeBudgetProgram {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Public key that identifies the Compute Budget program\n   */\n  static programId: PublicKey = new PublicKey(\n    'ComputeBudget111111111111111111111111111111',\n  );\n\n  /**\n   * @deprecated Instead, call {@link setComputeUnitLimit} and/or {@link setComputeUnitPrice}\n   */\n  static requestUnits(params: RequestUnitsParams): TransactionInstruction {\n    const type = COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits;\n    const data = encodeData(type, params);\n    return new TransactionInstruction({\n      keys: [],\n      programId: this.programId,\n      data,\n    });\n  }\n\n  static requestHeapFrame(\n    params: RequestHeapFrameParams,\n  ): TransactionInstruction {\n    const type = COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame;\n    const data = encodeData(type, params);\n    return new TransactionInstruction({\n      keys: [],\n      programId: this.programId,\n      data,\n    });\n  }\n\n  static setComputeUnitLimit(\n    params: SetComputeUnitLimitParams,\n  ): TransactionInstruction {\n    const type = COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit;\n    const data = encodeData(type, params);\n    return new TransactionInstruction({\n      keys: [],\n      programId: this.programId,\n      data,\n    });\n  }\n\n  static setComputeUnitPrice(\n    params: SetComputeUnitPriceParams,\n  ): TransactionInstruction {\n    const type = COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice;\n    const data = encodeData(type, {\n      microLamports: BigInt(params.microLamports),\n    });\n    return new TransactionInstruction({\n      keys: [],\n      programId: this.programId,\n      data,\n    });\n  }\n}\n", "import {Buffer} from 'buffer';\nimport * as BufferLayout from '@solana/buffer-layout';\n\nimport {Keypair} from '../keypair';\nimport {PublicKey} from '../publickey';\nimport {TransactionInstruction} from '../transaction';\nimport assert from '../utils/assert';\nimport {sign} from '../utils/ed25519';\n\nconst PRIVATE_KEY_BYTES = 64;\nconst PUBLIC_KEY_BYTES = 32;\nconst SIGNATURE_BYTES = 64;\n\n/**\n * Params for creating an ed25519 instruction using a public key\n */\nexport type CreateEd25519InstructionWithPublicKeyParams = {\n  publicKey: Uint8Array;\n  message: Uint8Array;\n  signature: Uint8Array;\n  instructionIndex?: number;\n};\n\n/**\n * Params for creating an ed25519 instruction using a private key\n */\nexport type CreateEd25519InstructionWithPrivateKeyParams = {\n  privateKey: Uint8Array;\n  message: Uint8Array;\n  instructionIndex?: number;\n};\n\nconst ED25519_INSTRUCTION_LAYOUT = BufferLayout.struct<\n  Readonly<{\n    messageDataOffset: number;\n    messageDataSize: number;\n    messageInstructionIndex: number;\n    numSignatures: number;\n    padding: number;\n    publicKeyInstructionIndex: number;\n    publicKeyOffset: number;\n    signatureInstructionIndex: number;\n    signatureOffset: number;\n  }>\n>([\n  BufferLayout.u8('numSignatures'),\n  BufferLayout.u8('padding'),\n  BufferLayout.u16('signatureOffset'),\n  BufferLayout.u16('signatureInstructionIndex'),\n  BufferLayout.u16('publicKeyOffset'),\n  BufferLayout.u16('publicKeyInstructionIndex'),\n  BufferLayout.u16('messageDataOffset'),\n  BufferLayout.u16('messageDataSize'),\n  BufferLayout.u16('messageInstructionIndex'),\n]);\n\nexport class Ed25519Program {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Public key that identifies the ed25519 program\n   */\n  static programId: PublicKey = new PublicKey(\n    'Ed25519SigVerify111111111111111111111111111',\n  );\n\n  /**\n   * Create an ed25519 instruction with a public key and signature. The\n   * public key must be a buffer that is 32 bytes long, and the signature\n   * must be a buffer of 64 bytes.\n   */\n  static createInstructionWithPublicKey(\n    params: CreateEd25519InstructionWithPublicKeyParams,\n  ): TransactionInstruction {\n    const {publicKey, message, signature, instructionIndex} = params;\n\n    assert(\n      publicKey.length === PUBLIC_KEY_BYTES,\n      `Public Key must be ${PUBLIC_KEY_BYTES} bytes but received ${publicKey.length} bytes`,\n    );\n\n    assert(\n      signature.length === SIGNATURE_BYTES,\n      `Signature must be ${SIGNATURE_BYTES} bytes but received ${signature.length} bytes`,\n    );\n\n    const publicKeyOffset = ED25519_INSTRUCTION_LAYOUT.span;\n    const signatureOffset = publicKeyOffset + publicKey.length;\n    const messageDataOffset = signatureOffset + signature.length;\n    const numSignatures = 1;\n\n    const instructionData = Buffer.alloc(messageDataOffset + message.length);\n\n    const index =\n      instructionIndex == null\n        ? 0xffff // An index of `u16::MAX` makes it default to the current instruction.\n        : instructionIndex;\n\n    ED25519_INSTRUCTION_LAYOUT.encode(\n      {\n        numSignatures,\n        padding: 0,\n        signatureOffset,\n        signatureInstructionIndex: index,\n        publicKeyOffset,\n        publicKeyInstructionIndex: index,\n        messageDataOffset,\n        messageDataSize: message.length,\n        messageInstructionIndex: index,\n      },\n      instructionData,\n    );\n\n    instructionData.fill(publicKey, publicKeyOffset);\n    instructionData.fill(signature, signatureOffset);\n    instructionData.fill(message, messageDataOffset);\n\n    return new TransactionInstruction({\n      keys: [],\n      programId: Ed25519Program.programId,\n      data: instructionData,\n    });\n  }\n\n  /**\n   * Create an ed25519 instruction with a private key. The private key\n   * must be a buffer that is 64 bytes long.\n   */\n  static createInstructionWithPrivateKey(\n    params: CreateEd25519InstructionWithPrivateKeyParams,\n  ): TransactionInstruction {\n    const {privateKey, message, instructionIndex} = params;\n\n    assert(\n      privateKey.length === PRIVATE_KEY_BYTES,\n      `Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${privateKey.length} bytes`,\n    );\n\n    try {\n      const keypair = Keypair.fromSecretKey(privateKey);\n      const publicKey = keypair.publicKey.toBytes();\n      const signature = sign(message, keypair.secretKey);\n\n      return this.createInstructionWithPublicKey({\n        publicKey,\n        message,\n        signature,\n        instructionIndex,\n      });\n    } catch (error) {\n      throw new Error(`Error creating instruction; ${error}`);\n    }\n  }\n}\n", "import {secp256k1} from '@noble/curves/secp256k1';\n\nexport const ecdsaSign = (\n  msgHash: Parameters<typeof secp256k1.sign>[0],\n  privKey: Parameters<typeof secp256k1.sign>[1],\n) => {\n  const signature = secp256k1.sign(msgHash, privKey);\n  return [signature.toCompactRawBytes(), signature.recovery!] as const;\n};\nexport const isValidPrivateKey = secp256k1.utils.isValidPrivateKey;\nexport const publicKeyCreate = secp256k1.getPublicKey;\n", "import {Buffer} from 'buffer';\nimport * as BufferLayout from '@solana/buffer-layout';\nimport {keccak_256} from '@noble/hashes/sha3';\n\nimport {PublicKey} from '../publickey';\nimport {TransactionInstruction} from '../transaction';\nimport assert from '../utils/assert';\nimport {publicKeyCreate, ecdsaSign} from '../utils/secp256k1';\nimport {toBuffer} from '../utils/to-buffer';\n\nconst PRIVATE_KEY_BYTES = 32;\nconst ETHEREUM_ADDRESS_BYTES = 20;\nconst PUBLIC_KEY_BYTES = 64;\nconst SIGNATURE_OFFSETS_SERIALIZED_SIZE = 11;\n\n/**\n * Params for creating an secp256k1 instruction using a public key\n */\nexport type CreateSecp256k1InstructionWithPublicKeyParams = {\n  publicKey: Buffer | Uint8Array | Array<number>;\n  message: Buffer | Uint8Array | Array<number>;\n  signature: Buffer | Uint8Array | Array<number>;\n  recoveryId: number;\n  instructionIndex?: number;\n};\n\n/**\n * Params for creating an secp256k1 instruction using an Ethereum address\n */\nexport type CreateSecp256k1InstructionWithEthAddressParams = {\n  ethAddress: Buffer | Uint8Array | Array<number> | string;\n  message: Buffer | Uint8Array | Array<number>;\n  signature: Buffer | Uint8Array | Array<number>;\n  recoveryId: number;\n  instructionIndex?: number;\n};\n\n/**\n * Params for creating an secp256k1 instruction using a private key\n */\nexport type CreateSecp256k1InstructionWithPrivateKeyParams = {\n  privateKey: Buffer | Uint8Array | Array<number>;\n  message: Buffer | Uint8Array | Array<number>;\n  instructionIndex?: number;\n};\n\nconst SECP256K1_INSTRUCTION_LAYOUT = BufferLayout.struct<\n  Readonly<{\n    ethAddress: Uint8Array;\n    ethAddressInstructionIndex: number;\n    ethAddressOffset: number;\n    messageDataOffset: number;\n    messageDataSize: number;\n    messageInstructionIndex: number;\n    numSignatures: number;\n    recoveryId: number;\n    signature: Uint8Array;\n    signatureInstructionIndex: number;\n    signatureOffset: number;\n  }>\n>([\n  BufferLayout.u8('numSignatures'),\n  BufferLayout.u16('signatureOffset'),\n  BufferLayout.u8('signatureInstructionIndex'),\n  BufferLayout.u16('ethAddressOffset'),\n  BufferLayout.u8('ethAddressInstructionIndex'),\n  BufferLayout.u16('messageDataOffset'),\n  BufferLayout.u16('messageDataSize'),\n  BufferLayout.u8('messageInstructionIndex'),\n  BufferLayout.blob(20, 'ethAddress'),\n  BufferLayout.blob(64, 'signature'),\n  BufferLayout.u8('recoveryId'),\n]);\n\nexport class Secp256k1Program {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Public key that identifies the secp256k1 program\n   */\n  static programId: PublicKey = new PublicKey(\n    'KeccakSecp256k11111111111111111111111111111',\n  );\n\n  /**\n   * Construct an Ethereum address from a secp256k1 public key buffer.\n   * @param {Buffer} publicKey a 64 byte secp256k1 public key buffer\n   */\n  static publicKeyToEthAddress(\n    publicKey: Buffer | Uint8Array | Array<number>,\n  ): Buffer {\n    assert(\n      publicKey.length === PUBLIC_KEY_BYTES,\n      `Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${publicKey.length} bytes`,\n    );\n\n    try {\n      return Buffer.from(keccak_256(toBuffer(publicKey))).slice(\n        -ETHEREUM_ADDRESS_BYTES,\n      );\n    } catch (error) {\n      throw new Error(`Error constructing Ethereum address: ${error}`);\n    }\n  }\n\n  /**\n   * Create an secp256k1 instruction with a public key. The public key\n   * must be a buffer that is 64 bytes long.\n   */\n  static createInstructionWithPublicKey(\n    params: CreateSecp256k1InstructionWithPublicKeyParams,\n  ): TransactionInstruction {\n    const {publicKey, message, signature, recoveryId, instructionIndex} =\n      params;\n    return Secp256k1Program.createInstructionWithEthAddress({\n      ethAddress: Secp256k1Program.publicKeyToEthAddress(publicKey),\n      message,\n      signature,\n      recoveryId,\n      instructionIndex,\n    });\n  }\n\n  /**\n   * Create an secp256k1 instruction with an Ethereum address. The address\n   * must be a hex string or a buffer that is 20 bytes long.\n   */\n  static createInstructionWithEthAddress(\n    params: CreateSecp256k1InstructionWithEthAddressParams,\n  ): TransactionInstruction {\n    const {\n      ethAddress: rawAddress,\n      message,\n      signature,\n      recoveryId,\n      instructionIndex = 0,\n    } = params;\n\n    let ethAddress;\n    if (typeof rawAddress === 'string') {\n      if (rawAddress.startsWith('0x')) {\n        ethAddress = Buffer.from(rawAddress.substr(2), 'hex');\n      } else {\n        ethAddress = Buffer.from(rawAddress, 'hex');\n      }\n    } else {\n      ethAddress = rawAddress;\n    }\n\n    assert(\n      ethAddress.length === ETHEREUM_ADDRESS_BYTES,\n      `Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${ethAddress.length} bytes`,\n    );\n\n    const dataStart = 1 + SIGNATURE_OFFSETS_SERIALIZED_SIZE;\n    const ethAddressOffset = dataStart;\n    const signatureOffset = dataStart + ethAddress.length;\n    const messageDataOffset = signatureOffset + signature.length + 1;\n    const numSignatures = 1;\n\n    const instructionData = Buffer.alloc(\n      SECP256K1_INSTRUCTION_LAYOUT.span + message.length,\n    );\n\n    SECP256K1_INSTRUCTION_LAYOUT.encode(\n      {\n        numSignatures,\n        signatureOffset,\n        signatureInstructionIndex: instructionIndex,\n        ethAddressOffset,\n        ethAddressInstructionIndex: instructionIndex,\n        messageDataOffset,\n        messageDataSize: message.length,\n        messageInstructionIndex: instructionIndex,\n        signature: toBuffer(signature),\n        ethAddress: toBuffer(ethAddress),\n        recoveryId,\n      },\n      instructionData,\n    );\n\n    instructionData.fill(toBuffer(message), SECP256K1_INSTRUCTION_LAYOUT.span);\n\n    return new TransactionInstruction({\n      keys: [],\n      programId: Secp256k1Program.programId,\n      data: instructionData,\n    });\n  }\n\n  /**\n   * Create an secp256k1 instruction with a private key. The private key\n   * must be a buffer that is 32 bytes long.\n   */\n  static createInstructionWithPrivateKey(\n    params: CreateSecp256k1InstructionWithPrivateKeyParams,\n  ): TransactionInstruction {\n    const {privateKey: pkey, message, instructionIndex} = params;\n\n    assert(\n      pkey.length === PRIVATE_KEY_BYTES,\n      `Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${pkey.length} bytes`,\n    );\n\n    try {\n      const privateKey = toBuffer(pkey);\n      const publicKey = publicKeyCreate(\n        privateKey,\n        false /* isCompressed */,\n      ).slice(1); // throw away leading byte\n      const messageHash = Buffer.from(keccak_256(toBuffer(message)));\n      const [signature, recoveryId] = ecdsaSign(messageHash, privateKey);\n\n      return this.createInstructionWithPublicKey({\n        publicKey,\n        message,\n        signature,\n        recoveryId,\n        instructionIndex,\n      });\n    } catch (error) {\n      throw new Error(`Error creating instruction; ${error}`);\n    }\n  }\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\n\nimport {\n  encodeData,\n  decodeData,\n  InstructionType,\n  IInstructionInputData,\n} from '../instruction';\nimport * as Layout from '../layout';\nimport {PublicKey} from '../publickey';\nimport {SystemProgram} from './system';\nimport {\n  SYSVAR_CLOCK_PUBKEY,\n  SYSVAR_RENT_PUBKEY,\n  SYSVAR_STAKE_HISTORY_PUBKEY,\n} from '../sysvar';\nimport {Transaction, TransactionInstruction} from '../transaction';\nimport {toBuffer} from '../utils/to-buffer';\n\n/**\n * Address of the stake config account which configures the rate\n * of stake warmup and cooldown as well as the slashing penalty.\n */\nexport const STAKE_CONFIG_ID = new PublicKey(\n  'StakeConfig11111111111111111111111111111111',\n);\n\n/**\n * Stake account authority info\n */\nexport class Authorized {\n  /** stake authority */\n  staker: PublicKey;\n  /** withdraw authority */\n  withdrawer: PublicKey;\n\n  /**\n   * Create a new Authorized object\n   * @param staker the stake authority\n   * @param withdrawer the withdraw authority\n   */\n  constructor(staker: PublicKey, withdrawer: PublicKey) {\n    this.staker = staker;\n    this.withdrawer = withdrawer;\n  }\n}\n\ntype AuthorizedRaw = Readonly<{\n  staker: Uint8Array;\n  withdrawer: Uint8Array;\n}>;\n\n/**\n * Stake account lockup info\n */\nexport class Lockup {\n  /** Unix timestamp of lockup expiration */\n  unixTimestamp: number;\n  /** Epoch of lockup expiration */\n  epoch: number;\n  /** Lockup custodian authority */\n  custodian: PublicKey;\n\n  /**\n   * Create a new Lockup object\n   */\n  constructor(unixTimestamp: number, epoch: number, custodian: PublicKey) {\n    this.unixTimestamp = unixTimestamp;\n    this.epoch = epoch;\n    this.custodian = custodian;\n  }\n\n  /**\n   * Default, inactive Lockup value\n   */\n  static default: Lockup = new Lockup(0, 0, PublicKey.default);\n}\n\ntype LockupRaw = Readonly<{\n  custodian: Uint8Array;\n  epoch: number;\n  unixTimestamp: number;\n}>;\n\n/**\n * Create stake account transaction params\n */\nexport type CreateStakeAccountParams = {\n  /** Address of the account which will fund creation */\n  fromPubkey: PublicKey;\n  /** Address of the new stake account */\n  stakePubkey: PublicKey;\n  /** Authorities of the new stake account */\n  authorized: Authorized;\n  /** Lockup of the new stake account */\n  lockup?: Lockup;\n  /** Funding amount */\n  lamports: number;\n};\n\n/**\n * Create stake account with seed transaction params\n */\nexport type CreateStakeAccountWithSeedParams = {\n  fromPubkey: PublicKey;\n  stakePubkey: PublicKey;\n  basePubkey: PublicKey;\n  seed: string;\n  authorized: Authorized;\n  lockup?: Lockup;\n  lamports: number;\n};\n\n/**\n * Initialize stake instruction params\n */\nexport type InitializeStakeParams = {\n  stakePubkey: PublicKey;\n  authorized: Authorized;\n  lockup?: Lockup;\n};\n\n/**\n * Delegate stake instruction params\n */\nexport type DelegateStakeParams = {\n  stakePubkey: PublicKey;\n  authorizedPubkey: PublicKey;\n  votePubkey: PublicKey;\n};\n\n/**\n * Authorize stake instruction params\n */\nexport type AuthorizeStakeParams = {\n  stakePubkey: PublicKey;\n  authorizedPubkey: PublicKey;\n  newAuthorizedPubkey: PublicKey;\n  stakeAuthorizationType: StakeAuthorizationType;\n  custodianPubkey?: PublicKey;\n};\n\n/**\n * Authorize stake instruction params using a derived key\n */\nexport type AuthorizeWithSeedStakeParams = {\n  stakePubkey: PublicKey;\n  authorityBase: PublicKey;\n  authoritySeed: string;\n  authorityOwner: PublicKey;\n  newAuthorizedPubkey: PublicKey;\n  stakeAuthorizationType: StakeAuthorizationType;\n  custodianPubkey?: PublicKey;\n};\n\n/**\n * Split stake instruction params\n */\nexport type SplitStakeParams = {\n  stakePubkey: PublicKey;\n  authorizedPubkey: PublicKey;\n  splitStakePubkey: PublicKey;\n  lamports: number;\n};\n\n/**\n * Split with seed transaction params\n */\nexport type SplitStakeWithSeedParams = {\n  stakePubkey: PublicKey;\n  authorizedPubkey: PublicKey;\n  splitStakePubkey: PublicKey;\n  basePubkey: PublicKey;\n  seed: string;\n  lamports: number;\n};\n\n/**\n * Withdraw stake instruction params\n */\nexport type WithdrawStakeParams = {\n  stakePubkey: PublicKey;\n  authorizedPubkey: PublicKey;\n  toPubkey: PublicKey;\n  lamports: number;\n  custodianPubkey?: PublicKey;\n};\n\n/**\n * Deactivate stake instruction params\n */\nexport type DeactivateStakeParams = {\n  stakePubkey: PublicKey;\n  authorizedPubkey: PublicKey;\n};\n\n/**\n * Merge stake instruction params\n */\nexport type MergeStakeParams = {\n  stakePubkey: PublicKey;\n  sourceStakePubKey: PublicKey;\n  authorizedPubkey: PublicKey;\n};\n\n/**\n * Stake Instruction class\n */\nexport class StakeInstruction {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Decode a stake instruction and retrieve the instruction type.\n   */\n  static decodeInstructionType(\n    instruction: TransactionInstruction,\n  ): StakeInstructionType {\n    this.checkProgramId(instruction.programId);\n\n    const instructionTypeLayout = BufferLayout.u32('instruction');\n    const typeIndex = instructionTypeLayout.decode(instruction.data);\n\n    let type: StakeInstructionType | undefined;\n    for (const [ixType, layout] of Object.entries(STAKE_INSTRUCTION_LAYOUTS)) {\n      if (layout.index == typeIndex) {\n        type = ixType as StakeInstructionType;\n        break;\n      }\n    }\n\n    if (!type) {\n      throw new Error('Instruction type incorrect; not a StakeInstruction');\n    }\n\n    return type;\n  }\n\n  /**\n   * Decode a initialize stake instruction and retrieve the instruction params.\n   */\n  static decodeInitialize(\n    instruction: TransactionInstruction,\n  ): InitializeStakeParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 2);\n\n    const {authorized, lockup} = decodeData(\n      STAKE_INSTRUCTION_LAYOUTS.Initialize,\n      instruction.data,\n    );\n\n    return {\n      stakePubkey: instruction.keys[0].pubkey,\n      authorized: new Authorized(\n        new PublicKey(authorized.staker),\n        new PublicKey(authorized.withdrawer),\n      ),\n      lockup: new Lockup(\n        lockup.unixTimestamp,\n        lockup.epoch,\n        new PublicKey(lockup.custodian),\n      ),\n    };\n  }\n\n  /**\n   * Decode a delegate stake instruction and retrieve the instruction params.\n   */\n  static decodeDelegate(\n    instruction: TransactionInstruction,\n  ): DelegateStakeParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 6);\n    decodeData(STAKE_INSTRUCTION_LAYOUTS.Delegate, instruction.data);\n\n    return {\n      stakePubkey: instruction.keys[0].pubkey,\n      votePubkey: instruction.keys[1].pubkey,\n      authorizedPubkey: instruction.keys[5].pubkey,\n    };\n  }\n\n  /**\n   * Decode an authorize stake instruction and retrieve the instruction params.\n   */\n  static decodeAuthorize(\n    instruction: TransactionInstruction,\n  ): AuthorizeStakeParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 3);\n    const {newAuthorized, stakeAuthorizationType} = decodeData(\n      STAKE_INSTRUCTION_LAYOUTS.Authorize,\n      instruction.data,\n    );\n\n    const o: AuthorizeStakeParams = {\n      stakePubkey: instruction.keys[0].pubkey,\n      authorizedPubkey: instruction.keys[2].pubkey,\n      newAuthorizedPubkey: new PublicKey(newAuthorized),\n      stakeAuthorizationType: {\n        index: stakeAuthorizationType,\n      },\n    };\n    if (instruction.keys.length > 3) {\n      o.custodianPubkey = instruction.keys[3].pubkey;\n    }\n    return o;\n  }\n\n  /**\n   * Decode an authorize-with-seed stake instruction and retrieve the instruction params.\n   */\n  static decodeAuthorizeWithSeed(\n    instruction: TransactionInstruction,\n  ): AuthorizeWithSeedStakeParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 2);\n\n    const {\n      newAuthorized,\n      stakeAuthorizationType,\n      authoritySeed,\n      authorityOwner,\n    } = decodeData(\n      STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,\n      instruction.data,\n    );\n\n    const o: AuthorizeWithSeedStakeParams = {\n      stakePubkey: instruction.keys[0].pubkey,\n      authorityBase: instruction.keys[1].pubkey,\n      authoritySeed: authoritySeed,\n      authorityOwner: new PublicKey(authorityOwner),\n      newAuthorizedPubkey: new PublicKey(newAuthorized),\n      stakeAuthorizationType: {\n        index: stakeAuthorizationType,\n      },\n    };\n    if (instruction.keys.length > 3) {\n      o.custodianPubkey = instruction.keys[3].pubkey;\n    }\n    return o;\n  }\n\n  /**\n   * Decode a split stake instruction and retrieve the instruction params.\n   */\n  static decodeSplit(instruction: TransactionInstruction): SplitStakeParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 3);\n    const {lamports} = decodeData(\n      STAKE_INSTRUCTION_LAYOUTS.Split,\n      instruction.data,\n    );\n\n    return {\n      stakePubkey: instruction.keys[0].pubkey,\n      splitStakePubkey: instruction.keys[1].pubkey,\n      authorizedPubkey: instruction.keys[2].pubkey,\n      lamports,\n    };\n  }\n\n  /**\n   * Decode a merge stake instruction and retrieve the instruction params.\n   */\n  static decodeMerge(instruction: TransactionInstruction): MergeStakeParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 3);\n    decodeData(STAKE_INSTRUCTION_LAYOUTS.Merge, instruction.data);\n\n    return {\n      stakePubkey: instruction.keys[0].pubkey,\n      sourceStakePubKey: instruction.keys[1].pubkey,\n      authorizedPubkey: instruction.keys[4].pubkey,\n    };\n  }\n\n  /**\n   * Decode a withdraw stake instruction and retrieve the instruction params.\n   */\n  static decodeWithdraw(\n    instruction: TransactionInstruction,\n  ): WithdrawStakeParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 5);\n    const {lamports} = decodeData(\n      STAKE_INSTRUCTION_LAYOUTS.Withdraw,\n      instruction.data,\n    );\n\n    const o: WithdrawStakeParams = {\n      stakePubkey: instruction.keys[0].pubkey,\n      toPubkey: instruction.keys[1].pubkey,\n      authorizedPubkey: instruction.keys[4].pubkey,\n      lamports,\n    };\n    if (instruction.keys.length > 5) {\n      o.custodianPubkey = instruction.keys[5].pubkey;\n    }\n    return o;\n  }\n\n  /**\n   * Decode a deactivate stake instruction and retrieve the instruction params.\n   */\n  static decodeDeactivate(\n    instruction: TransactionInstruction,\n  ): DeactivateStakeParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 3);\n    decodeData(STAKE_INSTRUCTION_LAYOUTS.Deactivate, instruction.data);\n\n    return {\n      stakePubkey: instruction.keys[0].pubkey,\n      authorizedPubkey: instruction.keys[2].pubkey,\n    };\n  }\n\n  /**\n   * @internal\n   */\n  static checkProgramId(programId: PublicKey) {\n    if (!programId.equals(StakeProgram.programId)) {\n      throw new Error('invalid instruction; programId is not StakeProgram');\n    }\n  }\n\n  /**\n   * @internal\n   */\n  static checkKeyLength(keys: Array<any>, expectedLength: number) {\n    if (keys.length < expectedLength) {\n      throw new Error(\n        `invalid instruction; found ${keys.length} keys, expected at least ${expectedLength}`,\n      );\n    }\n  }\n}\n\n/**\n * An enumeration of valid StakeInstructionType's\n */\nexport type StakeInstructionType =\n  // FIXME\n  // It would be preferable for this type to be `keyof StakeInstructionInputData`\n  // but Typedoc does not transpile `keyof` expressions.\n  // See https://github.com/TypeStrong/typedoc/issues/1894\n  | 'Authorize'\n  | 'AuthorizeWithSeed'\n  | 'Deactivate'\n  | 'Delegate'\n  | 'Initialize'\n  | 'Merge'\n  | 'Split'\n  | 'Withdraw';\n\ntype StakeInstructionInputData = {\n  Authorize: IInstructionInputData &\n    Readonly<{\n      newAuthorized: Uint8Array;\n      stakeAuthorizationType: number;\n    }>;\n  AuthorizeWithSeed: IInstructionInputData &\n    Readonly<{\n      authorityOwner: Uint8Array;\n      authoritySeed: string;\n      instruction: number;\n      newAuthorized: Uint8Array;\n      stakeAuthorizationType: number;\n    }>;\n  Deactivate: IInstructionInputData;\n  Delegate: IInstructionInputData;\n  Initialize: IInstructionInputData &\n    Readonly<{\n      authorized: AuthorizedRaw;\n      lockup: LockupRaw;\n    }>;\n  Merge: IInstructionInputData;\n  Split: IInstructionInputData &\n    Readonly<{\n      lamports: number;\n    }>;\n  Withdraw: IInstructionInputData &\n    Readonly<{\n      lamports: number;\n    }>;\n};\n\n/**\n * An enumeration of valid stake InstructionType's\n * @internal\n */\nexport const STAKE_INSTRUCTION_LAYOUTS = Object.freeze<{\n  [Instruction in StakeInstructionType]: InstructionType<\n    StakeInstructionInputData[Instruction]\n  >;\n}>({\n  Initialize: {\n    index: 0,\n    layout: BufferLayout.struct<StakeInstructionInputData['Initialize']>([\n      BufferLayout.u32('instruction'),\n      Layout.authorized(),\n      Layout.lockup(),\n    ]),\n  },\n  Authorize: {\n    index: 1,\n    layout: BufferLayout.struct<StakeInstructionInputData['Authorize']>([\n      BufferLayout.u32('instruction'),\n      Layout.publicKey('newAuthorized'),\n      BufferLayout.u32('stakeAuthorizationType'),\n    ]),\n  },\n  Delegate: {\n    index: 2,\n    layout: BufferLayout.struct<StakeInstructionInputData['Delegate']>([\n      BufferLayout.u32('instruction'),\n    ]),\n  },\n  Split: {\n    index: 3,\n    layout: BufferLayout.struct<StakeInstructionInputData['Split']>([\n      BufferLayout.u32('instruction'),\n      BufferLayout.ns64('lamports'),\n    ]),\n  },\n  Withdraw: {\n    index: 4,\n    layout: BufferLayout.struct<StakeInstructionInputData['Withdraw']>([\n      BufferLayout.u32('instruction'),\n      BufferLayout.ns64('lamports'),\n    ]),\n  },\n  Deactivate: {\n    index: 5,\n    layout: BufferLayout.struct<StakeInstructionInputData['Deactivate']>([\n      BufferLayout.u32('instruction'),\n    ]),\n  },\n  Merge: {\n    index: 7,\n    layout: BufferLayout.struct<StakeInstructionInputData['Merge']>([\n      BufferLayout.u32('instruction'),\n    ]),\n  },\n  AuthorizeWithSeed: {\n    index: 8,\n    layout: BufferLayout.struct<StakeInstructionInputData['AuthorizeWithSeed']>(\n      [\n        BufferLayout.u32('instruction'),\n        Layout.publicKey('newAuthorized'),\n        BufferLayout.u32('stakeAuthorizationType'),\n        Layout.rustString('authoritySeed'),\n        Layout.publicKey('authorityOwner'),\n      ],\n    ),\n  },\n});\n\n/**\n * Stake authorization type\n */\nexport type StakeAuthorizationType = {\n  /** The Stake Authorization index (from solana-stake-program) */\n  index: number;\n};\n\n/**\n * An enumeration of valid StakeAuthorizationLayout's\n */\nexport const StakeAuthorizationLayout = Object.freeze({\n  Staker: {\n    index: 0,\n  },\n  Withdrawer: {\n    index: 1,\n  },\n});\n\n/**\n * Factory class for transactions to interact with the Stake program\n */\nexport class StakeProgram {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Public key that identifies the Stake program\n   */\n  static programId: PublicKey = new PublicKey(\n    'Stake11111111111111111111111111111111111111',\n  );\n\n  /**\n   * Max space of a Stake account\n   *\n   * This is generated from the solana-stake-program StakeState struct as\n   * `StakeStateV2::size_of()`:\n   * https://docs.rs/solana-stake-program/latest/solana_stake_program/stake_state/enum.StakeStateV2.html\n   */\n  static space: number = 200;\n\n  /**\n   * Generate an Initialize instruction to add to a Stake Create transaction\n   */\n  static initialize(params: InitializeStakeParams): TransactionInstruction {\n    const {stakePubkey, authorized, lockup: maybeLockup} = params;\n    const lockup: Lockup = maybeLockup || Lockup.default;\n    const type = STAKE_INSTRUCTION_LAYOUTS.Initialize;\n    const data = encodeData(type, {\n      authorized: {\n        staker: toBuffer(authorized.staker.toBuffer()),\n        withdrawer: toBuffer(authorized.withdrawer.toBuffer()),\n      },\n      lockup: {\n        unixTimestamp: lockup.unixTimestamp,\n        epoch: lockup.epoch,\n        custodian: toBuffer(lockup.custodian.toBuffer()),\n      },\n    });\n    const instructionData = {\n      keys: [\n        {pubkey: stakePubkey, isSigner: false, isWritable: true},\n        {pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false},\n      ],\n      programId: this.programId,\n      data,\n    };\n    return new TransactionInstruction(instructionData);\n  }\n\n  /**\n   * Generate a Transaction that creates a new Stake account at\n   *   an address generated with `from`, a seed, and the Stake programId\n   */\n  static createAccountWithSeed(\n    params: CreateStakeAccountWithSeedParams,\n  ): Transaction {\n    const transaction = new Transaction();\n    transaction.add(\n      SystemProgram.createAccountWithSeed({\n        fromPubkey: params.fromPubkey,\n        newAccountPubkey: params.stakePubkey,\n        basePubkey: params.basePubkey,\n        seed: params.seed,\n        lamports: params.lamports,\n        space: this.space,\n        programId: this.programId,\n      }),\n    );\n\n    const {stakePubkey, authorized, lockup} = params;\n    return transaction.add(this.initialize({stakePubkey, authorized, lockup}));\n  }\n\n  /**\n   * Generate a Transaction that creates a new Stake account\n   */\n  static createAccount(params: CreateStakeAccountParams): Transaction {\n    const transaction = new Transaction();\n    transaction.add(\n      SystemProgram.createAccount({\n        fromPubkey: params.fromPubkey,\n        newAccountPubkey: params.stakePubkey,\n        lamports: params.lamports,\n        space: this.space,\n        programId: this.programId,\n      }),\n    );\n\n    const {stakePubkey, authorized, lockup} = params;\n    return transaction.add(this.initialize({stakePubkey, authorized, lockup}));\n  }\n\n  /**\n   * Generate a Transaction that delegates Stake tokens to a validator\n   * Vote PublicKey. This transaction can also be used to redelegate Stake\n   * to a new validator Vote PublicKey.\n   */\n  static delegate(params: DelegateStakeParams): Transaction {\n    const {stakePubkey, authorizedPubkey, votePubkey} = params;\n\n    const type = STAKE_INSTRUCTION_LAYOUTS.Delegate;\n    const data = encodeData(type);\n\n    return new Transaction().add({\n      keys: [\n        {pubkey: stakePubkey, isSigner: false, isWritable: true},\n        {pubkey: votePubkey, isSigner: false, isWritable: false},\n        {pubkey: SYSVAR_CLOCK_PUBKEY, isSigner: false, isWritable: false},\n        {\n          pubkey: SYSVAR_STAKE_HISTORY_PUBKEY,\n          isSigner: false,\n          isWritable: false,\n        },\n        {pubkey: STAKE_CONFIG_ID, isSigner: false, isWritable: false},\n        {pubkey: authorizedPubkey, isSigner: true, isWritable: false},\n      ],\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a Transaction that authorizes a new PublicKey as Staker\n   * or Withdrawer on the Stake account.\n   */\n  static authorize(params: AuthorizeStakeParams): Transaction {\n    const {\n      stakePubkey,\n      authorizedPubkey,\n      newAuthorizedPubkey,\n      stakeAuthorizationType,\n      custodianPubkey,\n    } = params;\n\n    const type = STAKE_INSTRUCTION_LAYOUTS.Authorize;\n    const data = encodeData(type, {\n      newAuthorized: toBuffer(newAuthorizedPubkey.toBuffer()),\n      stakeAuthorizationType: stakeAuthorizationType.index,\n    });\n\n    const keys = [\n      {pubkey: stakePubkey, isSigner: false, isWritable: true},\n      {pubkey: SYSVAR_CLOCK_PUBKEY, isSigner: false, isWritable: true},\n      {pubkey: authorizedPubkey, isSigner: true, isWritable: false},\n    ];\n    if (custodianPubkey) {\n      keys.push({\n        pubkey: custodianPubkey,\n        isSigner: true,\n        isWritable: false,\n      });\n    }\n    return new Transaction().add({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a Transaction that authorizes a new PublicKey as Staker\n   * or Withdrawer on the Stake account.\n   */\n  static authorizeWithSeed(params: AuthorizeWithSeedStakeParams): Transaction {\n    const {\n      stakePubkey,\n      authorityBase,\n      authoritySeed,\n      authorityOwner,\n      newAuthorizedPubkey,\n      stakeAuthorizationType,\n      custodianPubkey,\n    } = params;\n\n    const type = STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed;\n    const data = encodeData(type, {\n      newAuthorized: toBuffer(newAuthorizedPubkey.toBuffer()),\n      stakeAuthorizationType: stakeAuthorizationType.index,\n      authoritySeed: authoritySeed,\n      authorityOwner: toBuffer(authorityOwner.toBuffer()),\n    });\n\n    const keys = [\n      {pubkey: stakePubkey, isSigner: false, isWritable: true},\n      {pubkey: authorityBase, isSigner: true, isWritable: false},\n      {pubkey: SYSVAR_CLOCK_PUBKEY, isSigner: false, isWritable: false},\n    ];\n    if (custodianPubkey) {\n      keys.push({\n        pubkey: custodianPubkey,\n        isSigner: true,\n        isWritable: false,\n      });\n    }\n    return new Transaction().add({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * @internal\n   */\n  static splitInstruction(params: SplitStakeParams): TransactionInstruction {\n    const {stakePubkey, authorizedPubkey, splitStakePubkey, lamports} = params;\n    const type = STAKE_INSTRUCTION_LAYOUTS.Split;\n    const data = encodeData(type, {lamports});\n    return new TransactionInstruction({\n      keys: [\n        {pubkey: stakePubkey, isSigner: false, isWritable: true},\n        {pubkey: splitStakePubkey, isSigner: false, isWritable: true},\n        {pubkey: authorizedPubkey, isSigner: true, isWritable: false},\n      ],\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a Transaction that splits Stake tokens into another stake account\n   */\n  static split(\n    params: SplitStakeParams,\n    // Compute the cost of allocating the new stake account in lamports\n    rentExemptReserve: number,\n  ): Transaction {\n    const transaction = new Transaction();\n    transaction.add(\n      SystemProgram.createAccount({\n        fromPubkey: params.authorizedPubkey,\n        newAccountPubkey: params.splitStakePubkey,\n        lamports: rentExemptReserve,\n        space: this.space,\n        programId: this.programId,\n      }),\n    );\n    return transaction.add(this.splitInstruction(params));\n  }\n\n  /**\n   * Generate a Transaction that splits Stake tokens into another account\n   * derived from a base public key and seed\n   */\n  static splitWithSeed(\n    params: SplitStakeWithSeedParams,\n    // If this stake account is new, compute the cost of allocating it in lamports\n    rentExemptReserve?: number,\n  ): Transaction {\n    const {\n      stakePubkey,\n      authorizedPubkey,\n      splitStakePubkey,\n      basePubkey,\n      seed,\n      lamports,\n    } = params;\n    const transaction = new Transaction();\n    transaction.add(\n      SystemProgram.allocate({\n        accountPubkey: splitStakePubkey,\n        basePubkey,\n        seed,\n        space: this.space,\n        programId: this.programId,\n      }),\n    );\n    if (rentExemptReserve && rentExemptReserve > 0) {\n      transaction.add(\n        SystemProgram.transfer({\n          fromPubkey: params.authorizedPubkey,\n          toPubkey: splitStakePubkey,\n          lamports: rentExemptReserve,\n        }),\n      );\n    }\n    return transaction.add(\n      this.splitInstruction({\n        stakePubkey,\n        authorizedPubkey,\n        splitStakePubkey,\n        lamports,\n      }),\n    );\n  }\n\n  /**\n   * Generate a Transaction that merges Stake accounts.\n   */\n  static merge(params: MergeStakeParams): Transaction {\n    const {stakePubkey, sourceStakePubKey, authorizedPubkey} = params;\n    const type = STAKE_INSTRUCTION_LAYOUTS.Merge;\n    const data = encodeData(type);\n\n    return new Transaction().add({\n      keys: [\n        {pubkey: stakePubkey, isSigner: false, isWritable: true},\n        {pubkey: sourceStakePubKey, isSigner: false, isWritable: true},\n        {pubkey: SYSVAR_CLOCK_PUBKEY, isSigner: false, isWritable: false},\n        {\n          pubkey: SYSVAR_STAKE_HISTORY_PUBKEY,\n          isSigner: false,\n          isWritable: false,\n        },\n        {pubkey: authorizedPubkey, isSigner: true, isWritable: false},\n      ],\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a Transaction that withdraws deactivated Stake tokens.\n   */\n  static withdraw(params: WithdrawStakeParams): Transaction {\n    const {stakePubkey, authorizedPubkey, toPubkey, lamports, custodianPubkey} =\n      params;\n    const type = STAKE_INSTRUCTION_LAYOUTS.Withdraw;\n    const data = encodeData(type, {lamports});\n\n    const keys = [\n      {pubkey: stakePubkey, isSigner: false, isWritable: true},\n      {pubkey: toPubkey, isSigner: false, isWritable: true},\n      {pubkey: SYSVAR_CLOCK_PUBKEY, isSigner: false, isWritable: false},\n      {\n        pubkey: SYSVAR_STAKE_HISTORY_PUBKEY,\n        isSigner: false,\n        isWritable: false,\n      },\n      {pubkey: authorizedPubkey, isSigner: true, isWritable: false},\n    ];\n    if (custodianPubkey) {\n      keys.push({\n        pubkey: custodianPubkey,\n        isSigner: true,\n        isWritable: false,\n      });\n    }\n    return new Transaction().add({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a Transaction that deactivates Stake tokens.\n   */\n  static deactivate(params: DeactivateStakeParams): Transaction {\n    const {stakePubkey, authorizedPubkey} = params;\n    const type = STAKE_INSTRUCTION_LAYOUTS.Deactivate;\n    const data = encodeData(type);\n\n    return new Transaction().add({\n      keys: [\n        {pubkey: stakePubkey, isSigner: false, isWritable: true},\n        {pubkey: SYSVAR_CLOCK_PUBKEY, isSigner: false, isWritable: false},\n        {pubkey: authorizedPubkey, isSigner: true, isWritable: false},\n      ],\n      programId: this.programId,\n      data,\n    });\n  }\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\n\nimport {\n  encodeData,\n  decodeData,\n  InstructionType,\n  IInstructionInputData,\n} from '../instruction';\nimport * as Layout from '../layout';\nimport {PublicKey} from '../publickey';\nimport {SystemProgram} from './system';\nimport {SYSVAR_CLOCK_PUBKEY, SYSVAR_RENT_PUBKEY} from '../sysvar';\nimport {Transaction, TransactionInstruction} from '../transaction';\nimport {toBuffer} from '../utils/to-buffer';\n\n/**\n * Vote account info\n */\nexport class VoteInit {\n  nodePubkey: PublicKey;\n  authorizedVoter: PublicKey;\n  authorizedWithdrawer: PublicKey;\n  commission: number; /** [0, 100] */\n\n  constructor(\n    nodePubkey: PublicKey,\n    authorizedVoter: PublicKey,\n    authorizedWithdrawer: PublicKey,\n    commission: number,\n  ) {\n    this.nodePubkey = nodePubkey;\n    this.authorizedVoter = authorizedVoter;\n    this.authorizedWithdrawer = authorizedWithdrawer;\n    this.commission = commission;\n  }\n}\n\n/**\n * Create vote account transaction params\n */\nexport type CreateVoteAccountParams = {\n  fromPubkey: PublicKey;\n  votePubkey: PublicKey;\n  voteInit: VoteInit;\n  lamports: number;\n};\n\n/**\n * InitializeAccount instruction params\n */\nexport type InitializeAccountParams = {\n  votePubkey: PublicKey;\n  nodePubkey: PublicKey;\n  voteInit: VoteInit;\n};\n\n/**\n * Authorize instruction params\n */\nexport type AuthorizeVoteParams = {\n  votePubkey: PublicKey;\n  /** Current vote or withdraw authority, depending on `voteAuthorizationType` */\n  authorizedPubkey: PublicKey;\n  newAuthorizedPubkey: PublicKey;\n  voteAuthorizationType: VoteAuthorizationType;\n};\n\n/**\n * AuthorizeWithSeed instruction params\n */\nexport type AuthorizeVoteWithSeedParams = {\n  currentAuthorityDerivedKeyBasePubkey: PublicKey;\n  currentAuthorityDerivedKeyOwnerPubkey: PublicKey;\n  currentAuthorityDerivedKeySeed: string;\n  newAuthorizedPubkey: PublicKey;\n  voteAuthorizationType: VoteAuthorizationType;\n  votePubkey: PublicKey;\n};\n\n/**\n * Withdraw from vote account transaction params\n */\nexport type WithdrawFromVoteAccountParams = {\n  votePubkey: PublicKey;\n  authorizedWithdrawerPubkey: PublicKey;\n  lamports: number;\n  toPubkey: PublicKey;\n};\n\n/**\n * Update validator identity (node pubkey) vote account instruction params.\n */\nexport type UpdateValidatorIdentityParams = {\n  votePubkey: PublicKey;\n  authorizedWithdrawerPubkey: PublicKey;\n  nodePubkey: PublicKey;\n};\n\n/**\n * Vote Instruction class\n */\nexport class VoteInstruction {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Decode a vote instruction and retrieve the instruction type.\n   */\n  static decodeInstructionType(\n    instruction: TransactionInstruction,\n  ): VoteInstructionType {\n    this.checkProgramId(instruction.programId);\n\n    const instructionTypeLayout = BufferLayout.u32('instruction');\n    const typeIndex = instructionTypeLayout.decode(instruction.data);\n\n    let type: VoteInstructionType | undefined;\n    for (const [ixType, layout] of Object.entries(VOTE_INSTRUCTION_LAYOUTS)) {\n      if (layout.index == typeIndex) {\n        type = ixType as VoteInstructionType;\n        break;\n      }\n    }\n\n    if (!type) {\n      throw new Error('Instruction type incorrect; not a VoteInstruction');\n    }\n\n    return type;\n  }\n\n  /**\n   * Decode an initialize vote instruction and retrieve the instruction params.\n   */\n  static decodeInitializeAccount(\n    instruction: TransactionInstruction,\n  ): InitializeAccountParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 4);\n\n    const {voteInit} = decodeData(\n      VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,\n      instruction.data,\n    );\n\n    return {\n      votePubkey: instruction.keys[0].pubkey,\n      nodePubkey: instruction.keys[3].pubkey,\n      voteInit: new VoteInit(\n        new PublicKey(voteInit.nodePubkey),\n        new PublicKey(voteInit.authorizedVoter),\n        new PublicKey(voteInit.authorizedWithdrawer),\n        voteInit.commission,\n      ),\n    };\n  }\n\n  /**\n   * Decode an authorize instruction and retrieve the instruction params.\n   */\n  static decodeAuthorize(\n    instruction: TransactionInstruction,\n  ): AuthorizeVoteParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 3);\n\n    const {newAuthorized, voteAuthorizationType} = decodeData(\n      VOTE_INSTRUCTION_LAYOUTS.Authorize,\n      instruction.data,\n    );\n\n    return {\n      votePubkey: instruction.keys[0].pubkey,\n      authorizedPubkey: instruction.keys[2].pubkey,\n      newAuthorizedPubkey: new PublicKey(newAuthorized),\n      voteAuthorizationType: {\n        index: voteAuthorizationType,\n      },\n    };\n  }\n\n  /**\n   * Decode an authorize instruction and retrieve the instruction params.\n   */\n  static decodeAuthorizeWithSeed(\n    instruction: TransactionInstruction,\n  ): AuthorizeVoteWithSeedParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 3);\n\n    const {\n      voteAuthorizeWithSeedArgs: {\n        currentAuthorityDerivedKeyOwnerPubkey,\n        currentAuthorityDerivedKeySeed,\n        newAuthorized,\n        voteAuthorizationType,\n      },\n    } = decodeData(\n      VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,\n      instruction.data,\n    );\n\n    return {\n      currentAuthorityDerivedKeyBasePubkey: instruction.keys[2].pubkey,\n      currentAuthorityDerivedKeyOwnerPubkey: new PublicKey(\n        currentAuthorityDerivedKeyOwnerPubkey,\n      ),\n      currentAuthorityDerivedKeySeed: currentAuthorityDerivedKeySeed,\n      newAuthorizedPubkey: new PublicKey(newAuthorized),\n      voteAuthorizationType: {\n        index: voteAuthorizationType,\n      },\n      votePubkey: instruction.keys[0].pubkey,\n    };\n  }\n\n  /**\n   * Decode a withdraw instruction and retrieve the instruction params.\n   */\n  static decodeWithdraw(\n    instruction: TransactionInstruction,\n  ): WithdrawFromVoteAccountParams {\n    this.checkProgramId(instruction.programId);\n    this.checkKeyLength(instruction.keys, 3);\n\n    const {lamports} = decodeData(\n      VOTE_INSTRUCTION_LAYOUTS.Withdraw,\n      instruction.data,\n    );\n\n    return {\n      votePubkey: instruction.keys[0].pubkey,\n      authorizedWithdrawerPubkey: instruction.keys[2].pubkey,\n      lamports,\n      toPubkey: instruction.keys[1].pubkey,\n    };\n  }\n\n  /**\n   * @internal\n   */\n  static checkProgramId(programId: PublicKey) {\n    if (!programId.equals(VoteProgram.programId)) {\n      throw new Error('invalid instruction; programId is not VoteProgram');\n    }\n  }\n\n  /**\n   * @internal\n   */\n  static checkKeyLength(keys: Array<any>, expectedLength: number) {\n    if (keys.length < expectedLength) {\n      throw new Error(\n        `invalid instruction; found ${keys.length} keys, expected at least ${expectedLength}`,\n      );\n    }\n  }\n}\n\n/**\n * An enumeration of valid VoteInstructionType's\n */\nexport type VoteInstructionType =\n  // FIXME\n  // It would be preferable for this type to be `keyof VoteInstructionInputData`\n  // but Typedoc does not transpile `keyof` expressions.\n  // See https://github.com/TypeStrong/typedoc/issues/1894\n  | 'Authorize'\n  | 'AuthorizeWithSeed'\n  | 'InitializeAccount'\n  | 'Withdraw'\n  | 'UpdateValidatorIdentity';\n\n/** @internal */\nexport type VoteAuthorizeWithSeedArgs = Readonly<{\n  currentAuthorityDerivedKeyOwnerPubkey: Uint8Array;\n  currentAuthorityDerivedKeySeed: string;\n  newAuthorized: Uint8Array;\n  voteAuthorizationType: number;\n}>;\ntype VoteInstructionInputData = {\n  Authorize: IInstructionInputData & {\n    newAuthorized: Uint8Array;\n    voteAuthorizationType: number;\n  };\n  AuthorizeWithSeed: IInstructionInputData & {\n    voteAuthorizeWithSeedArgs: VoteAuthorizeWithSeedArgs;\n  };\n  InitializeAccount: IInstructionInputData & {\n    voteInit: Readonly<{\n      authorizedVoter: Uint8Array;\n      authorizedWithdrawer: Uint8Array;\n      commission: number;\n      nodePubkey: Uint8Array;\n    }>;\n  };\n  Withdraw: IInstructionInputData & {\n    lamports: number;\n  };\n  UpdateValidatorIdentity: IInstructionInputData;\n};\n\nconst VOTE_INSTRUCTION_LAYOUTS = Object.freeze<{\n  [Instruction in VoteInstructionType]: InstructionType<\n    VoteInstructionInputData[Instruction]\n  >;\n}>({\n  InitializeAccount: {\n    index: 0,\n    layout: BufferLayout.struct<VoteInstructionInputData['InitializeAccount']>([\n      BufferLayout.u32('instruction'),\n      Layout.voteInit(),\n    ]),\n  },\n  Authorize: {\n    index: 1,\n    layout: BufferLayout.struct<VoteInstructionInputData['Authorize']>([\n      BufferLayout.u32('instruction'),\n      Layout.publicKey('newAuthorized'),\n      BufferLayout.u32('voteAuthorizationType'),\n    ]),\n  },\n  Withdraw: {\n    index: 3,\n    layout: BufferLayout.struct<VoteInstructionInputData['Withdraw']>([\n      BufferLayout.u32('instruction'),\n      BufferLayout.ns64('lamports'),\n    ]),\n  },\n  UpdateValidatorIdentity: {\n    index: 4,\n    layout: BufferLayout.struct<\n      VoteInstructionInputData['UpdateValidatorIdentity']\n    >([BufferLayout.u32('instruction')]),\n  },\n  AuthorizeWithSeed: {\n    index: 10,\n    layout: BufferLayout.struct<VoteInstructionInputData['AuthorizeWithSeed']>([\n      BufferLayout.u32('instruction'),\n      Layout.voteAuthorizeWithSeedArgs(),\n    ]),\n  },\n});\n\n/**\n * VoteAuthorize type\n */\nexport type VoteAuthorizationType = {\n  /** The VoteAuthorize index (from solana-vote-program) */\n  index: number;\n};\n\n/**\n * An enumeration of valid VoteAuthorization layouts.\n */\nexport const VoteAuthorizationLayout = Object.freeze({\n  Voter: {\n    index: 0,\n  },\n  Withdrawer: {\n    index: 1,\n  },\n});\n\n/**\n * Factory class for transactions to interact with the Vote program\n */\nexport class VoteProgram {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Public key that identifies the Vote program\n   */\n  static programId: PublicKey = new PublicKey(\n    'Vote111111111111111111111111111111111111111',\n  );\n\n  /**\n   * Max space of a Vote account\n   *\n   * This is generated from the solana-vote-program VoteState struct as\n   * `VoteState::size_of()`:\n   * https://docs.rs/solana-vote-program/1.9.5/solana_vote_program/vote_state/struct.VoteState.html#method.size_of\n   *\n   * KEEP IN SYNC WITH `VoteState::size_of()` in https://github.com/solana-labs/solana/blob/a474cb24b9238f5edcc982f65c0b37d4a1046f7e/sdk/program/src/vote/state/mod.rs#L340-L342\n   */\n  static space: number = 3762;\n\n  /**\n   * Generate an Initialize instruction.\n   */\n  static initializeAccount(\n    params: InitializeAccountParams,\n  ): TransactionInstruction {\n    const {votePubkey, nodePubkey, voteInit} = params;\n    const type = VOTE_INSTRUCTION_LAYOUTS.InitializeAccount;\n    const data = encodeData(type, {\n      voteInit: {\n        nodePubkey: toBuffer(voteInit.nodePubkey.toBuffer()),\n        authorizedVoter: toBuffer(voteInit.authorizedVoter.toBuffer()),\n        authorizedWithdrawer: toBuffer(\n          voteInit.authorizedWithdrawer.toBuffer(),\n        ),\n        commission: voteInit.commission,\n      },\n    });\n    const instructionData = {\n      keys: [\n        {pubkey: votePubkey, isSigner: false, isWritable: true},\n        {pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false},\n        {pubkey: SYSVAR_CLOCK_PUBKEY, isSigner: false, isWritable: false},\n        {pubkey: nodePubkey, isSigner: true, isWritable: false},\n      ],\n      programId: this.programId,\n      data,\n    };\n    return new TransactionInstruction(instructionData);\n  }\n\n  /**\n   * Generate a transaction that creates a new Vote account.\n   */\n  static createAccount(params: CreateVoteAccountParams): Transaction {\n    const transaction = new Transaction();\n    transaction.add(\n      SystemProgram.createAccount({\n        fromPubkey: params.fromPubkey,\n        newAccountPubkey: params.votePubkey,\n        lamports: params.lamports,\n        space: this.space,\n        programId: this.programId,\n      }),\n    );\n\n    return transaction.add(\n      this.initializeAccount({\n        votePubkey: params.votePubkey,\n        nodePubkey: params.voteInit.nodePubkey,\n        voteInit: params.voteInit,\n      }),\n    );\n  }\n\n  /**\n   * Generate a transaction that authorizes a new Voter or Withdrawer on the Vote account.\n   */\n  static authorize(params: AuthorizeVoteParams): Transaction {\n    const {\n      votePubkey,\n      authorizedPubkey,\n      newAuthorizedPubkey,\n      voteAuthorizationType,\n    } = params;\n\n    const type = VOTE_INSTRUCTION_LAYOUTS.Authorize;\n    const data = encodeData(type, {\n      newAuthorized: toBuffer(newAuthorizedPubkey.toBuffer()),\n      voteAuthorizationType: voteAuthorizationType.index,\n    });\n\n    const keys = [\n      {pubkey: votePubkey, isSigner: false, isWritable: true},\n      {pubkey: SYSVAR_CLOCK_PUBKEY, isSigner: false, isWritable: false},\n      {pubkey: authorizedPubkey, isSigner: true, isWritable: false},\n    ];\n\n    return new Transaction().add({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a transaction that authorizes a new Voter or Withdrawer on the Vote account\n   * where the current Voter or Withdrawer authority is a derived key.\n   */\n  static authorizeWithSeed(params: AuthorizeVoteWithSeedParams): Transaction {\n    const {\n      currentAuthorityDerivedKeyBasePubkey,\n      currentAuthorityDerivedKeyOwnerPubkey,\n      currentAuthorityDerivedKeySeed,\n      newAuthorizedPubkey,\n      voteAuthorizationType,\n      votePubkey,\n    } = params;\n\n    const type = VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed;\n    const data = encodeData(type, {\n      voteAuthorizeWithSeedArgs: {\n        currentAuthorityDerivedKeyOwnerPubkey: toBuffer(\n          currentAuthorityDerivedKeyOwnerPubkey.toBuffer(),\n        ),\n        currentAuthorityDerivedKeySeed: currentAuthorityDerivedKeySeed,\n        newAuthorized: toBuffer(newAuthorizedPubkey.toBuffer()),\n        voteAuthorizationType: voteAuthorizationType.index,\n      },\n    });\n\n    const keys = [\n      {pubkey: votePubkey, isSigner: false, isWritable: true},\n      {pubkey: SYSVAR_CLOCK_PUBKEY, isSigner: false, isWritable: false},\n      {\n        pubkey: currentAuthorityDerivedKeyBasePubkey,\n        isSigner: true,\n        isWritable: false,\n      },\n    ];\n\n    return new Transaction().add({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a transaction to withdraw from a Vote account.\n   */\n  static withdraw(params: WithdrawFromVoteAccountParams): Transaction {\n    const {votePubkey, authorizedWithdrawerPubkey, lamports, toPubkey} = params;\n    const type = VOTE_INSTRUCTION_LAYOUTS.Withdraw;\n    const data = encodeData(type, {lamports});\n\n    const keys = [\n      {pubkey: votePubkey, isSigner: false, isWritable: true},\n      {pubkey: toPubkey, isSigner: false, isWritable: true},\n      {pubkey: authorizedWithdrawerPubkey, isSigner: true, isWritable: false},\n    ];\n\n    return new Transaction().add({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n\n  /**\n   * Generate a transaction to withdraw safely from a Vote account.\n   *\n   * This function was created as a safeguard for vote accounts running validators, `safeWithdraw`\n   * checks that the withdraw amount will not exceed the specified balance while leaving enough left\n   * to cover rent. If you wish to close the vote account by withdrawing the full amount, call the\n   * `withdraw` method directly.\n   */\n  static safeWithdraw(\n    params: WithdrawFromVoteAccountParams,\n    currentVoteAccountBalance: number,\n    rentExemptMinimum: number,\n  ): Transaction {\n    if (params.lamports > currentVoteAccountBalance - rentExemptMinimum) {\n      throw new Error(\n        'Withdraw will leave vote account with insufficient funds.',\n      );\n    }\n    return VoteProgram.withdraw(params);\n  }\n\n  /**\n   * Generate a transaction to update the validator identity (node pubkey) of a Vote account.\n   */\n  static updateValidatorIdentity(\n    params: UpdateValidatorIdentityParams,\n  ): Transaction {\n    const {votePubkey, authorizedWithdrawerPubkey, nodePubkey} = params;\n    const type = VOTE_INSTRUCTION_LAYOUTS.UpdateValidatorIdentity;\n    const data = encodeData(type);\n\n    const keys = [\n      {pubkey: votePubkey, isSigner: false, isWritable: true},\n      {pubkey: nodePubkey, isSigner: true, isWritable: false},\n      {pubkey: authorizedWithdrawerPubkey, isSigner: true, isWritable: false},\n    ];\n\n    return new Transaction().add({\n      keys,\n      programId: this.programId,\n      data,\n    });\n  }\n}\n", "import {Buffer} from 'buffer';\nimport {\n  assert as assertType,\n  optional,\n  string,\n  type as pick,\n} from 'superstruct';\n\nimport * as Layout from './layout';\nimport * as shortvec from './utils/shortvec-encoding';\nimport {PublicKey, PUBLIC_KEY_LENGTH} from './publickey';\nimport {guardedShift, guardedSplice} from './utils/guarded-array-utils';\n\nexport const VALIDATOR_INFO_KEY = new PublicKey(\n  'Va1idator1nfo111111111111111111111111111111',\n);\n\n/**\n * @internal\n */\ntype ConfigKey = {\n  publicKey: PublicKey;\n  isSigner: boolean;\n};\n\n/**\n * Info used to identity validators.\n */\nexport type Info = {\n  /** validator name */\n  name: string;\n  /** optional, validator website */\n  website?: string;\n  /** optional, extra information the validator chose to share */\n  details?: string;\n  /** optional, validator logo URL */\n  iconUrl?: string;\n  /** optional, used to identify validators on keybase.io */\n  keybaseUsername?: string;\n};\n\nconst InfoString = pick({\n  name: string(),\n  website: optional(string()),\n  details: optional(string()),\n  iconUrl: optional(string()),\n  keybaseUsername: optional(string()),\n});\n\n/**\n * ValidatorInfo class\n */\nexport class ValidatorInfo {\n  /**\n   * validator public key\n   */\n  key: PublicKey;\n  /**\n   * validator information\n   */\n  info: Info;\n\n  /**\n   * Construct a valid ValidatorInfo\n   *\n   * @param key validator public key\n   * @param info validator information\n   */\n  constructor(key: PublicKey, info: Info) {\n    this.key = key;\n    this.info = info;\n  }\n\n  /**\n   * Deserialize ValidatorInfo from the config account data. Exactly two config\n   * keys are required in the data.\n   *\n   * @param buffer config account data\n   * @return null if info was not found\n   */\n  static fromConfigData(\n    buffer: Buffer | Uint8Array | Array<number>,\n  ): ValidatorInfo | null {\n    let byteArray = [...buffer];\n    const configKeyCount = shortvec.decodeLength(byteArray);\n    if (configKeyCount !== 2) return null;\n\n    const configKeys: Array<ConfigKey> = [];\n    for (let i = 0; i < 2; i++) {\n      const publicKey = new PublicKey(\n        guardedSplice(byteArray, 0, PUBLIC_KEY_LENGTH),\n      );\n      const isSigner = guardedShift(byteArray) === 1;\n      configKeys.push({publicKey, isSigner});\n    }\n\n    if (configKeys[0].publicKey.equals(VALIDATOR_INFO_KEY)) {\n      if (configKeys[1].isSigner) {\n        const rawInfo: any = Layout.rustString().decode(Buffer.from(byteArray));\n        const info = JSON.parse(rawInfo as string);\n        assertType(info, InfoString);\n        return new ValidatorInfo(configKeys[1].publicKey, info);\n      }\n    }\n\n    return null;\n  }\n}\n", "import * as BufferLayout from '@solana/buffer-layout';\nimport type {Buffer} from 'buffer';\n\nimport * as Layout from './layout';\nimport {PublicKey} from './publickey';\nimport {toBuffer} from './utils/to-buffer';\n\nexport const VOTE_PROGRAM_ID = new PublicKey(\n  'Vote111111111111111111111111111111111111111',\n);\n\nexport type Lockout = {\n  slot: number;\n  confirmationCount: number;\n};\n\n/**\n * History of how many credits earned by the end of each epoch\n */\nexport type EpochCredits = Readonly<{\n  epoch: number;\n  credits: number;\n  prevCredits: number;\n}>;\n\nexport type AuthorizedVoter = Readonly<{\n  epoch: number;\n  authorizedVoter: PublicKey;\n}>;\n\ntype AuthorizedVoterRaw = Readonly<{\n  authorizedVoter: Uint8Array;\n  epoch: number;\n}>;\n\ntype PriorVoters = Readonly<{\n  buf: PriorVoterRaw[];\n  idx: number;\n  isEmpty: number;\n}>;\n\nexport type PriorVoter = Readonly<{\n  authorizedPubkey: PublicKey;\n  epochOfLastAuthorizedSwitch: number;\n  targetEpoch: number;\n}>;\n\ntype PriorVoterRaw = Readonly<{\n  authorizedPubkey: Uint8Array;\n  epochOfLastAuthorizedSwitch: number;\n  targetEpoch: number;\n}>;\n\nexport type BlockTimestamp = Readonly<{\n  slot: number;\n  timestamp: number;\n}>;\n\ntype VoteAccountData = Readonly<{\n  authorizedVoters: AuthorizedVoterRaw[];\n  authorizedWithdrawer: Uint8Array;\n  commission: number;\n  epochCredits: EpochCredits[];\n  lastTimestamp: BlockTimestamp;\n  nodePubkey: Uint8Array;\n  priorVoters: PriorVoters;\n  rootSlot: number;\n  rootSlotValid: number;\n  votes: Lockout[];\n}>;\n\n/**\n * See https://github.com/solana-labs/solana/blob/8a12ed029cfa38d4a45400916c2463fb82bbec8c/programs/vote_api/src/vote_state.rs#L68-L88\n *\n * @internal\n */\nconst VoteAccountLayout = BufferLayout.struct<VoteAccountData>([\n  Layout.publicKey('nodePubkey'),\n  Layout.publicKey('authorizedWithdrawer'),\n  BufferLayout.u8('commission'),\n  BufferLayout.nu64(), // votes.length\n  BufferLayout.seq<Lockout>(\n    BufferLayout.struct([\n      BufferLayout.nu64('slot'),\n      BufferLayout.u32('confirmationCount'),\n    ]),\n    BufferLayout.offset(BufferLayout.u32(), -8),\n    'votes',\n  ),\n  BufferLayout.u8('rootSlotValid'),\n  BufferLayout.nu64('rootSlot'),\n  BufferLayout.nu64(), // authorizedVoters.length\n  BufferLayout.seq<AuthorizedVoterRaw>(\n    BufferLayout.struct([\n      BufferLayout.nu64('epoch'),\n      Layout.publicKey('authorizedVoter'),\n    ]),\n    BufferLayout.offset(BufferLayout.u32(), -8),\n    'authorizedVoters',\n  ),\n  BufferLayout.struct<PriorVoters>(\n    [\n      BufferLayout.seq(\n        BufferLayout.struct([\n          Layout.publicKey('authorizedPubkey'),\n          BufferLayout.nu64('epochOfLastAuthorizedSwitch'),\n          BufferLayout.nu64('targetEpoch'),\n        ]),\n        32,\n        'buf',\n      ),\n      BufferLayout.nu64('idx'),\n      BufferLayout.u8('isEmpty'),\n    ],\n    'priorVoters',\n  ),\n  BufferLayout.nu64(), // epochCredits.length\n  BufferLayout.seq<EpochCredits>(\n    BufferLayout.struct([\n      BufferLayout.nu64('epoch'),\n      BufferLayout.nu64('credits'),\n      BufferLayout.nu64('prevCredits'),\n    ]),\n    BufferLayout.offset(BufferLayout.u32(), -8),\n    'epochCredits',\n  ),\n  BufferLayout.struct<BlockTimestamp>(\n    [BufferLayout.nu64('slot'), BufferLayout.nu64('timestamp')],\n    'lastTimestamp',\n  ),\n]);\n\ntype VoteAccountArgs = {\n  nodePubkey: PublicKey;\n  authorizedWithdrawer: PublicKey;\n  commission: number;\n  rootSlot: number | null;\n  votes: Lockout[];\n  authorizedVoters: AuthorizedVoter[];\n  priorVoters: PriorVoter[];\n  epochCredits: EpochCredits[];\n  lastTimestamp: BlockTimestamp;\n};\n\n/**\n * VoteAccount class\n */\nexport class VoteAccount {\n  nodePubkey: PublicKey;\n  authorizedWithdrawer: PublicKey;\n  commission: number;\n  rootSlot: number | null;\n  votes: Lockout[];\n  authorizedVoters: AuthorizedVoter[];\n  priorVoters: PriorVoter[];\n  epochCredits: EpochCredits[];\n  lastTimestamp: BlockTimestamp;\n\n  /**\n   * @internal\n   */\n  constructor(args: VoteAccountArgs) {\n    this.nodePubkey = args.nodePubkey;\n    this.authorizedWithdrawer = args.authorizedWithdrawer;\n    this.commission = args.commission;\n    this.rootSlot = args.rootSlot;\n    this.votes = args.votes;\n    this.authorizedVoters = args.authorizedVoters;\n    this.priorVoters = args.priorVoters;\n    this.epochCredits = args.epochCredits;\n    this.lastTimestamp = args.lastTimestamp;\n  }\n\n  /**\n   * Deserialize VoteAccount from the account data.\n   *\n   * @param buffer account data\n   * @return VoteAccount\n   */\n  static fromAccountData(\n    buffer: Buffer | Uint8Array | Array<number>,\n  ): VoteAccount {\n    const versionOffset = 4;\n    const va = VoteAccountLayout.decode(toBuffer(buffer), versionOffset);\n\n    let rootSlot: number | null = va.rootSlot;\n    if (!va.rootSlotValid) {\n      rootSlot = null;\n    }\n\n    return new VoteAccount({\n      nodePubkey: new PublicKey(va.nodePubkey),\n      authorizedWithdrawer: new PublicKey(va.authorizedWithdrawer),\n      commission: va.commission,\n      votes: va.votes,\n      rootSlot,\n      authorizedVoters: va.authorizedVoters.map(parseAuthorizedVoter),\n      priorVoters: getPriorVoters(va.priorVoters),\n      epochCredits: va.epochCredits,\n      lastTimestamp: va.lastTimestamp,\n    });\n  }\n}\n\nfunction parseAuthorizedVoter({\n  authorizedVoter,\n  epoch,\n}: AuthorizedVoterRaw): AuthorizedVoter {\n  return {\n    epoch,\n    authorizedVoter: new PublicKey(authorizedVoter),\n  };\n}\n\nfunction parsePriorVoters({\n  authorizedPubkey,\n  epochOfLastAuthorizedSwitch,\n  targetEpoch,\n}: PriorVoterRaw): PriorVoter {\n  return {\n    authorizedPubkey: new PublicKey(authorizedPubkey),\n    epochOfLastAuthorizedSwitch,\n    targetEpoch,\n  };\n}\n\nfunction getPriorVoters({buf, idx, isEmpty}: PriorVoters): PriorVoter[] {\n  if (isEmpty) {\n    return [];\n  }\n\n  return [\n    ...buf.slice(idx + 1).map(parsePriorVoters),\n    ...buf.slice(0, idx).map(parsePriorVoters),\n  ];\n}\n", "const endpoint = {\n  http: {\n    devnet: 'http://api.devnet.solana.com',\n    testnet: 'http://api.testnet.solana.com',\n    'mainnet-beta': 'http://api.mainnet-beta.solana.com/',\n  },\n  https: {\n    devnet: 'https://api.devnet.solana.com',\n    testnet: 'https://api.testnet.solana.com',\n    'mainnet-beta': 'https://api.mainnet-beta.solana.com/',\n  },\n};\n\nexport type Cluster = 'devnet' | 'testnet' | 'mainnet-beta';\n\n/**\n * Retrieves the RPC API URL for the specified cluster\n * @param {Cluster} [cluster=\"devnet\"] - The cluster name of the RPC API URL to use. Possible options: 'devnet' | 'testnet' | 'mainnet-beta'\n * @param {boolean} [tls=\"http\"] - Use TLS when connecting to cluster.\n *\n * @returns {string} URL string of the RPC endpoint\n */\nexport function clusterApiUrl(cluster?: Cluster, tls?: boolean): string {\n  const key = tls === false ? 'http' : 'https';\n\n  if (!cluster) {\n    return endpoint[key]['devnet'];\n  }\n\n  const url = endpoint[key][cluster];\n  if (!url) {\n    throw new Error(`Unknown ${key} cluster: ${cluster}`);\n  }\n  return url;\n}\n", "import type {Buffer} from 'buffer';\n\nimport {\n  BlockheightBasedTransactionConfirmationStrategy,\n  Connection,\n  DurableNonceTransactionConfirmationStrategy,\n  TransactionConfirmationStrategy,\n} from '../connection';\nimport type {TransactionSignature} from '../transaction';\nimport type {ConfirmOptions} from '../connection';\nimport {SendTransactionError} from '../errors';\n\n/**\n * Send and confirm a raw transaction\n *\n * If `commitment` option is not specified, defaults to 'max' commitment.\n *\n * @param {Connection} connection\n * @param {Buffer} rawTransaction\n * @param {TransactionConfirmationStrategy} confirmationStrategy\n * @param {ConfirmOptions} [options]\n * @returns {Promise<TransactionSignature>}\n */\nexport async function sendAndConfirmRawTransaction(\n  connection: Connection,\n  rawTransaction: Buffer,\n  confirmationStrategy: TransactionConfirmationStrategy,\n  options?: ConfirmOptions,\n): Promise<TransactionSignature>;\n\n/**\n * @deprecated Calling `sendAndConfirmRawTransaction()` without a `confirmationStrategy`\n * is no longer supported and will be removed in a future version.\n */\n// eslint-disable-next-line no-redeclare\nexport async function sendAndConfirmRawTransaction(\n  connection: Connection,\n  rawTransaction: Buffer,\n  options?: ConfirmOptions,\n): Promise<TransactionSignature>;\n\n// eslint-disable-next-line no-redeclare\nexport async function sendAndConfirmRawTransaction(\n  connection: Connection,\n  rawTransaction: Buffer,\n  confirmationStrategyOrConfirmOptions:\n    | TransactionConfirmationStrategy\n    | ConfirmOptions\n    | undefined,\n  maybeConfirmOptions?: ConfirmOptions,\n): Promise<TransactionSignature> {\n  let confirmationStrategy: TransactionConfirmationStrategy | undefined;\n  let options: ConfirmOptions | undefined;\n  if (\n    confirmationStrategyOrConfirmOptions &&\n    Object.prototype.hasOwnProperty.call(\n      confirmationStrategyOrConfirmOptions,\n      'lastValidBlockHeight',\n    )\n  ) {\n    confirmationStrategy =\n      confirmationStrategyOrConfirmOptions as BlockheightBasedTransactionConfirmationStrategy;\n    options = maybeConfirmOptions;\n  } else if (\n    confirmationStrategyOrConfirmOptions &&\n    Object.prototype.hasOwnProperty.call(\n      confirmationStrategyOrConfirmOptions,\n      'nonceValue',\n    )\n  ) {\n    confirmationStrategy =\n      confirmationStrategyOrConfirmOptions as DurableNonceTransactionConfirmationStrategy;\n    options = maybeConfirmOptions;\n  } else {\n    options = confirmationStrategyOrConfirmOptions as\n      | ConfirmOptions\n      | undefined;\n  }\n  const sendOptions = options && {\n    skipPreflight: options.skipPreflight,\n    preflightCommitment: options.preflightCommitment || options.commitment,\n    minContextSlot: options.minContextSlot,\n  };\n\n  const signature = await connection.sendRawTransaction(\n    rawTransaction,\n    sendOptions,\n  );\n\n  const commitment = options && options.commitment;\n  const confirmationPromise = confirmationStrategy\n    ? connection.confirmTransaction(confirmationStrategy, commitment)\n    : connection.confirmTransaction(signature, commitment);\n  const status = (await confirmationPromise).value;\n\n  if (status.err) {\n    if (signature != null) {\n      throw new SendTransactionError({\n        action: sendOptions?.skipPreflight ? 'send' : 'simulate',\n        signature: signature,\n        transactionMessage: `Status: (${JSON.stringify(status)})`,\n      });\n    }\n    throw new Error(\n      `Raw transaction ${signature} failed (${JSON.stringify(status)})`,\n    );\n  }\n\n  return signature;\n}\n", "export * from './account';\nexport * from './blockhash';\nexport * from './bpf-loader-deprecated';\nexport * from './bpf-loader';\nexport * from './connection';\nexport * from './epoch-schedule';\nexport * from './errors';\nexport * from './fee-calculator';\nexport * from './keypair';\nexport * from './loader';\nexport * from './message';\nexport * from './nonce-account';\nexport * from './programs';\nexport * from './publickey';\nexport * from './transaction';\nexport * from './validator-info';\nexport * from './vote-account';\nexport * from './sysvar';\nexport * from './utils';\n\n/**\n * There are 1-billion lamports in one SOL\n */\nexport const LAMPORTS_PER_SOL = 1000000000;\n", null, null, "let wasm;\n\nlet cachedUint8ArrayMemory0 = null;\n\nfunction getUint8ArrayMemory0() {\n    if (cachedUint8ArrayMemory0 === null || cachedUint8ArrayMemory0.byteLength === 0) {\n        cachedUint8ArrayMemory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8ArrayMemory0;\n}\n\nlet cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nconst MAX_SAFARI_DECODE_BYTES = 2146435072;\nlet numBytesDecoded = 0;\nfunction decodeText(ptr, len) {\n    numBytesDecoded += len;\n    if (numBytesDecoded >= MAX_SAFARI_DECODE_BYTES) {\n        cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n        cachedTextDecoder.decode();\n        numBytesDecoded = len;\n    }\n    return cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(ptr, ptr + len));\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return decodeText(ptr, len);\n}\n\nfunction addToExternrefTable0(obj) {\n    const idx = wasm.__externref_table_alloc();\n    wasm.__wbindgen_externrefs.set(idx, obj);\n    return idx;\n}\n\nfunction handleError(f, args) {\n    try {\n        return f.apply(this, args);\n    } catch (e) {\n        const idx = addToExternrefTable0(e);\n        wasm.__wbindgen_exn_store(idx);\n    }\n}\n\nfunction getArrayU8FromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return getUint8ArrayMemory0().subarray(ptr / 1, ptr / 1 + len);\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nconst cachedTextEncoder = new TextEncoder();\n\nif (!('encodeInto' in cachedTextEncoder)) {\n    cachedTextEncoder.encodeInto = function (arg, view) {\n        const buf = cachedTextEncoder.encode(arg);\n        view.set(buf);\n        return {\n            read: arg.length,\n            written: buf.length\n        };\n    }\n}\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length, 1) >>> 0;\n        getUint8ArrayMemory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len, 1) >>> 0;\n\n    const mem = getUint8ArrayMemory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3, 1) >>> 0;\n        const view = getUint8ArrayMemory0().subarray(ptr + offset, ptr + len);\n        const ret = cachedTextEncoder.encodeInto(arg, view);\n\n        offset += ret.written;\n        ptr = realloc(ptr, len, offset, 1) >>> 0;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nlet cachedDataViewMemory0 = null;\n\nfunction getDataViewMemory0() {\n    if (cachedDataViewMemory0 === null || cachedDataViewMemory0.buffer.detached === true || (cachedDataViewMemory0.buffer.detached === undefined && cachedDataViewMemory0.buffer !== wasm.memory.buffer)) {\n        cachedDataViewMemory0 = new DataView(wasm.memory.buffer);\n    }\n    return cachedDataViewMemory0;\n}\n\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\n\nfunction takeFromExternrefTable0(idx) {\n    const value = wasm.__wbindgen_externrefs.get(idx);\n    wasm.__externref_table_dealloc(idx);\n    return value;\n}\n\nexport function generate_range_proof(amount, bit_length) {\n    const ret = wasm.generate_range_proof(amount, bit_length);\n    if (ret[2]) {\n        throw takeFromExternrefTable0(ret[1]);\n    }\n    return ZKProofResult.__wrap(ret[0]);\n}\n\nexport function init() {\n    wasm.init();\n}\n\nfunction passArray8ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 1, 1) >>> 0;\n    getUint8ArrayMemory0().set(arg, ptr / 1);\n    WASM_VECTOR_LEN = arg.length;\n    return ptr;\n}\n\nexport function verify_range_proof(proof_bytes, commitment_bytes, bit_length) {\n    const ptr0 = passArray8ToWasm0(proof_bytes, wasm.__wbindgen_malloc);\n    const len0 = WASM_VECTOR_LEN;\n    const ptr1 = passArray8ToWasm0(commitment_bytes, wasm.__wbindgen_malloc);\n    const len1 = WASM_VECTOR_LEN;\n    const ret = wasm.verify_range_proof(ptr0, len0, ptr1, len1, bit_length);\n    if (ret[2]) {\n        throw takeFromExternrefTable0(ret[1]);\n    }\n    return ret[0] !== 0;\n}\n\nconst ZKProofResultFinalization = (typeof FinalizationRegistry === 'undefined')\n    ? { register: () => {}, unregister: () => {} }\n    : new FinalizationRegistry(ptr => wasm.__wbg_zkproofresult_free(ptr >>> 0, 1));\n\nexport class ZKProofResult {\n\n    static __wrap(ptr) {\n        ptr = ptr >>> 0;\n        const obj = Object.create(ZKProofResult.prototype);\n        obj.__wbg_ptr = ptr;\n        ZKProofResultFinalization.register(obj, obj.__wbg_ptr, obj);\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        ZKProofResultFinalization.unregister(this);\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_zkproofresult_free(ptr, 0);\n    }\n\n    get proof_bytes() {\n        const ret = wasm.zkproofresult_proof_bytes(this.__wbg_ptr);\n        var v1 = getArrayU8FromWasm0(ret[0], ret[1]).slice();\n        wasm.__wbindgen_free(ret[0], ret[1] * 1, 1);\n        return v1;\n    }\n\n    get commitment_bytes() {\n        const ret = wasm.zkproofresult_commitment_bytes(this.__wbg_ptr);\n        var v1 = getArrayU8FromWasm0(ret[0], ret[1]).slice();\n        wasm.__wbindgen_free(ret[0], ret[1] * 1, 1);\n        return v1;\n    }\n\n    get blinding_factor_bytes() {\n        const ret = wasm.zkproofresult_blinding_factor_bytes(this.__wbg_ptr);\n        var v1 = getArrayU8FromWasm0(ret[0], ret[1]).slice();\n        wasm.__wbindgen_free(ret[0], ret[1] * 1, 1);\n        return v1;\n    }\n}\nif (Symbol.dispose) ZKProofResult.prototype[Symbol.dispose] = ZKProofResult.prototype.free;\n\nconst EXPECTED_RESPONSE_TYPES = new Set(['basic', 'cors', 'default']);\n\nasync function __wbg_load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n\n            } catch (e) {\n                const validResponse = module.ok && EXPECTED_RESPONSE_TYPES.has(module.type);\n\n                if (validResponse && module.headers.get('Content-Type') !== 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n\n    } else {\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n\n        } else {\n            return instance;\n        }\n    }\n}\n\nfunction __wbg_get_imports() {\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbg___wbindgen_is_function_ee8a6c5833c90377 = function(arg0) {\n        const ret = typeof(arg0) === 'function';\n        return ret;\n    };\n    imports.wbg.__wbg___wbindgen_is_object_c818261d21f283a4 = function(arg0) {\n        const val = arg0;\n        const ret = typeof(val) === 'object' && val !== null;\n        return ret;\n    };\n    imports.wbg.__wbg___wbindgen_is_string_fbb76cb2940daafd = function(arg0) {\n        const ret = typeof(arg0) === 'string';\n        return ret;\n    };\n    imports.wbg.__wbg___wbindgen_is_undefined_2d472862bd29a478 = function(arg0) {\n        const ret = arg0 === undefined;\n        return ret;\n    };\n    imports.wbg.__wbg___wbindgen_throw_b855445ff6a94295 = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbg_call_525440f72fbfc0ea = function() { return handleError(function (arg0, arg1, arg2) {\n        const ret = arg0.call(arg1, arg2);\n        return ret;\n    }, arguments) };\n    imports.wbg.__wbg_call_e762c39fa8ea36bf = function() { return handleError(function (arg0, arg1) {\n        const ret = arg0.call(arg1);\n        return ret;\n    }, arguments) };\n    imports.wbg.__wbg_crypto_574e78ad8b13b65f = function(arg0) {\n        const ret = arg0.crypto;\n        return ret;\n    };\n    imports.wbg.__wbg_error_7534b8e9a36f1ab4 = function(arg0, arg1) {\n        let deferred0_0;\n        let deferred0_1;\n        try {\n            deferred0_0 = arg0;\n            deferred0_1 = arg1;\n            console.error(getStringFromWasm0(arg0, arg1));\n        } finally {\n            wasm.__wbindgen_free(deferred0_0, deferred0_1, 1);\n        }\n    };\n    imports.wbg.__wbg_getRandomValues_b8f5dbd5f3995a9e = function() { return handleError(function (arg0, arg1) {\n        arg0.getRandomValues(arg1);\n    }, arguments) };\n    imports.wbg.__wbg_length_69bca3cb64fc8748 = function(arg0) {\n        const ret = arg0.length;\n        return ret;\n    };\n    imports.wbg.__wbg_msCrypto_a61aeb35a24c1329 = function(arg0) {\n        const ret = arg0.msCrypto;\n        return ret;\n    };\n    imports.wbg.__wbg_new_8a6f238a6ece86ea = function() {\n        const ret = new Error();\n        return ret;\n    };\n    imports.wbg.__wbg_new_no_args_ee98eee5275000a4 = function(arg0, arg1) {\n        const ret = new Function(getStringFromWasm0(arg0, arg1));\n        return ret;\n    };\n    imports.wbg.__wbg_new_with_length_01aa0dc35aa13543 = function(arg0) {\n        const ret = new Uint8Array(arg0 >>> 0);\n        return ret;\n    };\n    imports.wbg.__wbg_node_905d3e251edff8a2 = function(arg0) {\n        const ret = arg0.node;\n        return ret;\n    };\n    imports.wbg.__wbg_process_dc0fbacc7c1c06f7 = function(arg0) {\n        const ret = arg0.process;\n        return ret;\n    };\n    imports.wbg.__wbg_prototypesetcall_2a6620b6922694b2 = function(arg0, arg1, arg2) {\n        Uint8Array.prototype.set.call(getArrayU8FromWasm0(arg0, arg1), arg2);\n    };\n    imports.wbg.__wbg_randomFillSync_ac0988aba3254290 = function() { return handleError(function (arg0, arg1) {\n        arg0.randomFillSync(arg1);\n    }, arguments) };\n    imports.wbg.__wbg_require_60cc747a6bc5215a = function() { return handleError(function () {\n        const ret = module.require;\n        return ret;\n    }, arguments) };\n    imports.wbg.__wbg_stack_0ed75d68575b0f3c = function(arg0, arg1) {\n        const ret = arg1.stack;\n        const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len1 = WASM_VECTOR_LEN;\n        getDataViewMemory0().setInt32(arg0 + 4 * 1, len1, true);\n        getDataViewMemory0().setInt32(arg0 + 4 * 0, ptr1, true);\n    };\n    imports.wbg.__wbg_static_accessor_GLOBAL_89e1d9ac6a1b250e = function() {\n        const ret = typeof global === 'undefined' ? null : global;\n        return isLikeNone(ret) ? 0 : addToExternrefTable0(ret);\n    };\n    imports.wbg.__wbg_static_accessor_GLOBAL_THIS_8b530f326a9e48ac = function() {\n        const ret = typeof globalThis === 'undefined' ? null : globalThis;\n        return isLikeNone(ret) ? 0 : addToExternrefTable0(ret);\n    };\n    imports.wbg.__wbg_static_accessor_SELF_6fdf4b64710cc91b = function() {\n        const ret = typeof self === 'undefined' ? null : self;\n        return isLikeNone(ret) ? 0 : addToExternrefTable0(ret);\n    };\n    imports.wbg.__wbg_static_accessor_WINDOW_b45bfc5a37f6cfa2 = function() {\n        const ret = typeof window === 'undefined' ? null : window;\n        return isLikeNone(ret) ? 0 : addToExternrefTable0(ret);\n    };\n    imports.wbg.__wbg_subarray_480600f3d6a9f26c = function(arg0, arg1, arg2) {\n        const ret = arg0.subarray(arg1 >>> 0, arg2 >>> 0);\n        return ret;\n    };\n    imports.wbg.__wbg_versions_c01dfd4722a88165 = function(arg0) {\n        const ret = arg0.versions;\n        return ret;\n    };\n    imports.wbg.__wbindgen_cast_2241b6af4c4b2941 = function(arg0, arg1) {\n        const ret = getStringFromWasm0(arg0, arg1);\n        return ret;\n    };\n    imports.wbg.__wbindgen_cast_cb9088102bce6b30 = function(arg0, arg1) {\n        const ret = getArrayU8FromWasm0(arg0, arg1);\n        return ret;\n    };\n    imports.wbg.__wbindgen_init_externref_table = function() {\n        const table = wasm.__wbindgen_externrefs;\n        const offset = table.grow(4);\n        table.set(0, undefined);\n        table.set(offset + 0, undefined);\n        table.set(offset + 1, null);\n        table.set(offset + 2, true);\n        table.set(offset + 3, false);\n        ;\n    };\n\n    return imports;\n}\n\nfunction __wbg_finalize_init(instance, module) {\n    wasm = instance.exports;\n    __wbg_init.__wbindgen_wasm_module = module;\n    cachedDataViewMemory0 = null;\n    cachedUint8ArrayMemory0 = null;\n\n\n    wasm.__wbindgen_start();\n    return wasm;\n}\n\nfunction initSync(module) {\n    if (wasm !== undefined) return wasm;\n\n\n    if (typeof module !== 'undefined') {\n        if (Object.getPrototypeOf(module) === Object.prototype) {\n            ({module} = module)\n        } else {\n            console.warn('using deprecated parameters for `initSync()`; pass a single object instead')\n        }\n    }\n\n    const imports = __wbg_get_imports();\n\n    if (!(module instanceof WebAssembly.Module)) {\n        module = new WebAssembly.Module(module);\n    }\n\n    const instance = new WebAssembly.Instance(module, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nasync function __wbg_init(module_or_path) {\n    if (wasm !== undefined) return wasm;\n\n\n    if (typeof module_or_path !== 'undefined') {\n        if (Object.getPrototypeOf(module_or_path) === Object.prototype) {\n            ({module_or_path} = module_or_path)\n        } else {\n            console.warn('using deprecated parameters for the initialization function; pass a single object instead')\n        }\n    }\n\n    if (typeof module_or_path === 'undefined') {\n        module_or_path = new URL('settler_wasm_bg.wasm', import.meta.url);\n    }\n    const imports = __wbg_get_imports();\n\n    if (typeof module_or_path === 'string' || (typeof Request === 'function' && module_or_path instanceof Request) || (typeof URL === 'function' && module_or_path instanceof URL)) {\n        module_or_path = fetch(module_or_path);\n    }\n\n    const { instance, module } = await __wbg_load(await module_or_path, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nexport { initSync };\nexport default __wbg_init;\n", null, "'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) {\n    } else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength)\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source)\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Find code of next character\n      var charCode = source.charCodeAt(psz)\n            // Base map can not be indexed using char code\n      if (charCode > 255) { return }\n            // Decode character\n      var carry = BASE_MAP[charCode]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = new Uint8Array(zeroes + (size - it4))\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n", "const basex = require('base-x')\nconst ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n", null, null, null, null, "/**\r\n * Browser SDK Entry Point\r\n * Exports ShadowWire SDK for browser use\r\n * Note: Solana Web3.js is loaded separately via CDN\r\n */\r\n\r\n// Import ShadowWire SDK\r\nimport {\r\n  ShadowWireClient,\r\n  initWASM,\r\n  isWASMSupported,\r\n  generateRangeProof,\r\n  verifyRangeProof,\r\n  BULLETPROOF_INFO,\r\n} from '@radr/shadowwire';\r\n\r\n// Export for browser use\r\nexport {\r\n  ShadowWireClient,\r\n  initWASM,\r\n  isWASMSupported,\r\n  generateRangeProof,\r\n  verifyRangeProof,\r\n  BULLETPROOF_INFO,\r\n};\r\n"],
  "mappings": "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,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,gBAAO,MAAM,KAAK,KAAK,KAAK,GAAG,IAAK;AACpC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AAClC,eAAM,KAAK,KAAK,KAAK,KAAK,GAAG,IAAK;AA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",
  "names": ["len", "i", "len2", "Buffer", "i", "byteLength", "f", "window", "f", "wbits", "f", "p", "eddsa", "v3", "module", "exports", "Buffer", "init", "allocate", "self", "comb10MulTo", "prime", "module", "Buffer", "module", "i", "j", "module", "require_bs58", "module", "TextDecoder", "TextEncoder", "span", "Boolean", "isSolanaError", "ORDERED_ERROR_NAMES", "SolanaError", "SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH", "SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH", "SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH", "SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH", "SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH", "SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL", "SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES", "SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY", "SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH", "SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE", "SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH", "SolanaError", "SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE", "Endian", "createEncoder", "createDecoder", "assertByteArrayIsNotEmptyForCodec", "assertByteArrayHasEnoughBytesForCodec", "combineCodec", "struct", "type", "coerce", "mask", "validate", "tuple", "define", "f", "size", "regexp", "min", "max", "version", "URL", "module", "version", "module", "self", "err", "module", "EventEmitter", "Buffer", "endo", "f", "tv5", "c1", "c2", "r", "s", "generatePrivateKey", "ed25519", "utils", "randomPrivateKey", "generateKeypair", "privateScalar", "publicKey", "getPublicKey", "secretKey", "Uint8Array", "set", "isOnCurve", "ExtendedPoint", "fromHex", "sign", "message", "slice", "verify", "toBuffer", "arr", "Buffer", "isBuffer", "from", "buffer", "byteOffset", "byteLength", "Struct", "constructor", "properties", "Object", "assign", "encode", "serialize", "SOLANA_SCHEMA", "decode", "data", "deserialize", "decodeUnchecked", "deserializeUnchecked", "Enum", "enum", "keys", "length", "Error", "map", "key", "Map", "MAX_SEED_LENGTH", "PUBLIC_KEY_LENGTH", "isPublicKeyData", "value", "_bn", "undefined", "uniquePublicKeyCounter", "PublicKey", "decoded", "bs58", "BN", "unique", "equals", "eq", "toBase58", "toBytes", "toJSON", "buf", "b", "toArrayLike", "zeroPad", "alloc", "copy", "Symbol", "toStringTag", "toString", "createWithSeed", "fromPublicKey", "seed", "programId", "concat", "publicKeyBytes", "sha256", "createProgramAddressSync", "seeds", "forEach", "TypeError", "createProgramAddress", "findProgramAddressSync", "nonce", "address", "seedsWithNonce", "err", "findProgramAddress", "pubkeyData", "pubkey", "_PublicKey", "default", "kind", "fields", "Account", "_publicKey", "_secretKey", "secretKeyBuffer", "BPF_LOADER_DEPRECATED_PROGRAM_ID", "PACKET_DATA_SIZE", "VERSION_PREFIX_MASK", "SIGNATURE_LENGTH_IN_BYTES", "TransactionExpiredBlockheightExceededError", "signature", "defineProperty", "prototype", "TransactionExpiredTimeoutError", "timeoutSeconds", "toFixed", "TransactionExpiredNonceInvalidError", "MessageAccountKeys", "staticAccountKeys", "accountKeysFromLookups", "keySegments", "push", "writable", "readonly", "get", "index", "keySegment", "flat", "compileInstructions", "instructions", "U8_MAX", "keyIndexMap", "findKeyIndex", "keyIndex", "instruction", "programIdIndex", "accountKeyIndexes", "meta", "property", "BufferLayout", "blob", "rustString", "rsl", "struct", "u32", "offset", "_decode", "bind", "_encode", "rslShim", "str", "chars", "span", "authorized", "lockup", "ns64", "voteInit", "u8", "voteAuthorizeWithSeedArgs", "getAlloc", "type", "getItemAlloc", "item", "field", "Array", "isArray", "elementLayout", "layout", "decodeLength", "bytes", "len", "size", "elem", "shift", "encodeLength", "rem_len", "condition", "CompiledKeys", "payer", "keyMetaMap", "compile", "getOrInsertDefault", "keyMeta", "isSigner", "isWritable", "isInvoked", "payerKeyMeta", "ix", "accountMeta", "getMessageComponents", "mapEntries", "entries", "assert", "writableSigners", "filter", "readonlySigners", "writableNonSigners", "readonlyNonSigners", "header", "numRequiredSignatures", "numReadonlySignedAccounts", "numReadonlyUnsignedAccounts", "payerAddress", "extractTableLookup", "lookupTable", "writableIndexes", "drainedWritableKeys", "drainKeysFoundInLookupTable", "state", "addresses", "readonlyIndexes", "drainedReadonlyKeys", "accountKey", "lookupTableEntries", "keyMetaFilter", "lookupTableIndexes", "drainedKeys", "lookupTableIndex", "findIndex", "entry", "delete", "END_OF_BUFFER_ERROR_MESSAGE", "guardedShift", "byteArray", "guardedSplice", "args", "start", "splice", "Message", "accountKeys", "recentBlockhash", "indexToProgramIds", "account", "version", "compiledInstructions", "accounts", "addressTableLookups", "getAccountKeys", "compiledKeys", "payerKey", "isAccountSigner", "isAccountWritable", "numSignedAccounts", "unsignedAccountIndex", "numUnsignedAccounts", "numWritableUnsignedAccounts", "numWritableSignedAccounts", "isProgramId", "has", "programIds", "values", "nonProgramIds", "_", "numKeys", "keyCount", "shortvec", "keyIndicesCount", "dataCount", "keyIndices", "dataLength", "instructionCount", "instructionBuffer", "instructionBufferLength", "instructionLayout", "seq", "signDataLayout", "Layout", "transaction", "signData", "accountCount", "i", "dataSlice", "messageArgs", "MessageV0", "numAccountKeysFromLookups", "count", "lookup", "addressLookupTableAccounts", "resolveAddressTableLookups", "numStaticAccountKeys", "lookupAccountKeysIndex", "numWritableLookupAccountKeys", "reduce", "tableLookup", "tableAccount", "find", "lookupTableAccounts", "extractResult", "addressTableLookup", "encodedStaticAccountKeysLength", "serializedInstructions", "serializeInstructions", "encodedInstructionsLength", "serializedAddressTableLookups", "serializeAddressTableLookups", "encodedAddressTableLookupsLength", "messageLayout", "serializedMessage", "MESSAGE_VERSION_0_PREFIX", "serializedMessageLength", "prefix", "staticAccountKeysLength", "instructionsLength", "addressTableLookupsLength", "serializedLength", "encodedAccountKeyIndexesLength", "encodedDataLength", "encodedWritableIndexesLength", "encodedReadonlyIndexesLength", "addressTableLookupLayout", "maskedPrefix", "accountKeyIndexesLength", "addressTableLookupsCount", "writableIndexesLength", "readonlyIndexesLength", "VersionedMessage", "deserializeMessageVersion", "TransactionStatus", "DEFAULT_SIGNATURE", "fill", "TransactionInstruction", "opts", "Transaction", "signatures", "feePayer", "lastValidBlockHeight", "nonceInfo", "minNonceContextSlot", "_message", "_json", "hasOwnProperty", "call", "minContextSlot", "blockhash", "nonceInstruction", "signers", "add", "items", "compileMessage", "JSON", "stringify", "console", "warn", "accountMetas", "includes", "uniqueMetas", "pubkeyString", "uniqueIndex", "x", "sort", "y", "options", "localeMatcher", "usage", "sensitivity", "ignorePunctuation", "numeric", "caseFirst", "localeCompare", "feePayerIndex", "payerMeta", "unshift", "signedKeys", "unsignedKeys", "indexOf", "invariant", "_compile", "valid", "every", "pair", "serializeMessage", "getEstimatedFee", "connection", "getFeeForMessage", "setSigners", "seen", "Set", "uniqueSigners", "signer", "_partialSign", "partialSign", "_addSignature", "addSignature", "sigpair", "verifySignatures", "requireAllSignatures", "signatureErrors", "_getMessageSignednessErrors", "errors", "missing", "invalid", "config", "sigErrors", "errorMessage", "p", "join", "_serialize", "signatureCount", "transactionLength", "wireTransaction", "keyObj", "populate", "sigPubkeyPair", "some", "TransactionMessage", "decompile", "compiledIx", "compileToLegacyMessage", "compileToV0Message", "VersionedTransaction", "defaultSignatures", "encodedSignaturesLength", "transactionLayout", "serializedTransaction", "serializedTransactionLength", "signaturesLength", "messageData", "signerPubkeys", "signerIndex", "NUM_TICKS_PER_SECOND", "DEFAULT_TICKS_PER_SLOT", "NUM_SLOTS_PER_SECOND", "MS_PER_SLOT", "SYSVAR_CLOCK_PUBKEY", "SYSVAR_EPOCH_SCHEDULE_PUBKEY", "SYSVAR_INSTRUCTIONS_PUBKEY", "SYSVAR_RECENT_BLOCKHASHES_PUBKEY", "SYSVAR_RENT_PUBKEY", "SYSVAR_REWARDS_PUBKEY", "SYSVAR_SLOT_HASHES_PUBKEY", "SYSVAR_SLOT_HISTORY_PUBKEY", "SYSVAR_STAKE_HISTORY_PUBKEY", "SendTransactionError", "action", "transactionMessage", "logs", "maybeLogsOutput", "guideText", "a", "transactionLogs", "transactionError", "cachedLogs", "getLogs", "Promise", "resolve", "reject", "getTransaction", "then", "tx", "logMessages", "catch", "SolanaJSONRPCErrorCode", "JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP", "JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE", "JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE", "JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE", "JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY", "JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE", "JSON_RPC_SERVER_ERROR_SLOT_SKIPPED", "JSON_RPC_SERVER_ERROR_NO_SNAPSHOT", "JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED", "JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX", "JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE", "JSON_RPC_SCAN_ERROR", "JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH", "JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET", "JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION", "JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED", "SolanaJSONRPCError", "code", "customMessage", "name", "sendAndConfirmTransaction", "sendOptions", "skipPreflight", "preflightCommitment", "commitment", "maxRetries", "sendTransaction", "status", "confirmTransaction", "abortSignal", "nonceAccountPubkey", "nonceValue", "sleep", "ms", "setTimeout", "encodeData", "allocLength", "layoutFields", "decodeData", "FeeCalculatorLayout", "nu64", "NonceAccountLayout", "NONCE_ACCOUNT_LENGTH", "NonceAccount", "authorizedPubkey", "feeCalculator", "fromAccountData", "nonceAccount", "u64", "bigIntLayout", "codec", "getU64Codec", "src", "bigInt", "SystemInstruction", "decodeInstructionType", "checkProgramId", "instructionTypeLayout", "typeIndex", "ixType", "SYSTEM_INSTRUCTION_LAYOUTS", "decodeCreateAccount", "checkKeyLength", "lamports", "space", "Create", "fromPubkey", "newAccountPubkey", "decodeTransfer", "Transfer", "toPubkey", "decodeTransferWithSeed", "TransferWithSeed", "basePubkey", "decodeAllocate", "Allocate", "accountPubkey", "decodeAllocateWithSeed", "base", "AllocateWithSeed", "decodeAssign", "Assign", "decodeAssignWithSeed", "AssignWithSeed", "decodeCreateWithSeed", "CreateWithSeed", "decodeNonceInitialize", "InitializeNonceAccount", "noncePubkey", "decodeNonceAdvance", "AdvanceNonceAccount", "decodeNonceWithdraw", "WithdrawNonceAccount", "decodeNonceAuthorize", "AuthorizeNonceAccount", "newAuthorizedPubkey", "SystemProgram", "expectedLength", "freeze", "UpgradeNonceAccount", "createAccount", "params", "transfer", "BigInt", "createAccountWithSeed", "createNonceAccount", "initParams", "nonceInitialize", "instructionData", "nonceAdvance", "nonceWithdraw", "nonceAuthorize", "allocate", "CHUNK_SIZE", "Loader", "getMinNumSignatures", "Math", "ceil", "chunkSize", "load", "program", "balanceNeeded", "getMinimumBalanceForRentExemption", "programInfo", "getAccountInfo", "executable", "error", "owner", "dataLayout", "array", "transactions", "bytesLength", "bytesLengthPadding", "_rpcEndpoint", "REQUESTS_PER_SECOND", "all", "deployCommitment", "finalizeSignature", "context", "currentSlot", "getSlot", "slot", "round", "BPF_LOADER_PROGRAM_ID", "BpfLoader", "elf", "loaderProgramId", "fastStableStringify", "MINIMUM_SLOT_PER_EPOCH", "trailingZeros", "n", "nextPowerOfTwo", "EpochSchedule", "slotsPerEpoch", "leaderScheduleSlotOffset", "warmup", "firstNormalEpoch", "firstNormalSlot", "getEpoch", "getEpochAndSlotIndex", "epoch", "epochLen", "getSlotsInEpoch", "slotIndex", "normalSlotIndex", "normalEpochIndex", "floor", "getFirstSlotInEpoch", "pow", "getLastSlotInEpoch", "globalThis", "fetch", "RpcWebSocketClient", "CommonClient", "generate_request_id", "webSocketFactory", "url", "rpc", "createRpc", "autoconnect", "max_reconnects", "reconnect", "reconnect_interval", "underlyingSocket", "socket", "readyState", "notify", "LOOKUP_TABLE_META_SIZE", "AddressLookupTableAccount", "isActive", "U64_MAX", "deactivationSlot", "accountData", "LookupTableMetaLayout", "serializedAddressesLen", "numSerializedAddresses", "lastExtendedSlot", "lastExtendedSlotStartIndex", "lastExtendedStartIndex", "authority", "URL_RE", "makeWebsocketUrl", "endpoint", "matches", "match", "hostish", "portWithColon", "rest", "protocol", "startsWith", "startPort", "parseInt", "websocketPort", "PublicKeyFromString", "coerce", "instance", "string", "RawAccountDataResult", "tuple", "literal", "BufferFromRawAccountData", "BLOCKHASH_CACHE_TIMEOUT_MS", "assertEndpointUrl", "putativeUrl", "test", "extractCommitmentFromConfig", "commitmentOrConfig", "specifiedCommitment", "specifiedConfig", "applyDefaultMemcmpEncodingToFilters", "filters", "memcmp", "encoding", "createRpcResult", "result", "union", "pick", "jsonrpc", "id", "unknown", "optional", "any", "UnknownRpcResult", "jsonRpcResult", "schema", "create", "jsonRpcResultAndContext", "number", "notificationResultAndContext", "versionedMessageFromResponse", "response", "GetInflationGovernorResult", "foundation", "foundationTerm", "initial", "taper", "terminal", "GetInflationRewardResult", "nullable", "effectiveSlot", "amount", "postBalance", "commission", "GetRecentPrioritizationFeesResult", "prioritizationFee", "GetInflationRateResult", "total", "validator", "GetEpochInfoResult", "slotsInEpoch", "absoluteSlot", "blockHeight", "transactionCount", "GetEpochScheduleResult", "boolean", "GetLeaderScheduleResult", "record", "TransactionErrorResult", "SignatureStatusResult", "SignatureReceivedResult", "VersionResult", "ParsedInstructionStruct", "parsed", "PartiallyDecodedInstructionStruct", "SimulatedTransactionResponseStruct", "rentEpoch", "unitsConsumed", "returnData", "innerInstructions", "BlockProductionResponseStruct", "byIdentity", "range", "firstSlot", "lastSlot", "createRpcClient", "httpHeaders", "customFetch", "fetchMiddleware", "disableRetryOnRateLimit", "httpAgent", "fetchImpl", "agent", "fetchWithMiddleware", "info", "init", "modifiedFetchArgs", "modifiedInfo", "modifiedInit", "clientBrowser", "RpcClient", "request", "callback", "method", "body", "headers", "COMMON_HTTP_HEADERS", "too_many_requests_retries", "res", "waitTime", "statusText", "text", "ok", "createRpcRequest", "client", "createRpcBatchRequest", "requests", "batch", "methodName", "GetInflationGovernorRpcResult", "GetInflationRateRpcResult", "GetRecentPrioritizationFeesRpcResult", "GetEpochInfoRpcResult", "GetEpochScheduleRpcResult", "GetLeaderScheduleRpcResult", "SlotRpcResult", "GetSupplyRpcResult", "circulating", "nonCirculating", "nonCirculatingAccounts", "TokenAmountResult", "uiAmount", "decimals", "uiAmountString", "GetTokenLargestAccountsResult", "GetTokenAccountsByOwner", "ParsedAccountDataResult", "GetParsedTokenAccountsByOwner", "GetLargestAccountsRpcResult", "AccountInfoResult", "KeyedAccountInfoResult", "ParsedOrRawAccountData", "ParsedAccountInfoResult", "KeyedParsedAccountInfoResult", "StakeActivationResult", "active", "inactive", "GetConfirmedSignaturesForAddress2RpcResult", "memo", "blockTime", "GetSignaturesForAddressRpcResult", "AccountNotificationResult", "subscription", "ProgramAccountInfoResult", "ProgramAccountNotificationResult", "SlotInfoResult", "parent", "root", "SlotNotificationResult", "SlotUpdateResult", "timestamp", "stats", "numTransactionEntries", "numSuccessfulTransactions", "numFailedTransactions", "maxTransactionsPerEntry", "SlotUpdateNotificationResult", "SignatureNotificationResult", "RootNotificationResult", "ContactInfoResult", "gossip", "tpu", "VoteAccountInfoResult", "votePubkey", "nodePubkey", "activatedStake", "epochVoteAccount", "epochCredits", "lastVote", "rootSlot", "GetVoteAccounts", "current", "delinquent", "ConfirmationStatus", "SignatureStatusResponse", "confirmations", "confirmationStatus", "GetSignatureStatusesRpcResult", "GetMinimumBalanceForRentExemptionRpcResult", "AddressTableLookupStruct", "ConfirmedTransactionResult", "AnnotatedAccountKey", "source", "ConfirmedTransactionAccountsModeResult", "ParsedInstructionResult", "RawInstructionResult", "InstructionResult", "UnknownInstructionResult", "ParsedOrRawInstruction", "ParsedConfirmedTransactionResult", "TokenBalanceResult", "accountIndex", "mint", "uiTokenAmount", "LoadedAddressesResult", "ConfirmedTransactionMetaResult", "fee", "preBalances", "postBalances", "preTokenBalances", "postTokenBalances", "loadedAddresses", "computeUnitsConsumed", "costUnits", "ParsedConfirmedTransactionMetaResult", "TransactionVersionStruct", "RewardsResult", "rewardType", "GetBlockRpcResult", "previousBlockhash", "parentSlot", "rewards", "GetNoneModeBlockRpcResult", "GetAccountsModeBlockRpcResult", "GetParsedBlockRpcResult", "GetParsedAccountsModeBlockRpcResult", "GetParsedNoneModeBlockRpcResult", "GetConfirmedBlockRpcResult", "GetBlockSignaturesRpcResult", "GetTransactionRpcResult", "GetParsedTransactionRpcResult", "GetLatestBlockhashRpcResult", "IsBlockhashValidRpcResult", "PerfSampleResult", "numTransactions", "numSlots", "samplePeriodSecs", "GetRecentPerformanceSamplesRpcResult", "GetFeeCalculatorRpcResult", "lamportsPerSignature", "RequestAirdropRpcResult", "SendTransactionRpcResult", "LogsResult", "LogsNotificationResult", "process", "Connection", "_commitment", "_confirmTransactionInitialTimeout", "_rpcWsEndpoint", "_rpcClient", "_rpcRequest", "_rpcBatchRequest", "_rpcWebSocket", "_rpcWebSocketConnected", "_rpcWebSocketHeartbeat", "_rpcWebSocketIdleTimeout", "_rpcWebSocketGeneration", "_disableBlockhashCaching", "_pollingBlockhash", "_blockhashInfo", "latestBlockhash", "lastFetch", "transactionSignatures", "simulatedSignatures", "_nextClientSubscriptionId", "_subscriptionDisposeFunctionsByClientSubscriptionId", "_subscriptionHashByClientSubscriptionId", "_subscriptionStateChangeCallbacksByHash", "_subscriptionCallbacksByServerSubscriptionId", "_subscriptionsByHash", "_subscriptionsAutoDisposedByRpc", "getBlockHeight", "requestPromises", "_buildArgs", "requestHash", "unsafeRes", "wsEndpoint", "confirmTransactionInitialTimeout", "Infinity", "on", "_wsOnOpen", "_wsOnError", "_wsOnClose", "_wsOnAccountNotification", "_wsOnProgramAccountNotification", "_wsOnSlotNotification", "_wsOnSlotUpdatesNotification", "_wsOnSignatureNotification", "_wsOnRootNotification", "_wsOnLogsNotification", "rpcEndpoint", "getBalanceAndContext", "getBalance", "e", "getBlockTime", "getMinimumLedgerSlot", "getFirstAvailableBlock", "getSupply", "configArg", "getTokenSupply", "tokenMintAddress", "getTokenAccountBalance", "tokenAddress", "getTokenAccountsByOwner", "ownerAddress", "_args", "getParsedTokenAccountsByOwner", "getLargestAccounts", "arg", "getTokenLargestAccounts", "mintAddress", "getAccountInfoAndContext", "getParsedAccountInfo", "getMultipleParsedAccounts", "publicKeys", "rawConfig", "getMultipleAccountsInfoAndContext", "getMultipleAccountsInfo", "getStakeActivation", "getProgramAccounts", "configOrCommitment", "configWithoutEncoding", "baseSchema", "withContext", "getParsedProgramAccounts", "strategy", "rawSignature", "aborted", "reason", "decodedSignature", "confirmTransactionUsingLegacyTimeoutStrategy", "confirmTransactionUsingBlockHeightExceedanceStrategy", "confirmTransactionUsingDurableNonceStrategy", "getCancellationPromise", "signal", "addEventListener", "getTransactionConfirmationPromise", "signatureSubscriptionId", "disposeSignatureSubscriptionStateChangeObserver", "done", "confirmationPromise", "onSignature", "__type", "PROCESSED", "subscriptionSetupPromise", "resolveSubscriptionSetup", "_onSubscriptionStateChange", "nextState", "getSignatureStatus", "abortConfirmation", "removeSignatureListener", "expiryPromise", "checkBlockHeight", "_e", "currentBlockHeight", "BLOCKHEIGHT_EXCEEDED", "cancellationPromise", "outcome", "race", "currentNonceValue", "lastCheckedSlot", "getCurrentNonceValue", "getNonceAndContext", "NONCE_INVALID", "slotInWhichNonceDidAdvance", "signatureStatus", "commitmentForStatus", "timeoutId", "timeoutMs", "TIMED_OUT", "clearTimeout", "getClusterNodes", "getVoteAccounts", "getSlotLeader", "getSlotLeaders", "startSlot", "limit", "getSignatureStatuses", "getTransactionCount", "getTotalSupply", "excludeNonCirculatingAccountsList", "getInflationGovernor", "getInflationReward", "getInflationRate", "getEpochInfo", "getEpochSchedule", "epochSchedule", "getLeaderSchedule", "getRecentBlockhashAndContext", "getLatestBlockhashAndContext", "getRecentPerformanceSamples", "getFeeCalculatorForBlockhash", "wireMessage", "getRecentPrioritizationFees", "lockedWritableAccounts", "getRecentBlockhash", "getLatestBlockhash", "isBlockhashValid", "getVersion", "getGenesisHash", "getBlock", "_buildArgsAtLeastConfirmed", "transactionDetails", "getParsedBlock", "getBlockProduction", "extra", "c", "getParsedTransaction", "getParsedTransactions", "getTransactions", "getConfirmedBlock", "block", "getBlocks", "endSlot", "getBlockSignatures", "getConfirmedBlockSignatures", "getConfirmedTransaction", "getParsedConfirmedTransaction", "getParsedConfirmedTransactions", "getConfirmedSignaturesForAddress", "firstAvailableBlock", "until", "highestConfirmedRoot", "before", "confirmedSignatureInfo", "getConfirmedSignaturesForAddress2", "getSignaturesForAddress", "getAddressLookupTable", "accountInfo", "getNonce", "requestAirdrop", "to", "_blockhashWithExpiryBlockHeight", "disableCache", "timeSinceFetch", "Date", "now", "expired", "_pollNewBlockhash", "startTime", "cachedLatestBlockhash", "cachedBlockhash", "getStakeMinimumDelegation", "simulateTransaction", "transactionOrMessage", "configOrSigners", "includeAccounts", "versionedTx", "encodedTransaction", "originalTx", "sigVerify", "traceIndent", "logTrace", "signersOrOptions", "sendRawTransaction", "rawTransaction", "sendEncodedTransaction", "setInterval", "_updateSubscriptions", "Number", "MAX_SAFE_INTEGER", "clearInterval", "hash", "_setSubscription", "nextSubscription", "prevState", "stateChangeCallbacks", "cb", "clientSubscriptionId", "close", "log", "connect", "activeWebSocketGeneration", "isCurrentConnectionStillActive", "callbacks", "serverSubscriptionId", "unsubscribeMethod", "_handleServerNotification", "callbackArgs", "notification", "_makeSubscription", "subscriptionConfig", "existingSubscription", "onAccountChange", "removeAccountChangeListener", "_unsubscribeClientSubscription", "accountId", "onProgramAccountChange", "maybeFilters", "removeProgramAccountChangeListener", "onLogs", "mentions", "removeOnLogsListener", "onSlotChange", "removeSlotChangeListener", "onSlotUpdate", "removeSlotUpdateListener", "subscriptionName", "dispose", "override", "_err", "onSignatureWithOptions", "onRootChange", "removeRootChangeListener", "Keypair", "keypair", "_keypair", "generate", "fromSecretKey", "skipValidation", "computedPublicKey", "ii", "fromSeed", "LOOKUP_TABLE_INSTRUCTION_LAYOUTS", "CreateLookupTable", "bigintLayout", "FreezeLookupTable", "ExtendLookupTable", "DeactivateLookupTable", "CloseLookupTable", "AddressLookupTableInstruction", "layoutType", "decodeCreateLookupTable", "checkKeysLength", "recentSlot", "decodeExtendLookupTable", "decodeCloseLookupTable", "recipient", "decodeFreezeLookupTable", "decodeDeactivateLookupTable", "AddressLookupTableProgram", "createLookupTable", "lookupTableAddress", "bumpSeed", "getU64Encoder", "freezeLookupTable", "extendLookupTable", "addr", "deactivateLookupTable", "closeLookupTable", "ComputeBudgetInstruction", "COMPUTE_BUDGET_INSTRUCTION_LAYOUTS", "decodeRequestUnits", "units", "additionalFee", "RequestUnits", "decodeRequestHeapFrame", "RequestHeapFrame", "decodeSetComputeUnitLimit", "SetComputeUnitLimit", "decodeSetComputeUnitPrice", "microLamports", "SetComputeUnitPrice", "ComputeBudgetProgram", "requestUnits", "requestHeapFrame", "setComputeUnitLimit", "setComputeUnitPrice", "PRIVATE_KEY_BYTES", "PUBLIC_KEY_BYTES", "SIGNATURE_BYTES", "ED25519_INSTRUCTION_LAYOUT", "u16", "Ed25519Program", "createInstructionWithPublicKey", "instructionIndex", "publicKeyOffset", "signatureOffset", "messageDataOffset", "numSignatures", "padding", "signatureInstructionIndex", "publicKeyInstructionIndex", "messageDataSize", "messageInstructionIndex", "createInstructionWithPrivateKey", "privateKey", "ecdsaSign", "msgHash", "privKey", "secp256k1", "toCompactRawBytes", "recovery", "isValidPrivateKey", "publicKeyCreate", "ETHEREUM_ADDRESS_BYTES", "SIGNATURE_OFFSETS_SERIALIZED_SIZE", "SECP256K1_INSTRUCTION_LAYOUT", "Secp256k1Program", "publicKeyToEthAddress", "keccak_256", "recoveryId", "createInstructionWithEthAddress", "ethAddress", "rawAddress", "substr", "dataStart", "ethAddressOffset", "ethAddressInstructionIndex", "pkey", "messageHash", "STAKE_CONFIG_ID", "Authorized", "staker", "withdrawer", "Lockup", "unixTimestamp", "custodian", "_Lockup", "StakeInstruction", "STAKE_INSTRUCTION_LAYOUTS", "decodeInitialize", "Initialize", "stakePubkey", "decodeDelegate", "Delegate", "decodeAuthorize", "newAuthorized", "stakeAuthorizationType", "Authorize", "o", "custodianPubkey", "decodeAuthorizeWithSeed", "authoritySeed", "authorityOwner", "AuthorizeWithSeed", "authorityBase", "decodeSplit", "Split", "splitStakePubkey", "decodeMerge", "Merge", "sourceStakePubKey", "decodeWithdraw", "Withdraw", "decodeDeactivate", "Deactivate", "StakeProgram", "StakeAuthorizationLayout", "Staker", "Withdrawer", "initialize", "maybeLockup", "delegate", "authorize", "authorizeWithSeed", "splitInstruction", "split", "rentExemptReserve", "splitWithSeed", "merge", "withdraw", "deactivate", "VoteInit", "authorizedVoter", "authorizedWithdrawer", "VoteInstruction", "VOTE_INSTRUCTION_LAYOUTS", "decodeInitializeAccount", "InitializeAccount", "voteAuthorizationType", "currentAuthorityDerivedKeyOwnerPubkey", "currentAuthorityDerivedKeySeed", "currentAuthorityDerivedKeyBasePubkey", "authorizedWithdrawerPubkey", "VoteProgram", "UpdateValidatorIdentity", "VoteAuthorizationLayout", "Voter", "initializeAccount", "safeWithdraw", "currentVoteAccountBalance", "rentExemptMinimum", "updateValidatorIdentity", "VALIDATOR_INFO_KEY", "InfoString", "website", "details", "iconUrl", "keybaseUsername", "ValidatorInfo", "fromConfigData", "configKeyCount", "configKeys", "rawInfo", "parse", "assertType", "VOTE_PROGRAM_ID", "VoteAccountLayout", "VoteAccount", "votes", "authorizedVoters", "priorVoters", "lastTimestamp", "versionOffset", "va", "rootSlotValid", "parseAuthorizedVoter", "getPriorVoters", "parsePriorVoters", "epochOfLastAuthorizedSwitch", "targetEpoch", "idx", "isEmpty", "http", "devnet", "testnet", "https", "clusterApiUrl", "cluster", "tls", "sendAndConfirmRawTransaction", "confirmationStrategyOrConfirmOptions", "maybeConfirmOptions", "confirmationStrategy", "LAMPORTS_PER_SOL", "f", "ptr", "module", "v1", "initWASM", "generateRangeProof", "verifyRangeProof", "isWASMSupported", "require_src", "module", "i", "j", "require_bs58", "module", "ShadowWireClient"]
}
